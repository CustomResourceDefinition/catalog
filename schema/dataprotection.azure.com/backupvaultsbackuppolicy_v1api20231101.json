{
  "type": "object",
  "properties": {
    "apiVersion": {
      "type": "string"
    },
    "kind": {
      "type": "string"
    },
    "metadata": {
      "type": "object"
    },
    "spec": {
      "type": "object",
      "required": [
        "owner"
      ],
      "properties": {
        "azureName": {
          "type": "string"
        },
        "operatorSpec": {
          "type": "object",
          "properties": {
            "configMapExpressions": {
              "type": "array",
              "items": {
                "type": "object",
                "required": [
                  "name",
                  "value"
                ],
                "properties": {
                  "key": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "value": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              }
            },
            "secretExpressions": {
              "type": "array",
              "items": {
                "type": "object",
                "required": [
                  "name",
                  "value"
                ],
                "properties": {
                  "key": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "value": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              }
            }
          },
          "additionalProperties": false
        },
        "owner": {
          "type": "object",
          "properties": {
            "armId": {
              "type": "string",
              "pattern": "(?i)(^(/subscriptions/([^/]+)(/resourcegroups/([^/]+))?)?/providers/([^/]+)/([^/]+/[^/]+)(/([^/]+/[^/]+))*$|^/subscriptions/([^/]+)(/resourcegroups/([^/]+))?$)"
            },
            "name": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "properties": {
          "type": "object",
          "properties": {
            "backupPolicy": {
              "type": "object",
              "required": [
                "datasourceTypes",
                "objectType",
                "policyRules"
              ],
              "properties": {
                "datasourceTypes": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "objectType": {
                  "type": "string",
                  "enum": [
                    "BackupPolicy"
                  ]
                },
                "policyRules": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "azureBackupRule": {
                        "type": "object",
                        "required": [
                          "dataStore",
                          "name",
                          "objectType",
                          "trigger"
                        ],
                        "properties": {
                          "backupParameters": {
                            "type": "object",
                            "properties": {
                              "azureBackupParams": {
                                "type": "object",
                                "required": [
                                  "backupType",
                                  "objectType"
                                ],
                                "properties": {
                                  "backupType": {
                                    "type": "string"
                                  },
                                  "objectType": {
                                    "type": "string",
                                    "enum": [
                                      "AzureBackupParams"
                                    ]
                                  }
                                },
                                "additionalProperties": false
                              }
                            },
                            "additionalProperties": false
                          },
                          "dataStore": {
                            "type": "object",
                            "required": [
                              "dataStoreType",
                              "objectType"
                            ],
                            "properties": {
                              "dataStoreType": {
                                "type": "string",
                                "enum": [
                                  "ArchiveStore",
                                  "OperationalStore",
                                  "VaultStore"
                                ]
                              },
                              "objectType": {
                                "type": "string"
                              }
                            },
                            "additionalProperties": false
                          },
                          "name": {
                            "type": "string"
                          },
                          "objectType": {
                            "type": "string",
                            "enum": [
                              "AzureBackupRule"
                            ]
                          },
                          "trigger": {
                            "type": "object",
                            "properties": {
                              "adhocBasedTriggerContext": {
                                "type": "object",
                                "required": [
                                  "objectType",
                                  "taggingCriteria"
                                ],
                                "properties": {
                                  "objectType": {
                                    "type": "string",
                                    "enum": [
                                      "AdhocBasedTriggerContext"
                                    ]
                                  },
                                  "taggingCriteria": {
                                    "type": "object",
                                    "properties": {
                                      "tagInfo": {
                                        "type": "object",
                                        "required": [
                                          "tagName"
                                        ],
                                        "properties": {
                                          "tagName": {
                                            "type": "string"
                                          }
                                        },
                                        "additionalProperties": false
                                      }
                                    },
                                    "additionalProperties": false
                                  }
                                },
                                "additionalProperties": false
                              },
                              "scheduleBasedTriggerContext": {
                                "type": "object",
                                "required": [
                                  "objectType",
                                  "schedule",
                                  "taggingCriteria"
                                ],
                                "properties": {
                                  "objectType": {
                                    "type": "string",
                                    "enum": [
                                      "ScheduleBasedTriggerContext"
                                    ]
                                  },
                                  "schedule": {
                                    "type": "object",
                                    "required": [
                                      "repeatingTimeIntervals"
                                    ],
                                    "properties": {
                                      "repeatingTimeIntervals": {
                                        "type": "array",
                                        "items": {
                                          "type": "string"
                                        }
                                      },
                                      "timeZone": {
                                        "type": "string"
                                      }
                                    },
                                    "additionalProperties": false
                                  },
                                  "taggingCriteria": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "required": [
                                        "isDefault",
                                        "tagInfo",
                                        "taggingPriority"
                                      ],
                                      "properties": {
                                        "criteria": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "properties": {
                                              "scheduleBasedBackupCriteria": {
                                                "type": "object",
                                                "required": [
                                                  "objectType"
                                                ],
                                                "properties": {
                                                  "absoluteCriteria": {
                                                    "type": "array",
                                                    "items": {
                                                      "type": "string",
                                                      "enum": [
                                                        "AllBackup",
                                                        "FirstOfDay",
                                                        "FirstOfMonth",
                                                        "FirstOfWeek",
                                                        "FirstOfYear"
                                                      ]
                                                    }
                                                  },
                                                  "daysOfMonth": {
                                                    "type": "array",
                                                    "items": {
                                                      "type": "object",
                                                      "properties": {
                                                        "date": {
                                                          "type": "integer"
                                                        },
                                                        "isLast": {
                                                          "type": "boolean"
                                                        }
                                                      },
                                                      "additionalProperties": false
                                                    }
                                                  },
                                                  "daysOfTheWeek": {
                                                    "type": "array",
                                                    "items": {
                                                      "type": "string",
                                                      "enum": [
                                                        "Friday",
                                                        "Monday",
                                                        "Saturday",
                                                        "Sunday",
                                                        "Thursday",
                                                        "Tuesday",
                                                        "Wednesday"
                                                      ]
                                                    }
                                                  },
                                                  "monthsOfYear": {
                                                    "type": "array",
                                                    "items": {
                                                      "type": "string",
                                                      "enum": [
                                                        "April",
                                                        "August",
                                                        "December",
                                                        "February",
                                                        "January",
                                                        "July",
                                                        "June",
                                                        "March",
                                                        "May",
                                                        "November",
                                                        "October",
                                                        "September"
                                                      ]
                                                    }
                                                  },
                                                  "objectType": {
                                                    "type": "string",
                                                    "enum": [
                                                      "ScheduleBasedBackupCriteria"
                                                    ]
                                                  },
                                                  "scheduleTimes": {
                                                    "type": "array",
                                                    "items": {
                                                      "type": "string"
                                                    }
                                                  },
                                                  "weeksOfTheMonth": {
                                                    "type": "array",
                                                    "items": {
                                                      "type": "string",
                                                      "enum": [
                                                        "First",
                                                        "Fourth",
                                                        "Last",
                                                        "Second",
                                                        "Third"
                                                      ]
                                                    }
                                                  }
                                                },
                                                "additionalProperties": false
                                              }
                                            },
                                            "additionalProperties": false
                                          }
                                        },
                                        "isDefault": {
                                          "type": "boolean"
                                        },
                                        "tagInfo": {
                                          "type": "object",
                                          "required": [
                                            "tagName"
                                          ],
                                          "properties": {
                                            "tagName": {
                                              "type": "string"
                                            }
                                          },
                                          "additionalProperties": false
                                        },
                                        "taggingPriority": {
                                          "type": "integer"
                                        }
                                      },
                                      "additionalProperties": false
                                    }
                                  }
                                },
                                "additionalProperties": false
                              }
                            },
                            "additionalProperties": false
                          }
                        },
                        "additionalProperties": false
                      },
                      "azureRetentionRule": {
                        "type": "object",
                        "required": [
                          "lifecycles",
                          "name",
                          "objectType"
                        ],
                        "properties": {
                          "isDefault": {
                            "type": "boolean"
                          },
                          "lifecycles": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "required": [
                                "deleteAfter",
                                "sourceDataStore"
                              ],
                              "properties": {
                                "deleteAfter": {
                                  "type": "object",
                                  "properties": {
                                    "absoluteDeleteOption": {
                                      "type": "object",
                                      "required": [
                                        "duration",
                                        "objectType"
                                      ],
                                      "properties": {
                                        "duration": {
                                          "type": "string"
                                        },
                                        "objectType": {
                                          "type": "string",
                                          "enum": [
                                            "AbsoluteDeleteOption"
                                          ]
                                        }
                                      },
                                      "additionalProperties": false
                                    }
                                  },
                                  "additionalProperties": false
                                },
                                "sourceDataStore": {
                                  "type": "object",
                                  "required": [
                                    "dataStoreType",
                                    "objectType"
                                  ],
                                  "properties": {
                                    "dataStoreType": {
                                      "type": "string",
                                      "enum": [
                                        "ArchiveStore",
                                        "OperationalStore",
                                        "VaultStore"
                                      ]
                                    },
                                    "objectType": {
                                      "type": "string"
                                    }
                                  },
                                  "additionalProperties": false
                                },
                                "targetDataStoreCopySettings": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "required": [
                                      "copyAfter",
                                      "dataStore"
                                    ],
                                    "properties": {
                                      "copyAfter": {
                                        "type": "object",
                                        "properties": {
                                          "copyOnExpiryOption": {
                                            "type": "object",
                                            "required": [
                                              "objectType"
                                            ],
                                            "properties": {
                                              "objectType": {
                                                "type": "string",
                                                "enum": [
                                                  "CopyOnExpiryOption"
                                                ]
                                              }
                                            },
                                            "additionalProperties": false
                                          },
                                          "customCopyOption": {
                                            "type": "object",
                                            "required": [
                                              "objectType"
                                            ],
                                            "properties": {
                                              "duration": {
                                                "type": "string"
                                              },
                                              "objectType": {
                                                "type": "string",
                                                "enum": [
                                                  "CustomCopyOption"
                                                ]
                                              }
                                            },
                                            "additionalProperties": false
                                          },
                                          "immediateCopyOption": {
                                            "type": "object",
                                            "required": [
                                              "objectType"
                                            ],
                                            "properties": {
                                              "objectType": {
                                                "type": "string",
                                                "enum": [
                                                  "ImmediateCopyOption"
                                                ]
                                              }
                                            },
                                            "additionalProperties": false
                                          }
                                        },
                                        "additionalProperties": false
                                      },
                                      "dataStore": {
                                        "type": "object",
                                        "required": [
                                          "dataStoreType",
                                          "objectType"
                                        ],
                                        "properties": {
                                          "dataStoreType": {
                                            "type": "string",
                                            "enum": [
                                              "ArchiveStore",
                                              "OperationalStore",
                                              "VaultStore"
                                            ]
                                          },
                                          "objectType": {
                                            "type": "string"
                                          }
                                        },
                                        "additionalProperties": false
                                      }
                                    },
                                    "additionalProperties": false
                                  }
                                }
                              },
                              "additionalProperties": false
                            }
                          },
                          "name": {
                            "type": "string"
                          },
                          "objectType": {
                            "type": "string",
                            "enum": [
                              "AzureRetentionRule"
                            ]
                          }
                        },
                        "additionalProperties": false
                      }
                    },
                    "additionalProperties": false
                  }
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "status": {
      "type": "object",
      "properties": {
        "conditions": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "lastTransitionTime",
              "reason",
              "status",
              "type"
            ],
            "properties": {
              "lastTransitionTime": {
                "type": "string",
                "format": "date-time"
              },
              "message": {
                "type": "string"
              },
              "observedGeneration": {
                "type": "integer",
                "format": "int64"
              },
              "reason": {
                "type": "string"
              },
              "severity": {
                "type": "string"
              },
              "status": {
                "type": "string"
              },
              "type": {
                "type": "string"
              }
            },
            "additionalProperties": false
          }
        },
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "properties": {
          "type": "object",
          "properties": {
            "backupPolicy": {
              "type": "object",
              "properties": {
                "datasourceTypes": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "objectType": {
                  "type": "string"
                },
                "policyRules": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "azureBackupRule": {
                        "type": "object",
                        "properties": {
                          "backupParameters": {
                            "type": "object",
                            "properties": {
                              "azureBackupParams": {
                                "type": "object",
                                "properties": {
                                  "backupType": {
                                    "type": "string"
                                  },
                                  "objectType": {
                                    "type": "string"
                                  }
                                },
                                "additionalProperties": false
                              }
                            },
                            "additionalProperties": false
                          },
                          "dataStore": {
                            "type": "object",
                            "properties": {
                              "dataStoreType": {
                                "type": "string"
                              },
                              "objectType": {
                                "type": "string"
                              }
                            },
                            "additionalProperties": false
                          },
                          "name": {
                            "type": "string"
                          },
                          "objectType": {
                            "type": "string"
                          },
                          "trigger": {
                            "type": "object",
                            "properties": {
                              "adhocBasedTriggerContext": {
                                "type": "object",
                                "properties": {
                                  "objectType": {
                                    "type": "string"
                                  },
                                  "taggingCriteria": {
                                    "type": "object",
                                    "properties": {
                                      "tagInfo": {
                                        "type": "object",
                                        "properties": {
                                          "eTag": {
                                            "type": "string"
                                          },
                                          "id": {
                                            "type": "string"
                                          },
                                          "tagName": {
                                            "type": "string"
                                          }
                                        },
                                        "additionalProperties": false
                                      }
                                    },
                                    "additionalProperties": false
                                  }
                                },
                                "additionalProperties": false
                              },
                              "scheduleBasedTriggerContext": {
                                "type": "object",
                                "properties": {
                                  "objectType": {
                                    "type": "string"
                                  },
                                  "schedule": {
                                    "type": "object",
                                    "properties": {
                                      "repeatingTimeIntervals": {
                                        "type": "array",
                                        "items": {
                                          "type": "string"
                                        }
                                      },
                                      "timeZone": {
                                        "type": "string"
                                      }
                                    },
                                    "additionalProperties": false
                                  },
                                  "taggingCriteria": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "criteria": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "properties": {
                                              "scheduleBasedBackupCriteria": {
                                                "type": "object",
                                                "properties": {
                                                  "absoluteCriteria": {
                                                    "type": "array",
                                                    "items": {
                                                      "type": "string"
                                                    }
                                                  },
                                                  "daysOfMonth": {
                                                    "type": "array",
                                                    "items": {
                                                      "type": "object",
                                                      "properties": {
                                                        "date": {
                                                          "type": "integer"
                                                        },
                                                        "isLast": {
                                                          "type": "boolean"
                                                        }
                                                      },
                                                      "additionalProperties": false
                                                    }
                                                  },
                                                  "daysOfTheWeek": {
                                                    "type": "array",
                                                    "items": {
                                                      "type": "string"
                                                    }
                                                  },
                                                  "monthsOfYear": {
                                                    "type": "array",
                                                    "items": {
                                                      "type": "string"
                                                    }
                                                  },
                                                  "objectType": {
                                                    "type": "string"
                                                  },
                                                  "scheduleTimes": {
                                                    "type": "array",
                                                    "items": {
                                                      "type": "string"
                                                    }
                                                  },
                                                  "weeksOfTheMonth": {
                                                    "type": "array",
                                                    "items": {
                                                      "type": "string"
                                                    }
                                                  }
                                                },
                                                "additionalProperties": false
                                              }
                                            },
                                            "additionalProperties": false
                                          }
                                        },
                                        "isDefault": {
                                          "type": "boolean"
                                        },
                                        "tagInfo": {
                                          "type": "object",
                                          "properties": {
                                            "eTag": {
                                              "type": "string"
                                            },
                                            "id": {
                                              "type": "string"
                                            },
                                            "tagName": {
                                              "type": "string"
                                            }
                                          },
                                          "additionalProperties": false
                                        },
                                        "taggingPriority": {
                                          "type": "integer"
                                        }
                                      },
                                      "additionalProperties": false
                                    }
                                  }
                                },
                                "additionalProperties": false
                              }
                            },
                            "additionalProperties": false
                          }
                        },
                        "additionalProperties": false
                      },
                      "azureRetentionRule": {
                        "type": "object",
                        "properties": {
                          "isDefault": {
                            "type": "boolean"
                          },
                          "lifecycles": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "deleteAfter": {
                                  "type": "object",
                                  "properties": {
                                    "absoluteDeleteOption": {
                                      "type": "object",
                                      "properties": {
                                        "duration": {
                                          "type": "string"
                                        },
                                        "objectType": {
                                          "type": "string"
                                        }
                                      },
                                      "additionalProperties": false
                                    }
                                  },
                                  "additionalProperties": false
                                },
                                "sourceDataStore": {
                                  "type": "object",
                                  "properties": {
                                    "dataStoreType": {
                                      "type": "string"
                                    },
                                    "objectType": {
                                      "type": "string"
                                    }
                                  },
                                  "additionalProperties": false
                                },
                                "targetDataStoreCopySettings": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "copyAfter": {
                                        "type": "object",
                                        "properties": {
                                          "copyOnExpiryOption": {
                                            "type": "object",
                                            "properties": {
                                              "objectType": {
                                                "type": "string"
                                              }
                                            },
                                            "additionalProperties": false
                                          },
                                          "customCopyOption": {
                                            "type": "object",
                                            "properties": {
                                              "duration": {
                                                "type": "string"
                                              },
                                              "objectType": {
                                                "type": "string"
                                              }
                                            },
                                            "additionalProperties": false
                                          },
                                          "immediateCopyOption": {
                                            "type": "object",
                                            "properties": {
                                              "objectType": {
                                                "type": "string"
                                              }
                                            },
                                            "additionalProperties": false
                                          }
                                        },
                                        "additionalProperties": false
                                      },
                                      "dataStore": {
                                        "type": "object",
                                        "properties": {
                                          "dataStoreType": {
                                            "type": "string"
                                          },
                                          "objectType": {
                                            "type": "string"
                                          }
                                        },
                                        "additionalProperties": false
                                      }
                                    },
                                    "additionalProperties": false
                                  }
                                }
                              },
                              "additionalProperties": false
                            }
                          },
                          "name": {
                            "type": "string"
                          },
                          "objectType": {
                            "type": "string"
                          }
                        },
                        "additionalProperties": false
                      }
                    },
                    "additionalProperties": false
                  }
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        },
        "systemData": {
          "type": "object",
          "properties": {
            "createdAt": {
              "type": "string"
            },
            "createdBy": {
              "type": "string"
            },
            "createdByType": {
              "type": "string"
            },
            "lastModifiedAt": {
              "type": "string"
            },
            "lastModifiedBy": {
              "type": "string"
            },
            "lastModifiedByType": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "type": {
          "type": "string"
        }
      },
      "additionalProperties": false
    }
  }
}
