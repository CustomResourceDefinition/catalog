{
  "type": "object",
  "properties": {
    "apiVersion": {
      "type": "string"
    },
    "kind": {
      "type": "string"
    },
    "metadata": {
      "type": "object"
    },
    "spec": {
      "type": "object",
      "properties": {
        "bgp": {
          "type": "object",
          "properties": {
            "bfdProfiles": {
              "type": "array",
              "items": {
                "type": "object",
                "required": [
                  "name"
                ],
                "properties": {
                  "detectMultiplier": {
                    "type": "integer",
                    "format": "int32",
                    "maximum": 255,
                    "minimum": 2
                  },
                  "echoInterval": {
                    "type": "integer",
                    "format": "int32",
                    "maximum": 60000,
                    "minimum": 10
                  },
                  "echoMode": {
                    "type": "boolean"
                  },
                  "minimumTtl": {
                    "type": "integer",
                    "format": "int32",
                    "maximum": 254,
                    "minimum": 1
                  },
                  "name": {
                    "type": "string"
                  },
                  "passiveMode": {
                    "type": "boolean"
                  },
                  "receiveInterval": {
                    "type": "integer",
                    "format": "int32",
                    "maximum": 60000,
                    "minimum": 10
                  },
                  "transmitInterval": {
                    "type": "integer",
                    "format": "int32",
                    "maximum": 60000,
                    "minimum": 10
                  }
                },
                "additionalProperties": false
              }
            },
            "routers": {
              "type": "array",
              "items": {
                "type": "object",
                "required": [
                  "asn"
                ],
                "properties": {
                  "asn": {
                    "type": "integer",
                    "format": "int32",
                    "maximum": 4294967295,
                    "minimum": 0
                  },
                  "id": {
                    "type": "string"
                  },
                  "imports": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "vrf": {
                          "type": "string"
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "neighbors": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "address": {
                          "type": "string"
                        },
                        "asn": {
                          "type": "integer",
                          "format": "int32",
                          "maximum": 4294967295,
                          "minimum": 0
                        },
                        "bfdProfile": {
                          "type": "string"
                        },
                        "connectTime": {
                          "type": "string",
                          "x-kubernetes-validations": [
                            {
                              "rule": "duration(self).getSeconds() \u003e= 1 \u0026\u0026 duration(self).getSeconds() \u003c= 65535",
                              "message": "connect time should be between 1 seconds to 65535"
                            },
                            {
                              "rule": "duration(self).getMilliseconds() % 1000 == 0",
                              "message": "connect time should contain a whole number of seconds"
                            }
                          ]
                        },
                        "disableMP": {
                          "type": "boolean",
                          "default": false
                        },
                        "dualStackAddressFamily": {
                          "type": "boolean",
                          "default": false
                        },
                        "dynamicASN": {
                          "type": "string",
                          "enum": [
                            "internal",
                            "external"
                          ]
                        },
                        "ebgpMultiHop": {
                          "type": "boolean"
                        },
                        "enableGracefulRestart": {
                          "type": "boolean"
                        },
                        "holdTime": {
                          "type": "string"
                        },
                        "interface": {
                          "type": "string"
                        },
                        "keepaliveTime": {
                          "type": "string"
                        },
                        "password": {
                          "type": "string"
                        },
                        "passwordSecret": {
                          "type": "object",
                          "properties": {
                            "name": {
                              "type": "string"
                            },
                            "namespace": {
                              "type": "string"
                            }
                          },
                          "additionalProperties": false,
                          "x-kubernetes-map-type": "atomic"
                        },
                        "port": {
                          "type": "integer",
                          "maximum": 16384,
                          "minimum": 0
                        },
                        "sourceaddress": {
                          "type": "string"
                        },
                        "toAdvertise": {
                          "type": "object",
                          "properties": {
                            "allowed": {
                              "type": "object",
                              "properties": {
                                "mode": {
                                  "type": "string",
                                  "default": "filtered",
                                  "enum": [
                                    "all",
                                    "filtered"
                                  ]
                                },
                                "prefixes": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                }
                              },
                              "additionalProperties": false
                            },
                            "withCommunity": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "community": {
                                    "type": "string"
                                  },
                                  "prefixes": {
                                    "type": "array",
                                    "format": "cidr",
                                    "minItems": 1,
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                },
                                "additionalProperties": false
                              }
                            },
                            "withLocalPref": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "localPref": {
                                    "type": "integer",
                                    "format": "int32"
                                  },
                                  "prefixes": {
                                    "type": "array",
                                    "format": "cidr",
                                    "minItems": 1,
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                },
                                "additionalProperties": false
                              }
                            }
                          },
                          "additionalProperties": false
                        },
                        "toReceive": {
                          "type": "object",
                          "properties": {
                            "allowed": {
                              "type": "object",
                              "properties": {
                                "mode": {
                                  "type": "string",
                                  "default": "filtered",
                                  "enum": [
                                    "all",
                                    "filtered"
                                  ]
                                },
                                "prefixes": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "ge": {
                                        "type": "integer",
                                        "format": "int32",
                                        "maximum": 128,
                                        "minimum": 1
                                      },
                                      "le": {
                                        "type": "integer",
                                        "format": "int32",
                                        "maximum": 128,
                                        "minimum": 1
                                      },
                                      "prefix": {
                                        "type": "string",
                                        "format": "cidr"
                                      }
                                    },
                                    "additionalProperties": false
                                  }
                                }
                              },
                              "additionalProperties": false
                            }
                          },
                          "additionalProperties": false
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "prefixes": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "vrf": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              }
            }
          },
          "additionalProperties": false
        },
        "nodeSelector": {
          "type": "object",
          "properties": {
            "matchExpressions": {
              "type": "array",
              "items": {
                "type": "object",
                "required": [
                  "key",
                  "operator"
                ],
                "properties": {
                  "key": {
                    "type": "string"
                  },
                  "operator": {
                    "type": "string"
                  },
                  "values": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "x-kubernetes-list-type": "atomic"
                  }
                },
                "additionalProperties": false
              },
              "x-kubernetes-list-type": "atomic"
            },
            "matchLabels": {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              }
            }
          },
          "additionalProperties": false,
          "x-kubernetes-map-type": "atomic"
        },
        "raw": {
          "type": "object",
          "properties": {
            "priority": {
              "type": "integer"
            },
            "rawConfig": {
              "type": "string"
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "status": {
      "type": "object"
    }
  }
}
