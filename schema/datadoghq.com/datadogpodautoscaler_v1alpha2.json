{
  "description": "DatadogPodAutoscaler is the Schema for the datadogpodautoscalers API",
  "type": "object",
  "properties": {
    "apiVersion": {
      "description": "APIVersion defines the versioned schema of this representation of an object.\nServers should convert recognized schemas to the latest internal value, and\nmay reject unrecognized values.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
      "type": "string"
    },
    "kind": {
      "description": "Kind is a string value representing the REST resource this object represents.\nServers may infer this from the endpoint the client submits requests to.\nCannot be updated.\nIn CamelCase.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
      "type": "string"
    },
    "metadata": {
      "type": "object"
    },
    "spec": {
      "description": "DatadogPodAutoscalerSpec defines the desired state of DatadogPodAutoscaler",
      "type": "object",
      "required": [
        "owner",
        "targetRef"
      ],
      "properties": {
        "applyPolicy": {
          "description": "ApplyPolicy defines how recommendations should be applied.",
          "type": "object",
          "default": {},
          "properties": {
            "mode": {
              "description": "Mode determines recommendations that should be applied by the controller:\n- Apply: Apply all recommendations.\n- Preview: Recommendations are received and visible through .Status, but the controller does not apply them.\nIt's also possible to selectively deactivate upscale, downscale or update actions thanks to the `ScaleUp`, `ScaleDown` and `Update` fields.",
              "type": "string",
              "default": "Apply",
              "enum": [
                "Apply",
                "Preview"
              ]
            },
            "scaleDown": {
              "description": "ScaleDown defines the policy to scale down the target resource.",
              "type": "object",
              "properties": {
                "rules": {
                  "description": "Rules is a list of potential scaling polices which can be used during scaling.\nAt least one policy must be specified, otherwise the DatadogPodAutoscalerScalingPolicy will be discarded as invalid",
                  "type": "array",
                  "items": {
                    "description": "DatadogPodAutoscalerScalingRule defines rules for horizontal scaling that should be true for a certain amount of time.",
                    "type": "object",
                    "required": [
                      "periodSeconds",
                      "type",
                      "value"
                    ],
                    "properties": {
                      "periodSeconds": {
                        "description": "PeriodSeconds specifies the window of time for which the policy should hold true.\nPeriodSeconds must be greater than zero and less than or equal to 3600 (1 hour).",
                        "type": "integer",
                        "format": "int32",
                        "maximum": 3600,
                        "minimum": 1
                      },
                      "type": {
                        "description": "Type is used to specify the scaling policy.",
                        "type": "string",
                        "enum": [
                          "Pods",
                          "Percent"
                        ]
                      },
                      "value": {
                        "description": "Value contains the amount of change which is permitted by the policy.\nSetting it to 0 will prevent any scaling in this direction.",
                        "type": "integer",
                        "format": "int32",
                        "minimum": 0
                      }
                    },
                    "additionalProperties": false
                  },
                  "x-kubernetes-list-type": "atomic"
                },
                "stabilizationWindowSeconds": {
                  "description": "StabilizationWindowSeconds is the number of seconds the controller should lookback at previous recommendations\nbefore deciding to apply a new one. Defaults to 0.",
                  "type": "integer",
                  "format": "int32",
                  "maximum": 3600,
                  "minimum": 0
                },
                "strategy": {
                  "description": "Strategy is used to specify which policy should be used.\nIf not set, the default value Max is used.",
                  "type": "string",
                  "enum": [
                    "Max",
                    "Min",
                    "Disabled"
                  ]
                }
              },
              "additionalProperties": false
            },
            "scaleUp": {
              "description": "ScaleUp defines the policy to scale up the target resource.",
              "type": "object",
              "properties": {
                "rules": {
                  "description": "Rules is a list of potential scaling polices which can be used during scaling.\nAt least one policy must be specified, otherwise the DatadogPodAutoscalerScalingPolicy will be discarded as invalid",
                  "type": "array",
                  "items": {
                    "description": "DatadogPodAutoscalerScalingRule defines rules for horizontal scaling that should be true for a certain amount of time.",
                    "type": "object",
                    "required": [
                      "periodSeconds",
                      "type",
                      "value"
                    ],
                    "properties": {
                      "periodSeconds": {
                        "description": "PeriodSeconds specifies the window of time for which the policy should hold true.\nPeriodSeconds must be greater than zero and less than or equal to 3600 (1 hour).",
                        "type": "integer",
                        "format": "int32",
                        "maximum": 3600,
                        "minimum": 1
                      },
                      "type": {
                        "description": "Type is used to specify the scaling policy.",
                        "type": "string",
                        "enum": [
                          "Pods",
                          "Percent"
                        ]
                      },
                      "value": {
                        "description": "Value contains the amount of change which is permitted by the policy.\nSetting it to 0 will prevent any scaling in this direction.",
                        "type": "integer",
                        "format": "int32",
                        "minimum": 0
                      }
                    },
                    "additionalProperties": false
                  },
                  "x-kubernetes-list-type": "atomic"
                },
                "stabilizationWindowSeconds": {
                  "description": "StabilizationWindowSeconds is the number of seconds the controller should lookback at previous recommendations\nbefore deciding to apply a new one. Defaults to 0.",
                  "type": "integer",
                  "format": "int32",
                  "maximum": 3600,
                  "minimum": 0
                },
                "strategy": {
                  "description": "Strategy is used to specify which policy should be used.\nIf not set, the default value Max is used.",
                  "type": "string",
                  "enum": [
                    "Max",
                    "Min",
                    "Disabled"
                  ]
                }
              },
              "additionalProperties": false
            },
            "update": {
              "description": "Update defines the policy for updating the target resource.",
              "type": "object",
              "properties": {
                "strategy": {
                  "description": "Strategy defines the mode of the update policy.",
                  "type": "string",
                  "enum": [
                    "Auto",
                    "Disabled"
                  ]
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        },
        "constraints": {
          "description": "Constraints defines constraints that should always be respected.",
          "type": "object",
          "required": [
            "maxReplicas"
          ],
          "properties": {
            "containers": {
              "description": "Containers defines constraints for the containers.",
              "type": "array",
              "items": {
                "description": "DatadogPodAutoscalerContainerConstraints defines constraints that should always be respected for a container.\nIf no constraints are set, it enables resource scaling for all containers without any constraints.",
                "type": "object",
                "required": [
                  "name"
                ],
                "properties": {
                  "enabled": {
                    "description": "Enabled, if false, allows one to disable resource autoscaling for the container. Defaults to true.",
                    "type": "boolean"
                  },
                  "name": {
                    "description": "Name is the name of the container. Can be \"*\" to apply to all containers.",
                    "type": "string"
                  },
                  "requests": {
                    "description": "Requests defines the constraints for the requests of the container.",
                    "type": "object",
                    "properties": {
                      "maxAllowed": {
                        "description": "MaxAllowed is the upper limit for the requests of the container.",
                        "type": "object",
                        "additionalProperties": {
                          "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                          "anyOf": [
                            {
                              "type": "integer"
                            },
                            {
                              "type": "string"
                            }
                          ],
                          "x-kubernetes-int-or-string": true
                        }
                      },
                      "minAllowed": {
                        "description": "MinAllowed is the lower limit for the requests of the container.",
                        "type": "object",
                        "additionalProperties": {
                          "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                          "anyOf": [
                            {
                              "type": "integer"
                            },
                            {
                              "type": "string"
                            }
                          ],
                          "x-kubernetes-int-or-string": true
                        }
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              }
            },
            "maxReplicas": {
              "description": "MaxReplicas is the upper limit for the number of POD replicas. Needs to be \u003e= minReplicas.",
              "type": "integer",
              "format": "int32"
            },
            "minReplicas": {
              "description": "MinReplicas is the lower limit for the number of pod replicas. Needs to be \u003e= 1. Defaults to 1.",
              "type": "integer",
              "format": "int32",
              "minimum": 1
            }
          },
          "additionalProperties": false
        },
        "fallback": {
          "description": "Fallback defines how recommendations should be applied when in fallback mode.",
          "type": "object",
          "default": {},
          "properties": {
            "horizontal": {
              "description": "Horizontal configures the behavior during horizontal fallback mode.",
              "type": "object",
              "default": {},
              "properties": {
                "direction": {
                  "description": "Direction determines the direction that recommendations should be applied.",
                  "type": "string",
                  "default": "ScaleUp",
                  "enum": [
                    "ScaleUp",
                    "ScaleDown",
                    "All"
                  ]
                },
                "enabled": {
                  "description": "Enabled determines whether recommendations should be applied by the controller:",
                  "type": "boolean",
                  "default": true
                },
                "objectives": {
                  "description": "Objectives are the objectives to reach and maintain for the target resource in fallback mode.\nIf not set, the regular objectives will be used.",
                  "type": "array",
                  "items": {
                    "description": "DatadogPodAutoscalerObjective defines the objectives to reach and maintain for the target workload.",
                    "type": "object",
                    "required": [
                      "type"
                    ],
                    "properties": {
                      "containerResource": {
                        "description": "ContainerResource allows to set a container-level resource objective.",
                        "type": "object",
                        "required": [
                          "container",
                          "name",
                          "value"
                        ],
                        "properties": {
                          "container": {
                            "description": "Container is the name of the container.",
                            "type": "string"
                          },
                          "name": {
                            "description": "Name is the name of the resource.",
                            "type": "string",
                            "enum": [
                              "cpu"
                            ]
                          },
                          "value": {
                            "description": "Value is the value of the objective",
                            "type": "object",
                            "required": [
                              "type"
                            ],
                            "properties": {
                              "absoluteValue": {
                                "description": "AbsoluteValue defines a target as an absolute value divided by the number of running pods.\nUse a plain number (e.g., \"11\" or \"11.5\").\nRepresented as a resource.Quantity to avoid floating point in CRDs.",
                                "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                                "anyOf": [
                                  {
                                    "type": "integer"
                                  },
                                  {
                                    "type": "string"
                                  }
                                ],
                                "x-kubernetes-int-or-string": true
                              },
                              "type": {
                                "description": "Type specifies how the value is expressed (possible values: Utilization, AbsoluteValue).",
                                "type": "string",
                                "enum": [
                                  "Utilization",
                                  "AbsoluteValue"
                                ]
                              },
                              "utilization": {
                                "description": "Utilization defines a percentage of the target compared to requested workload",
                                "type": "integer",
                                "format": "int32",
                                "maximum": 100,
                                "minimum": 0
                              }
                            },
                            "additionalProperties": false
                          }
                        },
                        "additionalProperties": false
                      },
                      "customQueryObjective": {
                        "description": "CustomQueryObjective allows to set a controller-level objective.",
                        "type": "object",
                        "required": [
                          "query",
                          "value",
                          "window"
                        ],
                        "properties": {
                          "query": {
                            "description": "Query is the timeseries query to use for the objective.",
                            "type": "object",
                            "required": [
                              "queries"
                            ],
                            "properties": {
                              "formulas": {
                                "description": "Formulas to compute (optional).",
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "required": [
                                    "formula"
                                  ],
                                  "properties": {
                                    "formula": {
                                      "type": "string",
                                      "minLength": 1
                                    }
                                  },
                                  "additionalProperties": false
                                }
                              },
                              "queries": {
                                "type": "array",
                                "minItems": 1,
                                "items": {
                                  "description": "TimeseriesQuery is a discriminated union. Only Metrics and APMMetrics are supported for autoscaling.",
                                  "type": "object",
                                  "required": [
                                    "source"
                                  ],
                                  "properties": {
                                    "apm_metrics": {
                                      "type": "object",
                                      "required": [
                                        "stat"
                                      ],
                                      "properties": {
                                        "group_by": {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          }
                                        },
                                        "operation_name": {
                                          "type": "string"
                                        },
                                        "query_filter": {
                                          "type": "string"
                                        },
                                        "resource_hash": {
                                          "description": "ResourceHash is a fingerprint of the resource name that can be used to identify the resource instead of the resource name.",
                                          "type": "string"
                                        },
                                        "resource_name": {
                                          "type": "string"
                                        },
                                        "service": {
                                          "type": "string"
                                        },
                                        "span_kind": {
                                          "type": "string"
                                        },
                                        "stat": {
                                          "description": "DatadogPodAutoscalerApmMetricsStat represents the statistic to compute for an APM metrics query.",
                                          "type": "string",
                                          "enum": [
                                            "error_rate",
                                            "errors",
                                            "errors_per_second",
                                            "hits",
                                            "hits_per_second",
                                            "apdex",
                                            "latency_avg",
                                            "latency_max",
                                            "latency_p50",
                                            "latency_p75",
                                            "latency_p90",
                                            "latency_p95",
                                            "latency_p99",
                                            "latency_p999",
                                            "latency_distribution",
                                            "total_time"
                                          ]
                                        }
                                      },
                                      "additionalProperties": false
                                    },
                                    "metrics": {
                                      "type": "object",
                                      "required": [
                                        "query"
                                      ],
                                      "properties": {
                                        "query": {
                                          "description": "Classic Datadog metrics query, e.g. \"avg:system.cpu.user{*} by {env}\".",
                                          "type": "string",
                                          "minLength": 1
                                        }
                                      },
                                      "additionalProperties": false
                                    },
                                    "name": {
                                      "description": "Optional variable name (\"a\", \"b\", etc.) to reference in formulas.",
                                      "type": "string"
                                    },
                                    "source": {
                                      "type": "string",
                                      "enum": [
                                        "metrics",
                                        "apm_metrics"
                                      ]
                                    }
                                  },
                                  "additionalProperties": false
                                }
                              }
                            },
                            "additionalProperties": false
                          },
                          "value": {
                            "description": "Value is the value of the objective",
                            "type": "object",
                            "required": [
                              "type"
                            ],
                            "properties": {
                              "absoluteValue": {
                                "description": "AbsoluteValue defines a target as an absolute value divided by the number of running pods.\nUse a plain number (e.g., \"11\" or \"11.5\").\nRepresented as a resource.Quantity to avoid floating point in CRDs.",
                                "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                                "anyOf": [
                                  {
                                    "type": "integer"
                                  },
                                  {
                                    "type": "string"
                                  }
                                ],
                                "x-kubernetes-int-or-string": true
                              },
                              "type": {
                                "description": "Type specifies how the value is expressed (possible values: Utilization, AbsoluteValue).",
                                "type": "string",
                                "enum": [
                                  "Utilization",
                                  "AbsoluteValue"
                                ]
                              },
                              "utilization": {
                                "description": "Utilization defines a percentage of the target compared to requested workload",
                                "type": "integer",
                                "format": "int32",
                                "maximum": 100,
                                "minimum": 0
                              }
                            },
                            "additionalProperties": false
                          },
                          "window": {
                            "description": "Window is the time duration over which the query is computed. It should contain at least one full sample.",
                            "type": "string"
                          }
                        },
                        "additionalProperties": false
                      },
                      "podResource": {
                        "description": "PodResource allows to set a pod-level resource objective.",
                        "type": "object",
                        "required": [
                          "name",
                          "value"
                        ],
                        "properties": {
                          "name": {
                            "description": "Name is the name of the resource.",
                            "type": "string",
                            "enum": [
                              "cpu"
                            ]
                          },
                          "value": {
                            "description": "Value is the value of the objective.",
                            "type": "object",
                            "required": [
                              "type"
                            ],
                            "properties": {
                              "absoluteValue": {
                                "description": "AbsoluteValue defines a target as an absolute value divided by the number of running pods.\nUse a plain number (e.g., \"11\" or \"11.5\").\nRepresented as a resource.Quantity to avoid floating point in CRDs.",
                                "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                                "anyOf": [
                                  {
                                    "type": "integer"
                                  },
                                  {
                                    "type": "string"
                                  }
                                ],
                                "x-kubernetes-int-or-string": true
                              },
                              "type": {
                                "description": "Type specifies how the value is expressed (possible values: Utilization, AbsoluteValue).",
                                "type": "string",
                                "enum": [
                                  "Utilization",
                                  "AbsoluteValue"
                                ]
                              },
                              "utilization": {
                                "description": "Utilization defines a percentage of the target compared to requested workload",
                                "type": "integer",
                                "format": "int32",
                                "maximum": 100,
                                "minimum": 0
                              }
                            },
                            "additionalProperties": false
                          }
                        },
                        "additionalProperties": false
                      },
                      "type": {
                        "description": "Type sets the type of the objective.",
                        "type": "string",
                        "enum": [
                          "PodResource",
                          "ContainerResource",
                          "CustomQuery"
                        ]
                      }
                    },
                    "additionalProperties": false
                  },
                  "x-kubernetes-list-type": "atomic"
                },
                "triggers": {
                  "description": "Triggers defines the triggers that will generate recommendations.",
                  "type": "object",
                  "default": {},
                  "properties": {
                    "staleRecommendationThresholdSeconds": {
                      "description": "StaleRecommendationThresholdSeconds defines the time window the controller will wait after detecting an error before applying recommendations.",
                      "type": "integer",
                      "format": "int32",
                      "default": 600,
                      "maximum": 3600,
                      "minimum": 100
                    }
                  },
                  "additionalProperties": false
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        },
        "objectives": {
          "description": "Objectives are the objectives to reach and maintain for the target resource.\nDefault to a single objective to maintain 80% POD CPU utilization.",
          "type": "array",
          "minItems": 1,
          "items": {
            "description": "DatadogPodAutoscalerObjective defines the objectives to reach and maintain for the target workload.",
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "containerResource": {
                "description": "ContainerResource allows to set a container-level resource objective.",
                "type": "object",
                "required": [
                  "container",
                  "name",
                  "value"
                ],
                "properties": {
                  "container": {
                    "description": "Container is the name of the container.",
                    "type": "string"
                  },
                  "name": {
                    "description": "Name is the name of the resource.",
                    "type": "string",
                    "enum": [
                      "cpu"
                    ]
                  },
                  "value": {
                    "description": "Value is the value of the objective",
                    "type": "object",
                    "required": [
                      "type"
                    ],
                    "properties": {
                      "absoluteValue": {
                        "description": "AbsoluteValue defines a target as an absolute value divided by the number of running pods.\nUse a plain number (e.g., \"11\" or \"11.5\").\nRepresented as a resource.Quantity to avoid floating point in CRDs.",
                        "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                        "anyOf": [
                          {
                            "type": "integer"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "x-kubernetes-int-or-string": true
                      },
                      "type": {
                        "description": "Type specifies how the value is expressed (possible values: Utilization, AbsoluteValue).",
                        "type": "string",
                        "enum": [
                          "Utilization",
                          "AbsoluteValue"
                        ]
                      },
                      "utilization": {
                        "description": "Utilization defines a percentage of the target compared to requested workload",
                        "type": "integer",
                        "format": "int32",
                        "maximum": 100,
                        "minimum": 0
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              },
              "customQueryObjective": {
                "description": "CustomQueryObjective allows to set a controller-level objective.",
                "type": "object",
                "required": [
                  "query",
                  "value",
                  "window"
                ],
                "properties": {
                  "query": {
                    "description": "Query is the timeseries query to use for the objective.",
                    "type": "object",
                    "required": [
                      "queries"
                    ],
                    "properties": {
                      "formulas": {
                        "description": "Formulas to compute (optional).",
                        "type": "array",
                        "items": {
                          "type": "object",
                          "required": [
                            "formula"
                          ],
                          "properties": {
                            "formula": {
                              "type": "string",
                              "minLength": 1
                            }
                          },
                          "additionalProperties": false
                        }
                      },
                      "queries": {
                        "type": "array",
                        "minItems": 1,
                        "items": {
                          "description": "TimeseriesQuery is a discriminated union. Only Metrics and APMMetrics are supported for autoscaling.",
                          "type": "object",
                          "required": [
                            "source"
                          ],
                          "properties": {
                            "apm_metrics": {
                              "type": "object",
                              "required": [
                                "stat"
                              ],
                              "properties": {
                                "group_by": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                },
                                "operation_name": {
                                  "type": "string"
                                },
                                "query_filter": {
                                  "type": "string"
                                },
                                "resource_hash": {
                                  "description": "ResourceHash is a fingerprint of the resource name that can be used to identify the resource instead of the resource name.",
                                  "type": "string"
                                },
                                "resource_name": {
                                  "type": "string"
                                },
                                "service": {
                                  "type": "string"
                                },
                                "span_kind": {
                                  "type": "string"
                                },
                                "stat": {
                                  "description": "DatadogPodAutoscalerApmMetricsStat represents the statistic to compute for an APM metrics query.",
                                  "type": "string",
                                  "enum": [
                                    "error_rate",
                                    "errors",
                                    "errors_per_second",
                                    "hits",
                                    "hits_per_second",
                                    "apdex",
                                    "latency_avg",
                                    "latency_max",
                                    "latency_p50",
                                    "latency_p75",
                                    "latency_p90",
                                    "latency_p95",
                                    "latency_p99",
                                    "latency_p999",
                                    "latency_distribution",
                                    "total_time"
                                  ]
                                }
                              },
                              "additionalProperties": false
                            },
                            "metrics": {
                              "type": "object",
                              "required": [
                                "query"
                              ],
                              "properties": {
                                "query": {
                                  "description": "Classic Datadog metrics query, e.g. \"avg:system.cpu.user{*} by {env}\".",
                                  "type": "string",
                                  "minLength": 1
                                }
                              },
                              "additionalProperties": false
                            },
                            "name": {
                              "description": "Optional variable name (\"a\", \"b\", etc.) to reference in formulas.",
                              "type": "string"
                            },
                            "source": {
                              "type": "string",
                              "enum": [
                                "metrics",
                                "apm_metrics"
                              ]
                            }
                          },
                          "additionalProperties": false
                        }
                      }
                    },
                    "additionalProperties": false
                  },
                  "value": {
                    "description": "Value is the value of the objective",
                    "type": "object",
                    "required": [
                      "type"
                    ],
                    "properties": {
                      "absoluteValue": {
                        "description": "AbsoluteValue defines a target as an absolute value divided by the number of running pods.\nUse a plain number (e.g., \"11\" or \"11.5\").\nRepresented as a resource.Quantity to avoid floating point in CRDs.",
                        "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                        "anyOf": [
                          {
                            "type": "integer"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "x-kubernetes-int-or-string": true
                      },
                      "type": {
                        "description": "Type specifies how the value is expressed (possible values: Utilization, AbsoluteValue).",
                        "type": "string",
                        "enum": [
                          "Utilization",
                          "AbsoluteValue"
                        ]
                      },
                      "utilization": {
                        "description": "Utilization defines a percentage of the target compared to requested workload",
                        "type": "integer",
                        "format": "int32",
                        "maximum": 100,
                        "minimum": 0
                      }
                    },
                    "additionalProperties": false
                  },
                  "window": {
                    "description": "Window is the time duration over which the query is computed. It should contain at least one full sample.",
                    "type": "string"
                  }
                },
                "additionalProperties": false
              },
              "podResource": {
                "description": "PodResource allows to set a pod-level resource objective.",
                "type": "object",
                "required": [
                  "name",
                  "value"
                ],
                "properties": {
                  "name": {
                    "description": "Name is the name of the resource.",
                    "type": "string",
                    "enum": [
                      "cpu"
                    ]
                  },
                  "value": {
                    "description": "Value is the value of the objective.",
                    "type": "object",
                    "required": [
                      "type"
                    ],
                    "properties": {
                      "absoluteValue": {
                        "description": "AbsoluteValue defines a target as an absolute value divided by the number of running pods.\nUse a plain number (e.g., \"11\" or \"11.5\").\nRepresented as a resource.Quantity to avoid floating point in CRDs.",
                        "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                        "anyOf": [
                          {
                            "type": "integer"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "x-kubernetes-int-or-string": true
                      },
                      "type": {
                        "description": "Type specifies how the value is expressed (possible values: Utilization, AbsoluteValue).",
                        "type": "string",
                        "enum": [
                          "Utilization",
                          "AbsoluteValue"
                        ]
                      },
                      "utilization": {
                        "description": "Utilization defines a percentage of the target compared to requested workload",
                        "type": "integer",
                        "format": "int32",
                        "maximum": 100,
                        "minimum": 0
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              },
              "type": {
                "description": "Type sets the type of the objective.",
                "type": "string",
                "enum": [
                  "PodResource",
                  "ContainerResource",
                  "CustomQuery"
                ]
              }
            },
            "additionalProperties": false
          },
          "x-kubernetes-list-type": "atomic"
        },
        "owner": {
          "description": "Owner defines the source of truth for this object (local or remote).\nValue must be set when a DatadogPodAutoscaler object is created.",
          "type": "string",
          "enum": [
            "Local",
            "Remote"
          ]
        },
        "remoteVersion": {
          "description": "RemoteVersion is the version of the .Spec currently stored in this object.\nThis is only set if the owner is Remote.",
          "type": "integer",
          "format": "int64"
        },
        "targetRef": {
          "description": "TargetRef is the reference to the resource to scale.",
          "type": "object",
          "required": [
            "kind",
            "name"
          ],
          "properties": {
            "apiVersion": {
              "description": "apiVersion is the API version of the referent",
              "type": "string"
            },
            "kind": {
              "description": "kind is the kind of the referent; More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
              "type": "string"
            },
            "name": {
              "description": "name is the name of the referent; More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names",
              "type": "string"
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "status": {
      "description": "DatadogPodAutoscalerStatus defines the observed state of DatadogPodAutoscaler",
      "type": "object",
      "properties": {
        "conditions": {
          "description": "Conditions describe the current state of the DatadogPodAutoscaler operations.",
          "type": "array",
          "items": {
            "description": "DatadogPodAutoscalerCondition describes the state of DatadogPodAutoscaler.",
            "type": "object",
            "required": [
              "status",
              "type"
            ],
            "properties": {
              "lastTransitionTime": {
                "description": "Last time the condition transitioned from one status to another.",
                "type": "string",
                "format": "date-time"
              },
              "message": {
                "description": "A human readable message indicating details about the transition.",
                "type": "string"
              },
              "reason": {
                "description": "The reason for the condition's last transition.",
                "type": "string"
              },
              "status": {
                "description": "Status of the condition, one of True, False, Unknown.",
                "type": "string"
              },
              "type": {
                "description": "DatadogPodAutoscalerConditionType is the type of DatadogPodAutoscaler condition.",
                "type": "string"
              }
            },
            "additionalProperties": false
          },
          "x-kubernetes-list-map-keys": [
            "type"
          ],
          "x-kubernetes-list-type": "map"
        },
        "currentReplicas": {
          "description": "CurrentReplicas is the current number of pods for the targetRef observed by the controller.",
          "type": "integer",
          "format": "int32"
        },
        "horizontal": {
          "description": "Horizontal is the status of the horizontal scaling, if activated.",
          "type": "object",
          "properties": {
            "lastActions": {
              "description": "LastActions are the last successful actions done by the controller",
              "type": "array",
              "items": {
                "description": "DatadogPodAutoscalerHorizontalAction represents a horizontal action done by the controller",
                "type": "object",
                "required": [
                  "replicas",
                  "time",
                  "toReplicas"
                ],
                "properties": {
                  "limitedReason": {
                    "description": "LimitedReason is the reason why the action was limited (that is ToReplicas != RecommendedReplicas)",
                    "type": "string"
                  },
                  "recommendedReplicas": {
                    "description": "RecommendedReplicas is the original number of replicas recommended by Datadog",
                    "type": "integer",
                    "format": "int32"
                  },
                  "replicas": {
                    "description": "FromReplicas is the number of replicas before the action",
                    "type": "integer",
                    "format": "int32"
                  },
                  "time": {
                    "description": "Time is the timestamp of the action",
                    "type": "string",
                    "format": "date-time"
                  },
                  "toReplicas": {
                    "description": "ToReplicas is the effective number of replicas after the action",
                    "type": "integer",
                    "format": "int32"
                  }
                },
                "additionalProperties": false
              }
            },
            "lastRecommendations": {
              "description": "LastRecommendations stores the most recent recommendations",
              "type": "array",
              "items": {
                "description": "DatadogPodAutoscalerHorizontalRecommendation defines a horizontal scaling recommendation",
                "type": "object",
                "required": [
                  "desiredReplicas"
                ],
                "properties": {
                  "desiredReplicas": {
                    "description": "Replicas is the recommended number of replicas for the workload",
                    "type": "integer",
                    "format": "int32"
                  },
                  "generatedAt": {
                    "description": "GeneratedAt is the timestamp at which the recommendation was generated",
                    "type": "string",
                    "format": "date-time"
                  },
                  "source": {
                    "description": "Source is the source of the value used to scale the target workload",
                    "type": "string"
                  }
                },
                "additionalProperties": false
              }
            },
            "target": {
              "description": "Target is the current target of the horizontal scaling",
              "type": "object",
              "required": [
                "desiredReplicas"
              ],
              "properties": {
                "desiredReplicas": {
                  "description": "Replicas is the recommended number of replicas for the workload",
                  "type": "integer",
                  "format": "int32"
                },
                "generatedAt": {
                  "description": "GeneratedAt is the timestamp at which the recommendation was generated",
                  "type": "string",
                  "format": "date-time"
                },
                "source": {
                  "description": "Source is the source of the value used to scale the target workload",
                  "type": "string"
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        },
        "vertical": {
          "description": "Vertical is the status of the vertical scaling, if activated.",
          "type": "object",
          "properties": {
            "lastAction": {
              "description": "LastAction is the last successful action done by the controller",
              "type": "object",
              "required": [
                "time",
                "type",
                "version"
              ],
              "properties": {
                "time": {
                  "description": "Time is the timestamp of the action",
                  "type": "string",
                  "format": "date-time"
                },
                "type": {
                  "description": "Type is the type of action",
                  "type": "string"
                },
                "version": {
                  "description": "Version is the version of the recommendation used for the action",
                  "type": "string"
                }
              },
              "additionalProperties": false
            },
            "target": {
              "description": "Target is the current target of the vertical scaling",
              "type": "object",
              "required": [
                "desiredResources",
                "podCPURequest",
                "podMemoryRequest",
                "source",
                "version"
              ],
              "properties": {
                "desiredResources": {
                  "description": "DesiredResources is the desired resources for containers",
                  "type": "array",
                  "items": {
                    "type": "object",
                    "required": [
                      "name"
                    ],
                    "properties": {
                      "limits": {
                        "description": "Limits describes the maximum amount of compute resources allowed.",
                        "type": "object",
                        "additionalProperties": {
                          "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                          "anyOf": [
                            {
                              "type": "integer"
                            },
                            {
                              "type": "string"
                            }
                          ],
                          "x-kubernetes-int-or-string": true
                        }
                      },
                      "name": {
                        "description": "Name is the name of the container",
                        "type": "string"
                      },
                      "requests": {
                        "description": "Requests describes the requested amount of compute resources.",
                        "type": "object",
                        "additionalProperties": {
                          "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                          "anyOf": [
                            {
                              "type": "integer"
                            },
                            {
                              "type": "string"
                            }
                          ],
                          "x-kubernetes-int-or-string": true
                        }
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "generatedAt": {
                  "description": "GeneratedAt is the timestamp at which the recommendation was generated",
                  "type": "string",
                  "format": "date-time"
                },
                "podCPURequest": {
                  "description": "PodCPURequest is the sum of CPU requests for all containers (used for display)",
                  "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                  "anyOf": [
                    {
                      "type": "integer"
                    },
                    {
                      "type": "string"
                    }
                  ],
                  "x-kubernetes-int-or-string": true
                },
                "podMemoryRequest": {
                  "description": "PodMemoryRequest is the sum of memory requests for all containers (used for display)",
                  "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                  "anyOf": [
                    {
                      "type": "integer"
                    },
                    {
                      "type": "string"
                    }
                  ],
                  "x-kubernetes-int-or-string": true
                },
                "scaled": {
                  "description": "Scaled is the current number of pods having desired resources",
                  "type": "integer",
                  "format": "int32"
                },
                "source": {
                  "description": "Source is the source of the value used to scale the target resource",
                  "type": "string"
                },
                "version": {
                  "description": "Version is the current version of the received recommendation",
                  "type": "string"
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    }
  }
}
