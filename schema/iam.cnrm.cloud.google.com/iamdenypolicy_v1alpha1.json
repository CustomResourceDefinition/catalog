{
  "description": "IAMDenyPolicy is the Schema for the IAMDenyPolicy API",
  "type": "object",
  "required": [
    "spec"
  ],
  "properties": {
    "apiVersion": {
      "description": "APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
      "type": "string"
    },
    "kind": {
      "description": "Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
      "type": "string"
    },
    "metadata": {
      "type": "object"
    },
    "spec": {
      "description": "IAMDenyPolicySpec defines the desired state of IAMDenyPolicy",
      "type": "object",
      "properties": {
        "displayName": {
          "description": "A user-specified description of the `Policy`. This value can be up to 63 characters.",
          "type": "string"
        },
        "resourceID": {
          "description": "The IAMDenyPolicy name. If not given, the metadata.name will be used.",
          "type": "string"
        },
        "rules": {
          "description": "A list of rules that specify the behavior of the `Policy`. All of the rules should be of the `kind` specified in the `Policy`.",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "denyRule": {
                "description": "A rule for a deny policy.",
                "type": "object",
                "properties": {
                  "denialCondition": {
                    "description": "The condition that determines whether this deny rule applies to a request.\n If the condition expression evaluates to `true`, then the deny rule is\n applied; otherwise, the deny rule is not applied.\n\n Each deny rule is evaluated independently. If this deny rule does not apply\n to a request, other deny rules might still apply.\n\n The condition can use CEL functions that evaluate\n [resource\n tags](https://cloud.google.com/iam/help/conditions/resource-tags). Other\n functions and operators are not supported.",
                    "type": "object",
                    "properties": {
                      "description": {
                        "description": "Optional. Description of the expression. This is a longer text which describes the expression, e.g. when hovered over it in a UI.",
                        "type": "string"
                      },
                      "expression": {
                        "description": "Textual representation of an expression in Common Expression Language syntax.",
                        "type": "string"
                      },
                      "location": {
                        "description": "Optional. String indicating the location of the expression for error reporting, e.g. a file name and a position in the file.",
                        "type": "string"
                      },
                      "title": {
                        "description": "Optional. Title for the expression, i.e. a short string describing its purpose. This can be used e.g. in UIs which allow to enter the expression.",
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "deniedPermissions": {
                    "description": "The permissions that are explicitly denied by this rule. Each permission uses the format `{service_fqdn}/{resource}.{verb}`, where `{service_fqdn}` is the fully qualified domain name for the service. For example, `iam.googleapis.com/roles.list`.",
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "deniedPrincipals": {
                    "description": "The identities that are prevented from using one or more permissions on\n Google Cloud resources. This field can contain the following values:\n\n * `principalSet://goog/public:all`: A special identifier that represents\n   any principal that is on the internet, even if they do not have a Google\n   Account or are not logged in.\n\n * `principal://goog/subject/{email_id}`: A specific Google Account.\n   Includes Gmail, Cloud Identity, and Google Workspace user accounts. For\n   example, `principal://goog/subject/alice@example.com`.\n\n * `deleted:principal://goog/subject/{email_id}?uid={uid}`: A specific\n   Google Account that was deleted recently. For example,\n   `deleted:principal://goog/subject/alice@example.com?uid=1234567890`. If\n   the Google Account is recovered, this identifier reverts to the standard\n   identifier for a Google Account.\n\n * `principalSet://goog/group/{group_id}`: A Google group. For example,\n   `principalSet://goog/group/admins@example.com`.\n\n * `deleted:principalSet://goog/group/{group_id}?uid={uid}`: A Google group\n   that was deleted recently. For example,\n   `deleted:principalSet://goog/group/admins@example.com?uid=1234567890`. If\n   the Google group is restored, this identifier reverts to the standard\n   identifier for a Google group.\n\n * `principal://iam.googleapis.com/projects/-/serviceAccounts/{service_account_id}`:\n   A Google Cloud service account. For example,\n   `principal://iam.googleapis.com/projects/-/serviceAccounts/my-service-account@iam.gserviceaccount.com`.\n\n * `deleted:principal://iam.googleapis.com/projects/-/serviceAccounts/{service_account_id}?uid={uid}`:\n   A Google Cloud service account that was deleted recently. For example,\n   `deleted:principal://iam.googleapis.com/projects/-/serviceAccounts/my-service-account@iam.gserviceaccount.com?uid=1234567890`.\n   If the service account is undeleted, this identifier reverts to the\n   standard identifier for a service account.\n\n * `principalSet://goog/cloudIdentityCustomerId/{customer_id}`: All of the\n   principals associated with the specified Google Workspace or Cloud\n   Identity customer ID. For example,\n   `principalSet://goog/cloudIdentityCustomerId/C01Abc35`.",
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "exceptionPermissions": {
                    "description": "Specifies the permissions that this rule excludes from the set of denied\n permissions given by `denied_permissions`. If a permission appears in\n `denied_permissions` _and_ in `exception_permissions` then it will _not_ be\n denied.\n\n The excluded permissions can be specified using the same syntax as\n `denied_permissions`.",
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "exceptionPrincipals": {
                    "description": "The identities that are excluded from the deny rule, even if they are\n listed in the `denied_principals`. For example, you could add a Google\n group to the `denied_principals`, then exclude specific users who belong to\n that group.\n\n This field can contain the same values as the `denied_principals` field,\n excluding `principalSet://goog/public:all`, which represents all users on\n the internet.",
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false
              },
              "description": {
                "description": "A user-specified description of the rule. This value can be up to 256 characters.",
                "type": "string"
              }
            },
            "additionalProperties": false
          }
        }
      },
      "additionalProperties": false
    },
    "status": {
      "description": "IAMDenyPolicyStatus defines the config connector machine state of IAMDenyPolicy",
      "type": "object",
      "properties": {
        "conditions": {
          "description": "Conditions represent the latest available observations of the object's current state.",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "lastTransitionTime": {
                "description": "Last time the condition transitioned from one status to another.",
                "type": "string"
              },
              "message": {
                "description": "Human-readable message indicating details about last transition.",
                "type": "string"
              },
              "reason": {
                "description": "Unique, one-word, CamelCase reason for the condition's last transition.",
                "type": "string"
              },
              "status": {
                "description": "Status is the status of the condition. Can be True, False, Unknown.",
                "type": "string"
              },
              "type": {
                "description": "Type is the type of the condition.",
                "type": "string"
              }
            },
            "additionalProperties": false
          }
        },
        "externalRef": {
          "description": "A unique specifier for the IAMDenyPolicy resource in GCP.",
          "type": "string"
        },
        "observedGeneration": {
          "description": "ObservedGeneration is the generation of the resource that was most recently observed by the Config Connector controller. If this is equal to metadata.generation, then that means that the current reported status reflects the most recent desired state of the resource.",
          "type": "integer",
          "format": "int64"
        },
        "observedState": {
          "description": "ObservedState is the state of the resource as most recently observed in GCP.",
          "type": "object"
        }
      },
      "additionalProperties": false
    }
  }
}
