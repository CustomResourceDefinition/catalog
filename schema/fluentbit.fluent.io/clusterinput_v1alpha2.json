{
  "type": "object",
  "properties": {
    "apiVersion": {
      "type": "string"
    },
    "kind": {
      "type": "string"
    },
    "metadata": {
      "type": "object"
    },
    "spec": {
      "type": "object",
      "properties": {
        "alias": {
          "type": "string"
        },
        "collectd": {
          "type": "object",
          "properties": {
            "listen": {
              "type": "string"
            },
            "port": {
              "type": "integer",
              "format": "int32",
              "maximum": 65535,
              "minimum": 1
            },
            "typesDB": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "customPlugin": {
          "type": "object",
          "properties": {
            "config": {
              "type": "string"
            },
            "yamlConfig": {
              "type": "object",
              "x-kubernetes-preserve-unknown-fields": true
            }
          },
          "additionalProperties": false
        },
        "dummy": {
          "type": "object",
          "properties": {
            "dummy": {
              "type": "string"
            },
            "rate": {
              "type": "integer",
              "format": "int32"
            },
            "samples": {
              "type": "integer",
              "format": "int32"
            },
            "tag": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "execWasi": {
          "type": "object",
          "properties": {
            "accessiblePaths": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "bufSize": {
              "type": "string",
              "pattern": "^\\d+(k|K|KB|kb|m|M|MB|mb|g|G|GB|gb)?$"
            },
            "intervalNSec": {
              "type": "integer",
              "format": "int64"
            },
            "intervalSec": {
              "type": "integer",
              "format": "int32"
            },
            "parser": {
              "type": "string"
            },
            "threaded": {
              "type": "boolean"
            },
            "wasiPath": {
              "type": "string"
            },
            "wasmHeapSize": {
              "type": "string",
              "pattern": "^\\d+(k|K|KB|kb|m|M|MB|mb|g|G|GB|gb)?$"
            },
            "wasmStackSize": {
              "type": "string",
              "pattern": "^\\d+(k|K|KB|kb|m|M|MB|mb|g|G|GB|gb)?$"
            }
          },
          "additionalProperties": false
        },
        "fluentBitMetrics": {
          "type": "object",
          "properties": {
            "scrapeInterval": {
              "type": "string"
            },
            "scrapeOnStart": {
              "type": "boolean"
            },
            "tag": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "forward": {
          "type": "object",
          "properties": {
            "bufferMaxSize": {
              "type": "string",
              "pattern": "^\\d+(k|K|KB|kb|m|M|MB|mb|g|G|GB|gb)?$"
            },
            "bufferchunkSize": {
              "type": "string",
              "pattern": "^\\d+(k|K|KB|kb|m|M|MB|mb|g|G|GB|gb)?$"
            },
            "listen": {
              "type": "string"
            },
            "port": {
              "type": "integer",
              "format": "int32",
              "maximum": 65535,
              "minimum": 1
            },
            "tag": {
              "type": "string"
            },
            "tagPrefix": {
              "type": "string"
            },
            "threaded": {
              "type": "string"
            },
            "unixPath": {
              "type": "string"
            },
            "unixPerm": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "http": {
          "type": "object",
          "properties": {
            "bufferChunkSize": {
              "type": "string",
              "pattern": "^\\d+(k|K|KB|kb|m|M|MB|mb|g|G|GB|gb)?$"
            },
            "bufferMaxSize": {
              "type": "string",
              "pattern": "^\\d+(k|K|KB|kb|m|M|MB|mb|g|G|GB|gb)?$"
            },
            "listen": {
              "type": "string"
            },
            "port": {
              "type": "integer",
              "format": "int32",
              "maximum": 65535,
              "minimum": 1
            },
            "successfulHeader": {
              "type": "string"
            },
            "successfulResponseCode": {
              "type": "integer",
              "format": "int32"
            },
            "tagKey": {
              "type": "string"
            },
            "tls": {
              "type": "object",
              "properties": {
                "caFile": {
                  "type": "string"
                },
                "caPath": {
                  "type": "string"
                },
                "crtFile": {
                  "type": "string"
                },
                "debug": {
                  "type": "integer",
                  "format": "int32",
                  "enum": [
                    0,
                    1,
                    2,
                    3,
                    4
                  ]
                },
                "keyFile": {
                  "type": "string"
                },
                "keyPassword": {
                  "type": "object",
                  "properties": {
                    "valueFrom": {
                      "type": "object",
                      "properties": {
                        "secretKeyRef": {
                          "type": "object",
                          "required": [
                            "key"
                          ],
                          "properties": {
                            "key": {
                              "type": "string"
                            },
                            "name": {
                              "type": "string",
                              "default": ""
                            },
                            "optional": {
                              "type": "boolean"
                            }
                          },
                          "additionalProperties": false,
                          "x-kubernetes-map-type": "atomic"
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "additionalProperties": false
                },
                "verify": {
                  "type": "boolean"
                },
                "vhost": {
                  "type": "string"
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        },
        "kubernetesEvents": {
          "type": "object",
          "properties": {
            "db": {
              "type": "string"
            },
            "dbSync": {
              "type": "string"
            },
            "intervalNsec": {
              "type": "integer",
              "format": "int64"
            },
            "intervalSec": {
              "type": "integer",
              "format": "int32"
            },
            "kubeCAFile": {
              "type": "string"
            },
            "kubeCAPath": {
              "type": "string"
            },
            "kubeNamespace": {
              "type": "string"
            },
            "kubeRequestLimit": {
              "type": "integer",
              "format": "int32"
            },
            "kubeRetentionTime": {
              "type": "string"
            },
            "kubeTokenFile": {
              "type": "string"
            },
            "kubeTokenTTL": {
              "type": "string"
            },
            "kubeURL": {
              "type": "string"
            },
            "tag": {
              "type": "string"
            },
            "tlsDebug": {
              "type": "integer",
              "format": "int32"
            },
            "tlsVerify": {
              "type": "boolean"
            },
            "tlsVhost": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "logLevel": {
          "type": "string",
          "enum": [
            "off",
            "error",
            "warning",
            "info",
            "debug",
            "trace"
          ]
        },
        "mqtt": {
          "type": "object",
          "properties": {
            "listen": {
              "type": "string"
            },
            "port": {
              "type": "integer",
              "format": "int32",
              "maximum": 65535,
              "minimum": 1
            }
          },
          "additionalProperties": false
        },
        "nginx": {
          "type": "object",
          "properties": {
            "host": {
              "type": "string"
            },
            "nginxPlus": {
              "type": "boolean"
            },
            "port": {
              "type": "integer",
              "format": "int32",
              "maximum": 65535,
              "minimum": 1
            },
            "statusURL": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "nodeExporterMetrics": {
          "type": "object",
          "properties": {
            "path": {
              "type": "object",
              "properties": {
                "procfs": {
                  "type": "string"
                },
                "sysfs": {
                  "type": "string"
                }
              },
              "additionalProperties": false
            },
            "scrapeInterval": {
              "type": "string"
            },
            "tag": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "openTelemetry": {
          "type": "object",
          "properties": {
            "bufferChunkSize": {
              "type": "string",
              "pattern": "^\\d+(k|K|KB|kb|m|M|MB|mb|g|G|GB|gb)?$"
            },
            "bufferMaxSize": {
              "type": "string",
              "pattern": "^\\d+(k|K|KB|kb|m|M|MB|mb|g|G|GB|gb)?$"
            },
            "listen": {
              "type": "string"
            },
            "port": {
              "type": "integer",
              "format": "int32",
              "maximum": 65535,
              "minimum": 1
            },
            "rawTraces": {
              "type": "boolean"
            },
            "successfulResponseCode": {
              "type": "integer",
              "format": "int32"
            },
            "tag": {
              "type": "string"
            },
            "tagFromURI": {
              "type": "boolean"
            },
            "tagKey": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "processors": {
          "type": "object",
          "x-kubernetes-preserve-unknown-fields": true
        },
        "prometheusScrapeMetrics": {
          "type": "object",
          "properties": {
            "host": {
              "type": "string"
            },
            "metricsPath": {
              "type": "string"
            },
            "port": {
              "type": "integer",
              "format": "int32",
              "maximum": 65535,
              "minimum": 1
            },
            "scrapeInterval": {
              "type": "string"
            },
            "tag": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "statsd": {
          "type": "object",
          "properties": {
            "listen": {
              "type": "string"
            },
            "port": {
              "type": "integer",
              "format": "int32",
              "maximum": 65535,
              "minimum": 1
            }
          },
          "additionalProperties": false
        },
        "syslog": {
          "type": "object",
          "properties": {
            "bufferChunkSize": {
              "type": "string",
              "pattern": "^\\d+(k|K|KB|kb|m|M|MB|mb|g|G|GB|gb)?$"
            },
            "bufferMaxSize": {
              "type": "string",
              "pattern": "^\\d+(k|K|KB|kb|m|M|MB|mb|g|G|GB|gb)?$"
            },
            "listen": {
              "type": "string"
            },
            "mode": {
              "type": "string",
              "enum": [
                "unix_udp",
                "unix_tcp",
                "tcp",
                "udp"
              ]
            },
            "parser": {
              "type": "string"
            },
            "path": {
              "type": "string"
            },
            "port": {
              "type": "integer",
              "format": "int32",
              "maximum": 65535,
              "minimum": 1
            },
            "receiveBufferSize": {
              "type": "string",
              "pattern": "^\\d+(k|K|KB|kb|m|M|MB|mb|g|G|GB|gb)?$"
            },
            "sourceAddressKey": {
              "type": "string"
            },
            "tls": {
              "type": "object",
              "properties": {
                "caFile": {
                  "type": "string"
                },
                "caPath": {
                  "type": "string"
                },
                "crtFile": {
                  "type": "string"
                },
                "debug": {
                  "type": "integer",
                  "format": "int32",
                  "enum": [
                    0,
                    1,
                    2,
                    3,
                    4
                  ]
                },
                "keyFile": {
                  "type": "string"
                },
                "keyPassword": {
                  "type": "object",
                  "properties": {
                    "valueFrom": {
                      "type": "object",
                      "properties": {
                        "secretKeyRef": {
                          "type": "object",
                          "required": [
                            "key"
                          ],
                          "properties": {
                            "key": {
                              "type": "string"
                            },
                            "name": {
                              "type": "string",
                              "default": ""
                            },
                            "optional": {
                              "type": "boolean"
                            }
                          },
                          "additionalProperties": false,
                          "x-kubernetes-map-type": "atomic"
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "additionalProperties": false
                },
                "verify": {
                  "type": "boolean"
                },
                "vhost": {
                  "type": "string"
                }
              },
              "additionalProperties": false
            },
            "unixPerm": {
              "type": "integer",
              "format": "int32"
            }
          },
          "additionalProperties": false
        },
        "systemd": {
          "type": "object",
          "properties": {
            "db": {
              "type": "string"
            },
            "dbSync": {
              "type": "string",
              "enum": [
                "Extra",
                "Full",
                "Normal",
                "Off"
              ]
            },
            "maxEntries": {
              "type": "integer"
            },
            "maxFields": {
              "type": "integer"
            },
            "path": {
              "type": "string"
            },
            "pauseOnChunksOverlimit": {
              "type": "string",
              "enum": [
                "on",
                "off"
              ]
            },
            "readFromTail": {
              "type": "string",
              "enum": [
                "on",
                "off"
              ]
            },
            "storageType": {
              "type": "string",
              "enum": [
                "filesystem",
                "memory"
              ]
            },
            "stripUnderscores": {
              "type": "string",
              "enum": [
                "on",
                "off"
              ]
            },
            "systemdFilter": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "systemdFilterType": {
              "type": "string",
              "enum": [
                "And",
                "Or"
              ]
            },
            "tag": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "tail": {
          "type": "object",
          "properties": {
            "bufferChunkSize": {
              "type": "string",
              "pattern": "^\\d+(k|K|KB|kb|m|M|MB|mb|g|G|GB|gb)?$"
            },
            "bufferMaxSize": {
              "type": "string",
              "pattern": "^\\d+(k|K|KB|kb|m|M|MB|mb|g|G|GB|gb)?$"
            },
            "db": {
              "type": "string"
            },
            "dbLocking": {
              "type": "boolean"
            },
            "dbSync": {
              "type": "string",
              "enum": [
                "Extra",
                "Full",
                "Normal",
                "Off"
              ]
            },
            "disableInotifyWatcher": {
              "type": "boolean"
            },
            "dockerMode": {
              "type": "boolean"
            },
            "dockerModeFlushSeconds": {
              "type": "integer",
              "format": "int64"
            },
            "dockerModeParser": {
              "type": "string"
            },
            "excludePath": {
              "type": "string"
            },
            "ignoredOlder": {
              "type": "string",
              "pattern": "^\\d+(m|h|d)?$"
            },
            "key": {
              "type": "string"
            },
            "memBufLimit": {
              "type": "string"
            },
            "multiline": {
              "type": "boolean"
            },
            "multilineFlushSeconds": {
              "type": "integer",
              "format": "int64"
            },
            "multilineParser": {
              "type": "string"
            },
            "offsetKey": {
              "type": "string"
            },
            "parser": {
              "type": "string"
            },
            "parserFirstline": {
              "type": "string"
            },
            "parserN": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "path": {
              "type": "string"
            },
            "pathKey": {
              "type": "string"
            },
            "pauseOnChunksOverlimit": {
              "type": "string",
              "enum": [
                "on",
                "off"
              ]
            },
            "readFromHead": {
              "type": "boolean"
            },
            "refreshIntervalSeconds": {
              "type": "integer",
              "format": "int64"
            },
            "rotateWaitSeconds": {
              "type": "integer",
              "format": "int64"
            },
            "skipEmptyLines": {
              "type": "boolean"
            },
            "skipLongLines": {
              "type": "boolean"
            },
            "storageType": {
              "type": "string",
              "enum": [
                "filesystem",
                "memory"
              ]
            },
            "tag": {
              "type": "string"
            },
            "tagRegex": {
              "type": "string"
            },
            "threaded": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "tcp": {
          "type": "object",
          "properties": {
            "bufferSize": {
              "type": "string",
              "pattern": "^\\d+(k|K|KB|kb|m|M|MB|mb|g|G|GB|gb)?$"
            },
            "chunkSize": {
              "type": "string",
              "pattern": "^\\d+(k|K|KB|kb|m|M|MB|mb|g|G|GB|gb)?$"
            },
            "format": {
              "type": "string"
            },
            "listen": {
              "type": "string"
            },
            "port": {
              "type": "integer",
              "format": "int32",
              "maximum": 65535,
              "minimum": 1
            },
            "separator": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "udp": {
          "type": "object",
          "properties": {
            "bufferSize": {
              "type": "string",
              "pattern": "^\\d+(k|K|KB|kb|m|M|MB|mb|g|G|GB|gb)?$"
            },
            "chunkSize": {
              "type": "string",
              "pattern": "^\\d+(k|K|KB|kb|m|M|MB|mb|g|G|GB|gb)?$"
            },
            "format": {
              "type": "string"
            },
            "listen": {
              "type": "string"
            },
            "port": {
              "type": "integer",
              "format": "int32",
              "maximum": 65535,
              "minimum": 1
            },
            "separator": {
              "type": "string"
            },
            "sourceAddressKey": {
              "type": "string"
            },
            "threaded": {
              "type": "string"
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    }
  }
}
