{
  "type": "object",
  "properties": {
    "apiVersion": {
      "type": "string"
    },
    "kind": {
      "type": "string"
    },
    "metadata": {
      "type": "object"
    },
    "spec": {
      "type": "object",
      "properties": {
        "filters": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "customPlugin": {
                "type": "object",
                "required": [
                  "config"
                ],
                "properties": {
                  "config": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              },
              "grep": {
                "type": "object",
                "properties": {
                  "and": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "exclude": {
                          "type": "object",
                          "properties": {
                            "key": {
                              "type": "string"
                            },
                            "pattern": {
                              "type": "string"
                            }
                          },
                          "additionalProperties": false
                        },
                        "regexp": {
                          "type": "object",
                          "properties": {
                            "key": {
                              "type": "string"
                            },
                            "pattern": {
                              "type": "string"
                            }
                          },
                          "additionalProperties": false
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "exclude": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "pattern": {
                          "type": "string"
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "or": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "exclude": {
                          "type": "object",
                          "properties": {
                            "key": {
                              "type": "string"
                            },
                            "pattern": {
                              "type": "string"
                            }
                          },
                          "additionalProperties": false
                        },
                        "regexp": {
                          "type": "object",
                          "properties": {
                            "key": {
                              "type": "string"
                            },
                            "pattern": {
                              "type": "string"
                            }
                          },
                          "additionalProperties": false
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "regexp": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "pattern": {
                          "type": "string"
                        }
                      },
                      "additionalProperties": false
                    }
                  }
                },
                "additionalProperties": false
              },
              "logLevel": {
                "type": "string"
              },
              "parser": {
                "type": "object",
                "required": [
                  "keyName",
                  "parse"
                ],
                "properties": {
                  "emitInvalidRecordToError": {
                    "type": "boolean"
                  },
                  "hashValueField": {
                    "type": "string"
                  },
                  "injectKeyPrefix": {
                    "type": "string"
                  },
                  "keyName": {
                    "type": "string"
                  },
                  "parse": {
                    "type": "object",
                    "required": [
                      "type"
                    ],
                    "properties": {
                      "customPatternPath": {
                        "type": "string"
                      },
                      "estimateCurrentEvent": {
                        "type": "boolean"
                      },
                      "expression": {
                        "type": "string"
                      },
                      "grok": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "keepTimeKey": {
                              "type": "boolean"
                            },
                            "name": {
                              "type": "string"
                            },
                            "pattern": {
                              "type": "string"
                            },
                            "timeFormat": {
                              "type": "string"
                            },
                            "timeKey": {
                              "type": "string"
                            },
                            "timeZone": {
                              "type": "string"
                            }
                          },
                          "additionalProperties": false
                        }
                      },
                      "grokFailureKey": {
                        "type": "string"
                      },
                      "grokPattern": {
                        "type": "string"
                      },
                      "grokPatternSeries": {
                        "type": "string"
                      },
                      "id": {
                        "type": "string"
                      },
                      "keepTimeKey": {
                        "type": "boolean"
                      },
                      "localtime": {
                        "type": "boolean"
                      },
                      "logLevel": {
                        "type": "string"
                      },
                      "multiLineStartRegexp": {
                        "type": "string"
                      },
                      "timeFormat": {
                        "type": "string"
                      },
                      "timeFormatFallbacks": {
                        "type": "string"
                      },
                      "timeKey": {
                        "type": "string"
                      },
                      "timeType": {
                        "type": "string",
                        "enum": [
                          "float",
                          "unixtime",
                          "string",
                          "mixed"
                        ]
                      },
                      "timeout": {
                        "type": "string",
                        "pattern": "^\\d+(\\.[0-9]{0,2})?(s|m|h|d)?$"
                      },
                      "timezone": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string",
                        "enum": [
                          "regexp",
                          "apache2",
                          "apache_error",
                          "nginx",
                          "syslog",
                          "csv",
                          "tsv",
                          "ltsv",
                          "json",
                          "multiline",
                          "none",
                          "grok",
                          "multiline_grok"
                        ]
                      },
                      "types": {
                        "type": "string"
                      },
                      "utc": {
                        "type": "boolean"
                      }
                    },
                    "additionalProperties": false
                  },
                  "removeKeyNameField": {
                    "type": "boolean"
                  },
                  "replaceInvalidSequence": {
                    "type": "boolean"
                  },
                  "reserveData": {
                    "type": "boolean"
                  },
                  "reserveTime": {
                    "type": "boolean"
                  }
                },
                "additionalProperties": false
              },
              "recordTransformer": {
                "type": "object",
                "properties": {
                  "autoTypecast": {
                    "type": "boolean"
                  },
                  "enableRuby": {
                    "type": "boolean"
                  },
                  "keepKeys": {
                    "type": "string"
                  },
                  "records": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "required": [
                        "key",
                        "value"
                      ],
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "value": {
                          "type": "string"
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "removeKeys": {
                    "type": "string"
                  },
                  "renewRecord": {
                    "type": "boolean"
                  },
                  "renewTimeKey": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              },
              "stdout": {
                "type": "object",
                "properties": {
                  "format": {
                    "type": "object",
                    "properties": {
                      "delimiter": {
                        "type": "string"
                      },
                      "id": {
                        "type": "string"
                      },
                      "localtime": {
                        "type": "boolean"
                      },
                      "logLevel": {
                        "type": "string"
                      },
                      "newline": {
                        "type": "string",
                        "enum": [
                          "lf",
                          "crlf"
                        ]
                      },
                      "outputTag": {
                        "type": "boolean"
                      },
                      "outputTime": {
                        "type": "boolean"
                      },
                      "timeFormat": {
                        "type": "string"
                      },
                      "timeFormatFallbacks": {
                        "type": "string"
                      },
                      "timeType": {
                        "type": "string",
                        "enum": [
                          "float",
                          "unixtime",
                          "string",
                          "mixed"
                        ]
                      },
                      "timezone": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string",
                        "enum": [
                          "out_file",
                          "json",
                          "ltsv",
                          "csv",
                          "msgpack",
                          "hash",
                          "single_value"
                        ]
                      },
                      "utc": {
                        "type": "boolean"
                      }
                    },
                    "additionalProperties": false
                  },
                  "inject": {
                    "type": "object",
                    "properties": {
                      "hostname": {
                        "type": "string"
                      },
                      "hostnameKey": {
                        "type": "string"
                      },
                      "inline": {
                        "type": "object",
                        "properties": {
                          "localtime": {
                            "type": "boolean"
                          },
                          "timeFormat": {
                            "type": "string"
                          },
                          "timeFormatFallbacks": {
                            "type": "string"
                          },
                          "timeType": {
                            "type": "string",
                            "enum": [
                              "float",
                              "unixtime",
                              "string",
                              "mixed"
                            ]
                          },
                          "timezone": {
                            "type": "string"
                          },
                          "utc": {
                            "type": "boolean"
                          }
                        },
                        "additionalProperties": false
                      },
                      "tagKey": {
                        "type": "string"
                      },
                      "timeKey": {
                        "type": "string"
                      },
                      "workerIdKey": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              },
              "tag": {
                "type": "string"
              }
            },
            "additionalProperties": false
          }
        }
      },
      "additionalProperties": false
    },
    "status": {
      "type": "object"
    }
  }
}
