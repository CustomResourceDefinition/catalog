{
  "description": "Project manages HCP Terraform Projects.\nMore information:\n- https://developer.hashicorp.com/terraform/cloud-docs/projects/manage",
  "type": "object",
  "required": [
    "spec"
  ],
  "properties": {
    "apiVersion": {
      "description": "APIVersion defines the versioned schema of this representation of an object.\nServers should convert recognized schemas to the latest internal value, and\nmay reject unrecognized values.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
      "type": "string"
    },
    "kind": {
      "description": "Kind is a string value representing the REST resource this object represents.\nServers may infer this from the endpoint the client submits requests to.\nCannot be updated.\nIn CamelCase.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
      "type": "string"
    },
    "metadata": {
      "type": "object"
    },
    "spec": {
      "description": "ProjectSpec defines the desired state of Project.\nMore information:\n  - https://developer.hashicorp.com/terraform/cloud-docs/workspaces/organize-workspaces-with-projects",
      "type": "object",
      "required": [
        "name",
        "organization",
        "token"
      ],
      "properties": {
        "deletionPolicy": {
          "description": "DeletionPolicy defines the strategy the Kubernetes operator uses when you delete a project, either manually or by a system event.\n\nYou must use one of the following values:\n- `retain`:  When the custom resource is deleted, the operator will not delete the associated project.\n- `soft`: Attempts to remove the project. The project must be empty.\nDefault: `retain`.",
          "type": "string",
          "default": "retain",
          "enum": [
            "retain",
            "soft"
          ]
        },
        "name": {
          "description": "Name of the Project.",
          "type": "string",
          "minLength": 1
        },
        "organization": {
          "description": "Organization name where the Workspace will be created.\nMore information:\n  - https://developer.hashicorp.com/terraform/cloud-docs/users-teams-organizations/organizations",
          "type": "string",
          "minLength": 1
        },
        "teamAccess": {
          "description": "HCP Terraform's access model is team-based. In order to perform an action within a HCP Terraform organization,\nusers must belong to a team that has been granted the appropriate permissions.\nYou can assign project-specific permissions to teams.\nMore information:\n  - https://developer.hashicorp.com/terraform/cloud-docs/workspaces/organize-workspaces-with-projects#permissions\n  - https://developer.hashicorp.com/terraform/cloud-docs/users-teams-organizations/permissions#project-permissions",
          "type": "array",
          "minItems": 1,
          "items": {
            "description": "HCP Terraform's access model is team-based. In order to perform an action within a HCP Terraform organization,\nusers must belong to a team that has been granted the appropriate permissions.\nYou can assign project-specific permissions to teams.\nMore information:\n  - https://developer.hashicorp.com/terraform/cloud-docs/workspaces/organize-workspaces-with-projects#permissions\n  - https://developer.hashicorp.com/terraform/cloud-docs/users-teams-organizations/permissions#project-permissions",
            "type": "object",
            "required": [
              "access",
              "team"
            ],
            "properties": {
              "access": {
                "description": "There are two ways to choose which permissions a given team has on a project: fixed permission sets, and custom permissions.\nMust be one of the following values: `admin`, `custom`, `maintain`, `read`, `write`.\nMore information:\n  - https://developer.hashicorp.com/terraform/cloud-docs/users-teams-organizations/permissions#project-permissions\n  - https://developer.hashicorp.com/terraform/cloud-docs/users-teams-organizations/permissions#general-project-permissions",
                "type": "string",
                "enum": [
                  "admin",
                  "custom",
                  "maintain",
                  "read",
                  "write"
                ]
              },
              "custom": {
                "description": "Custom permissions let you assign specific, finer-grained permissions to a team than the broader fixed permission sets provide.\nMore information:\n  - https://developer.hashicorp.com/terraform/cloud-docs/users-teams-organizations/permissions#custom-project-permissions",
                "type": "object",
                "properties": {
                  "createWorkspace": {
                    "description": "Allow users to create workspaces in the project.\nThis grants read access to all workspaces in the project.\nDefault: `false`.",
                    "type": "boolean",
                    "default": false
                  },
                  "deleteWorkspace": {
                    "description": "Allows users to delete workspaces in the project.\nDefault: `false`.",
                    "type": "boolean",
                    "default": false
                  },
                  "lockWorkspace": {
                    "description": "Allows users to manually lock the workspace to temporarily prevent runs.\nWhen a workspace's execution mode is set to \"local\", users must have this permission to perform local CLI runs using the workspace's state.\nDefault: `false`.",
                    "type": "boolean",
                    "default": false
                  },
                  "moveWorkspace": {
                    "description": "Allows users to move workspaces out of the project.\nA user must have this permission on both the source and destination project to successfully move a workspace from one project to another.\nDefault: `false`.",
                    "type": "boolean",
                    "default": false
                  },
                  "projectAccess": {
                    "description": "Project access.\nMust be one of the following values: `delete`, `read`, `update`.\nDefault: `read`.",
                    "type": "string",
                    "default": "read",
                    "enum": [
                      "delete",
                      "read",
                      "update"
                    ]
                  },
                  "runTasks": {
                    "description": "Manage Workspace Run Tasks.\nDefault: `false`.",
                    "type": "boolean"
                  },
                  "runs": {
                    "description": "Run access.\nMust be one of the following values: `apply`, `plan`, `read`.\nDefault: `read`.",
                    "type": "string",
                    "default": "read",
                    "enum": [
                      "apply",
                      "plan",
                      "read"
                    ]
                  },
                  "sentinelMocks": {
                    "description": "Download Sentinel mocks.\nMust be one of the following values: `none`, `read`.\nDefault: `none`.",
                    "type": "string",
                    "default": "none",
                    "enum": [
                      "none",
                      "read"
                    ]
                  },
                  "stateVersions": {
                    "description": "State access.\nMust be one of the following values: `none`, `read`, `read-outputs`, `write`.\nDefault: `none`.",
                    "type": "string",
                    "default": "none",
                    "enum": [
                      "none",
                      "read",
                      "read-outputs",
                      "write"
                    ]
                  },
                  "teamManagement": {
                    "description": "Team management.\nMust be one of the following values: `manage`, `none`, `read`.\nDefault: `none`.",
                    "type": "string",
                    "default": "none",
                    "enum": [
                      "manage",
                      "none",
                      "read"
                    ]
                  },
                  "variables": {
                    "description": "Variable access.\nMust be one of the following values: `none`, `read`, `write`.\nDefault: `none`.",
                    "type": "string",
                    "default": "none",
                    "enum": [
                      "none",
                      "read",
                      "write"
                    ]
                  }
                },
                "additionalProperties": false
              },
              "team": {
                "description": "Team to grant access.\nMore information:\n  - https://developer.hashicorp.com/terraform/cloud-docs/users-teams-organizations/teams",
                "type": "object",
                "properties": {
                  "id": {
                    "description": "Team ID.\nMust match pattern: `^team-[a-zA-Z0-9]+$`",
                    "type": "string",
                    "pattern": "^team-[a-zA-Z0-9]+$"
                  },
                  "name": {
                    "description": "Team name.",
                    "type": "string",
                    "minLength": 1
                  }
                },
                "additionalProperties": false
              }
            },
            "additionalProperties": false
          }
        },
        "token": {
          "description": "API Token to be used for API calls.",
          "type": "object",
          "required": [
            "secretKeyRef"
          ],
          "properties": {
            "secretKeyRef": {
              "description": "Selects a key of a secret in the workspace's namespace",
              "type": "object",
              "required": [
                "key"
              ],
              "properties": {
                "key": {
                  "description": "The key of the secret to select from.  Must be a valid secret key.",
                  "type": "string"
                },
                "name": {
                  "description": "Name of the referent.\nThis field is effectively required, but due to backwards compatibility is\nallowed to be empty. Instances of this type with an empty value here are\nalmost certainly wrong.\nMore info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names",
                  "type": "string",
                  "default": ""
                },
                "optional": {
                  "description": "Specify whether the Secret or its key must be defined",
                  "type": "boolean"
                }
              },
              "additionalProperties": false,
              "x-kubernetes-map-type": "atomic"
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "status": {
      "description": "ProjectStatus defines the observed state of Project.",
      "type": "object",
      "required": [
        "id",
        "name",
        "observedGeneration"
      ],
      "properties": {
        "id": {
          "description": "Project ID.",
          "type": "string"
        },
        "name": {
          "description": "Project name.",
          "type": "string"
        },
        "observedGeneration": {
          "description": "Real world state generation.",
          "type": "integer",
          "format": "int64"
        }
      },
      "additionalProperties": false
    }
  }
}
