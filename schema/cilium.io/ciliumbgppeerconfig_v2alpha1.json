{
  "type": "object",
  "required": [
    "metadata",
    "spec"
  ],
  "properties": {
    "apiVersion": {
      "description": "APIVersion defines the versioned schema of this representation of an object.\nServers should convert recognized schemas to the latest internal value, and\nmay reject unrecognized values.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
      "type": "string"
    },
    "kind": {
      "description": "Kind is a string value representing the REST resource this object represents.\nServers may infer this from the endpoint the client submits requests to.\nCannot be updated.\nIn CamelCase.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
      "type": "string"
    },
    "metadata": {
      "type": "object"
    },
    "spec": {
      "description": "Spec is the specification of the desired behavior of the CiliumBGPPeerConfig.",
      "type": "object",
      "properties": {
        "authSecretRef": {
          "description": "AuthSecretRef is the name of the secret to use to fetch a TCP\nauthentication password for this peer.\n\nIf not specified, no authentication is used.",
          "type": "string"
        },
        "ebgpMultihop": {
          "description": "EBGPMultihopTTL controls the multi-hop feature for eBGP peers.\nIts value defines the Time To Live (TTL) value used in BGP\npackets sent to the peer.\n\nIf not specified, EBGP multihop is disabled. This field is ignored for iBGP neighbors.",
          "type": "integer",
          "format": "int32",
          "default": 1,
          "maximum": 255,
          "minimum": 1
        },
        "families": {
          "description": "Families, if provided, defines a set of AFI/SAFIs the speaker will\nnegotiate with it's peer.\n\nIf not specified, the default families of IPv6/unicast and IPv4/unicast will be created.",
          "type": "array",
          "items": {
            "description": "CiliumBGPFamilyWithAdverts represents a AFI/SAFI address family pair along with reference to BGP Advertisements.",
            "type": "object",
            "required": [
              "afi",
              "safi"
            ],
            "properties": {
              "advertisements": {
                "description": "Advertisements selects group of BGP Advertisement(s) to advertise for this family.\n\nIf not specified, no advertisements are sent for this family.",
                "type": "object",
                "properties": {
                  "matchExpressions": {
                    "description": "matchExpressions is a list of label selector requirements. The requirements are ANDed.",
                    "type": "array",
                    "items": {
                      "description": "A label selector requirement is a selector that contains values, a key, and an operator that\nrelates the key and values.",
                      "type": "object",
                      "required": [
                        "key",
                        "operator"
                      ],
                      "properties": {
                        "key": {
                          "description": "key is the label key that the selector applies to.",
                          "type": "string"
                        },
                        "operator": {
                          "description": "operator represents a key's relationship to a set of values.\nValid operators are In, NotIn, Exists and DoesNotExist.",
                          "type": "string",
                          "enum": [
                            "In",
                            "NotIn",
                            "Exists",
                            "DoesNotExist"
                          ]
                        },
                        "values": {
                          "description": "values is an array of string values. If the operator is In or NotIn,\nthe values array must be non-empty. If the operator is Exists or DoesNotExist,\nthe values array must be empty. This array is replaced during a strategic\nmerge patch.",
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "x-kubernetes-list-type": "atomic"
                        }
                      },
                      "additionalProperties": false
                    },
                    "x-kubernetes-list-type": "atomic"
                  },
                  "matchLabels": {
                    "description": "matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels\nmap is equivalent to an element of matchExpressions, whose key field is \"key\", the\noperator is \"In\", and the values array contains only \"value\". The requirements are ANDed.",
                    "type": "object",
                    "additionalProperties": {
                      "description": "MatchLabelsValue represents the value from the MatchLabels {key,value} pair.",
                      "type": "string",
                      "maxLength": 63,
                      "pattern": "^(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])?$"
                    }
                  }
                },
                "additionalProperties": false,
                "x-kubernetes-map-type": "atomic"
              },
              "afi": {
                "description": "Afi is the Address Family Identifier (AFI) of the family.",
                "type": "string",
                "enum": [
                  "ipv4",
                  "ipv6",
                  "l2vpn",
                  "ls",
                  "opaque"
                ]
              },
              "safi": {
                "description": "Safi is the Subsequent Address Family Identifier (SAFI) of the family.",
                "type": "string",
                "enum": [
                  "unicast",
                  "multicast",
                  "mpls_label",
                  "encapsulation",
                  "vpls",
                  "evpn",
                  "ls",
                  "sr_policy",
                  "mup",
                  "mpls_vpn",
                  "mpls_vpn_multicast",
                  "route_target_constraints",
                  "flowspec_unicast",
                  "flowspec_vpn",
                  "key_value"
                ]
              }
            },
            "additionalProperties": false
          }
        },
        "gracefulRestart": {
          "description": "GracefulRestart defines graceful restart parameters which are negotiated\nwith this peer.\n\nIf not specified, the graceful restart capability is disabled.",
          "type": "object",
          "required": [
            "enabled"
          ],
          "properties": {
            "enabled": {
              "description": "Enabled flag, when set enables graceful restart capability.",
              "type": "boolean"
            },
            "restartTimeSeconds": {
              "description": "RestartTimeSeconds is the estimated time it will take for the BGP\nsession to be re-established with peer after a restart.\nAfter this period, peer will remove stale routes. This is\ndescribed RFC 4724 section 4.2.",
              "type": "integer",
              "format": "int32",
              "default": 120,
              "maximum": 4095,
              "minimum": 1
            }
          },
          "additionalProperties": false
        },
        "timers": {
          "description": "Timers defines the BGP timers for the peer.\n\nIf not specified, the default timers are used.",
          "type": "object",
          "properties": {
            "connectRetryTimeSeconds": {
              "description": "ConnectRetryTimeSeconds defines the initial value for the BGP ConnectRetryTimer (RFC 4271, Section 8).\n\nIf not specified, defaults to 120 seconds.",
              "type": "integer",
              "format": "int32",
              "default": 120,
              "maximum": 2147483647,
              "minimum": 1
            },
            "holdTimeSeconds": {
              "description": "HoldTimeSeconds defines the initial value for the BGP HoldTimer (RFC 4271, Section 4.2).\nUpdating this value will cause a session reset.\n\nIf not specified, defaults to 90 seconds.",
              "type": "integer",
              "format": "int32",
              "default": 90,
              "maximum": 65535,
              "minimum": 3
            },
            "keepAliveTimeSeconds": {
              "description": "KeepaliveTimeSeconds defines the initial value for the BGP KeepaliveTimer (RFC 4271, Section 8).\nIt can not be larger than HoldTimeSeconds. Updating this value will cause a session reset.\n\nIf not specified, defaults to 30 seconds.",
              "type": "integer",
              "format": "int32",
              "default": 30,
              "maximum": 65535,
              "minimum": 1
            }
          },
          "additionalProperties": false,
          "x-kubernetes-validations": [
            {
              "rule": "self.keepAliveTimeSeconds \u003c= self.holdTimeSeconds",
              "message": "keepAliveTimeSeconds can not be larger than holdTimeSeconds"
            }
          ]
        },
        "transport": {
          "description": "Transport defines the BGP transport parameters for the peer.\n\nIf not specified, the default transport parameters are used.",
          "type": "object",
          "properties": {
            "localPort": {
              "description": "Deprecated\nLocalPort is the local port to be used for the BGP session.\n\nIf not specified, ephemeral port will be picked to initiate a connection.\n\nThis field is deprecated and will be removed in a future release.\nLocal port configuration is unnecessary and is not recommended.",
              "type": "integer",
              "format": "int32",
              "maximum": 65535,
              "minimum": 1
            },
            "peerPort": {
              "description": "PeerPort is the peer port to be used for the BGP session.\n\nIf not specified, defaults to TCP port 179.",
              "type": "integer",
              "format": "int32",
              "default": 179,
              "maximum": 65535,
              "minimum": 1
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "status": {
      "description": "Status is the running status of the CiliumBGPPeerConfig",
      "type": "object",
      "properties": {
        "conditions": {
          "description": "The current conditions of the CiliumBGPPeerConfig",
          "type": "array",
          "items": {
            "description": "Condition contains details for one aspect of the current state of this API Resource.",
            "type": "object",
            "required": [
              "lastTransitionTime",
              "message",
              "reason",
              "status",
              "type"
            ],
            "properties": {
              "lastTransitionTime": {
                "description": "lastTransitionTime is the last time the condition transitioned from one status to another.\nThis should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.",
                "type": "string",
                "format": "date-time"
              },
              "message": {
                "description": "message is a human readable message indicating details about the transition.\nThis may be an empty string.",
                "type": "string",
                "maxLength": 32768
              },
              "observedGeneration": {
                "description": "observedGeneration represents the .metadata.generation that the condition was set based upon.\nFor instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date\nwith respect to the current state of the instance.",
                "type": "integer",
                "format": "int64",
                "minimum": 0
              },
              "reason": {
                "description": "reason contains a programmatic identifier indicating the reason for the condition's last transition.\nProducers of specific condition types may define expected values and meanings for this field,\nand whether the values are considered a guaranteed API.\nThe value should be a CamelCase string.\nThis field may not be empty.",
                "type": "string",
                "maxLength": 1024,
                "minLength": 1,
                "pattern": "^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$"
              },
              "status": {
                "description": "status of the condition, one of True, False, Unknown.",
                "type": "string",
                "enum": [
                  "True",
                  "False",
                  "Unknown"
                ]
              },
              "type": {
                "description": "type of condition in CamelCase or in foo.example.com/CamelCase.",
                "type": "string",
                "maxLength": 316,
                "pattern": "^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$"
              }
            },
            "additionalProperties": false
          },
          "x-kubernetes-list-map-keys": [
            "type"
          ],
          "x-kubernetes-list-type": "map"
        }
      },
      "additionalProperties": false
    }
  }
}
