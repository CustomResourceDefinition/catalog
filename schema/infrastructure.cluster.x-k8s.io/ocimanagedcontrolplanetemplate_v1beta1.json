{
  "description": "OCIManagedControlPlaneTemplate is the Schema for the OCIManagedControlPlaneTemplates API.",
  "type": "object",
  "properties": {
    "apiVersion": {
      "description": "APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
      "type": "string"
    },
    "kind": {
      "description": "Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
      "type": "string"
    },
    "metadata": {
      "type": "object"
    },
    "spec": {
      "description": "OCIManagedControlPlaneTemplateSpec defines the desired state of OCIManagedControlPlaneTemplate.",
      "type": "object",
      "required": [
        "template"
      ],
      "properties": {
        "template": {
          "description": "OCIManagedControlPlaneSpec describes the data needed to create an OCIManagedControlPlane from a template.",
          "type": "object",
          "required": [
            "spec"
          ],
          "properties": {
            "spec": {
              "description": "OCIManagedControlPlaneSpec defines the desired state of OCIManagedControlPlane. The properties are generated from https://docs.oracle.com/en-us/iaas/api/#/en/containerengine/20180222/datatypes/CreateClusterDetails",
              "type": "object",
              "properties": {
                "clusterOptions": {
                  "description": "ClusterOptions defines Optional attributes for the cluster.",
                  "type": "object",
                  "properties": {
                    "addOnOptions": {
                      "description": "AddOnOptions defines the properties that define options for supported add-ons.",
                      "type": "object",
                      "properties": {
                        "isKubernetesDashboardEnabled": {
                          "description": "IsKubernetesDashboardEnabled defines whether or not to enable the Kubernetes Dashboard add-on.",
                          "type": "boolean"
                        },
                        "isTillerEnabled": {
                          "description": "IsKubernetesDashboardEnabled defines whether or not to enable the Tiller add-on.",
                          "type": "boolean"
                        }
                      },
                      "additionalProperties": false
                    },
                    "admissionControllerOptions": {
                      "description": "AdmissionControllerOptions defines the properties that define supported admission controllers.",
                      "type": "object",
                      "properties": {
                        "isPodSecurityPolicyEnabled": {
                          "description": "IsPodSecurityPolicyEnabled defines whether or not to enable the Pod Security Policy admission controller.",
                          "type": "boolean"
                        }
                      },
                      "additionalProperties": false
                    },
                    "openIdConnectDiscovery": {
                      "description": "OpenIDConnectDiscovery specifies OIDC discovery settings",
                      "type": "object",
                      "properties": {
                        "isOpenIdConnectDiscoveryEnabled": {
                          "description": "IsOpenIDConnectDiscoveryEnabled defines whether or not to enable the OIDC discovery.",
                          "type": "boolean"
                        }
                      },
                      "additionalProperties": false
                    },
                    "openIdConnectTokenAuthenticationConfig": {
                      "description": "OpenIDConnectTokenAuthenticationConfig",
                      "type": "object",
                      "required": [
                        "isOpenIdConnectAuthEnabled"
                      ],
                      "properties": {
                        "caCertificate": {
                          "description": "A Base64 encoded public RSA or ECDSA certificates used to sign your identity provider's web certificate.",
                          "type": "string"
                        },
                        "clientId": {
                          "description": "A client id that all tokens must be issued for.",
                          "type": "string"
                        },
                        "groupsClaim": {
                          "description": "JWT claim to use as the user's group. If the claim is present it must be an array of strings.",
                          "type": "string"
                        },
                        "groupsPrefix": {
                          "description": "Prefix prepended to group claims to prevent clashes with existing names (such as system:groups).",
                          "type": "string"
                        },
                        "isOpenIdConnectAuthEnabled": {
                          "description": "IsOpenIdConnectAuthEnabled defines whether or not to enable the OIDC authentication.",
                          "type": "boolean"
                        },
                        "issuerUrl": {
                          "description": "URL of the provider that allows the API server to discover public signing keys. Only URLs that use the https:// scheme are accepted. This is typically the provider's discovery URL, changed to have an empty path.",
                          "type": "string"
                        },
                        "requiredClaims": {
                          "description": "A key=value pair that describes a required claim in the ID Token. If set, the claim is verified to be present in the ID Token with a matching value. Repeat this flag to specify multiple claims.",
                          "type": "array",
                          "items": {
                            "description": "KeyValue The properties that define a key value pair.",
                            "type": "object",
                            "required": [
                              "key",
                              "value"
                            ],
                            "properties": {
                              "key": {
                                "description": "The key of the pair.",
                                "type": "string"
                              },
                              "value": {
                                "description": "The value of the pair.",
                                "type": "string"
                              }
                            },
                            "additionalProperties": false
                          }
                        },
                        "signingAlgorithms": {
                          "description": "The signing algorithms accepted. Default is [\"RS256\"].",
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "usernameClaim": {
                          "description": "JWT claim to use as the user name. By default sub, which is expected to be a unique identifier of the end user. Admins can choose other claims, such as email or name, depending on their provider. However, claims other than email will be prefixed with the issuer URL to prevent naming clashes with other plugins.",
                          "type": "string"
                        },
                        "usernamePrefix": {
                          "description": "Prefix prepended to username claims to prevent clashes with existing names (such as system:users). For example, the value oidc: will create usernames like oidc:jane.doe. If this flag isn't provided and --oidc-username-claim is a value other than email the prefix defaults to ( Issuer URL )# where ( Issuer URL ) is the value of --oidc-issuer-url. The value - can be used to disable all prefixing.",
                          "type": "string"
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "additionalProperties": false
                },
                "clusterPodNetworkOptions": {
                  "description": "ClusterPodNetworkOptions defines the available CNIs and network options for existing and new node pools of the cluster",
                  "type": "array",
                  "items": {
                    "description": "ClusterPodNetworkOptions defines the available CNIs and network options for existing and new node pools of the cluster",
                    "type": "object",
                    "properties": {
                      "cniType": {
                        "description": "The CNI to be used are OCI_VCN_IP_NATIVE and FLANNEL_OVERLAY",
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "controlPlaneEndpoint": {
                  "description": "ControlPlaneEndpoint represents the endpoint used to communicate with the control plane.",
                  "type": "object",
                  "required": [
                    "host",
                    "port"
                  ],
                  "properties": {
                    "host": {
                      "description": "The hostname on which the API server is serving.",
                      "type": "string"
                    },
                    "port": {
                      "description": "The port on which the API server is serving.",
                      "type": "integer",
                      "format": "int32"
                    }
                  },
                  "additionalProperties": false
                },
                "id": {
                  "description": "ID of the OKEcluster.",
                  "type": "string"
                },
                "imagePolicyConfig": {
                  "description": "ImagePolicyConfig defines the properties that define a image verification policy.",
                  "type": "object",
                  "properties": {
                    "isPolicyEnabled": {
                      "description": "IsPolicyEnabled defines Whether the image verification policy is enabled.",
                      "type": "boolean"
                    },
                    "keyDetails": {
                      "description": "KeyDetails defines a list of KMS key details.",
                      "type": "array",
                      "items": {
                        "description": "KeyDetails defines the properties that define the kms keys used by OKE for Image Signature verification.",
                        "type": "object",
                        "properties": {
                          "keyDetails": {
                            "description": "KmsKeyId defines the OCID of the KMS key that will be used to verify whether the images are signed by an approved source.",
                            "type": "string"
                          }
                        },
                        "additionalProperties": false
                      }
                    }
                  },
                  "additionalProperties": false
                },
                "kmsKeyId": {
                  "description": "KmsKeyId defines the OCID of the KMS key to be used as the master encryption key for Kubernetes secret encryption. When used,",
                  "type": "string"
                },
                "version": {
                  "description": "Version represents the version of the Kubernetes Cluster Control Plane.",
                  "type": "string"
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    }
  }
}
