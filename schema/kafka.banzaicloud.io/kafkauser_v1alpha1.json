{
  "description": "KafkaUser is the Schema for the kafka users API",
  "type": "object",
  "properties": {
    "apiVersion": {
      "description": "APIVersion defines the versioned schema of this representation of an object.\nServers should convert recognized schemas to the latest internal value, and\nmay reject unrecognized values.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
      "type": "string"
    },
    "kind": {
      "description": "Kind is a string value representing the REST resource this object represents.\nServers may infer this from the endpoint the client submits requests to.\nCannot be updated.\nIn CamelCase.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
      "type": "string"
    },
    "metadata": {
      "type": "object"
    },
    "spec": {
      "description": "KafkaUserSpec defines the desired state of KafkaUser",
      "type": "object",
      "required": [
        "clusterRef",
        "secretName"
      ],
      "properties": {
        "annotations": {
          "description": "Annotations defines the annotations placed on the certificate or certificate signing request object",
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "clusterRef": {
          "description": "ClusterReference states a reference to a cluster for topic/user\nprovisioning",
          "type": "object",
          "required": [
            "name"
          ],
          "properties": {
            "name": {
              "type": "string"
            },
            "namespace": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "createCert": {
          "type": "boolean"
        },
        "dnsNames": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "expirationSeconds": {
          "description": "expirationSeconds is the requested duration of validity of the issued certificate.\nThe minimum valid value for expirationSeconds is 3600 i.e. 1h.\nWhen it is not specified the default validation duration is 90 days",
          "type": "integer",
          "format": "int32",
          "minimum": 3600
        },
        "includeJKS": {
          "type": "boolean"
        },
        "pkiBackendSpec": {
          "type": "object",
          "required": [
            "pkiBackend"
          ],
          "properties": {
            "issuerRef": {
              "description": "ObjectReference is a reference to an object with a given name, kind and group.",
              "type": "object",
              "required": [
                "name"
              ],
              "properties": {
                "group": {
                  "description": "Group of the resource being referred to.",
                  "type": "string"
                },
                "kind": {
                  "description": "Kind of the resource being referred to.",
                  "type": "string"
                },
                "name": {
                  "description": "Name of the resource being referred to.",
                  "type": "string"
                }
              },
              "additionalProperties": false
            },
            "pkiBackend": {
              "type": "string",
              "enum": [
                "cert-manager",
                "k8s-csr"
              ]
            },
            "signerName": {
              "description": "SignerName indicates requested signer, and is a qualified name.",
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "secretName": {
          "description": "secretName is used as the name of the K8S secret that contains the certificate of the KafkaUser. SecretName should be unique inside the namespace where KafkaUser is located.",
          "type": "string"
        },
        "topicGrants": {
          "type": "array",
          "items": {
            "description": "UserTopicGrant is the desired permissions for the KafkaUser",
            "type": "object",
            "required": [
              "accessType",
              "topicName"
            ],
            "properties": {
              "accessType": {
                "description": "KafkaAccessType hold info about Kafka ACL",
                "type": "string",
                "enum": [
                  "read",
                  "write"
                ]
              },
              "patternType": {
                "description": "KafkaPatternType hold the Resource Pattern Type of kafka ACL",
                "type": "string",
                "enum": [
                  "literal",
                  "match",
                  "prefixed",
                  "any"
                ]
              },
              "topicName": {
                "type": "string"
              }
            },
            "additionalProperties": false
          }
        }
      },
      "additionalProperties": false
    },
    "status": {
      "description": "KafkaUserStatus defines the observed state of KafkaUser",
      "type": "object",
      "required": [
        "state"
      ],
      "properties": {
        "acls": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "state": {
          "description": "UserState defines the state of a KafkaUser",
          "type": "string"
        }
      },
      "additionalProperties": false
    }
  }
}
