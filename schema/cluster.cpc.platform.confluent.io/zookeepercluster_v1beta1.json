{
  "description": "ZookeeperCluster is the Schema for the zookeeperclusters API",
  "type": "object",
  "required": [
    "spec"
  ],
  "properties": {
    "apiVersion": {
      "description": "APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
      "type": "string"
    },
    "kind": {
      "description": "Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
      "type": "string"
    },
    "metadata": {
      "type": "object"
    },
    "spec": {
      "description": "ZookeeperClusterSpec defines the desired state of ZookeeperCluster",
      "type": "object",
      "required": [
        "blueprintRef"
      ],
      "properties": {
        "blueprintRef": {
          "description": "blueprintRef defines which blueprint the Zookeeper cluster should use.",
          "type": "object",
          "required": [
            "name"
          ],
          "properties": {
            "name": {
              "description": "Name is the name of the referenced CR",
              "type": "string",
              "maxLength": 63,
              "minLength": 1,
              "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$"
            },
            "namespace": {
              "description": "Namespace of the CR. Defaults to the current namespace of the CR making the reference",
              "type": "string",
              "maxLength": 255,
              "minLength": 1,
              "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$"
            }
          },
          "additionalProperties": false
        },
        "credentialStoreConfigRef": {
          "description": "credentialStoreConfigRef references the CredentialStoreConfig CR that manages credentials across CP",
          "type": "object",
          "required": [
            "name"
          ],
          "properties": {
            "name": {
              "description": "Name is the name of the referenced CR",
              "type": "string",
              "maxLength": 63,
              "minLength": 1,
              "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$"
            },
            "namespace": {
              "description": "Namespace of the CR. Defaults to the current namespace of the CR making the reference",
              "type": "string",
              "maxLength": 255,
              "minLength": 1,
              "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$"
            }
          },
          "additionalProperties": false
        },
        "dataVolumeCapacity": {
          "description": "dataVolumeCapacity will resize the existing volume. If value is less or greater than the value the configured by the class (platform administrator) then the request will be rejected. The webhook will be in place to let user know if the request will be denied",
          "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "string"
            }
          ],
          "x-kubernetes-int-or-string": true
        },
        "k8sClusterRef": {
          "description": "k8sClusterRef references to kubernetes clusters where zookeeper going to be deployed. If missing then the cpc-validator webhook will inject default kubernetes cluster and will assume both Control and data plane service are running in the mothership cluster. Needs to be specified when cluster is provisioned by cfk.",
          "type": "object",
          "required": [
            "name"
          ],
          "properties": {
            "name": {
              "description": "Name is the name of the referenced CR",
              "type": "string",
              "maxLength": 63,
              "minLength": 1,
              "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$"
            },
            "namespace": {
              "description": "Namespace of the CR. Defaults to the current namespace of the CR making the reference",
              "type": "string",
              "maxLength": 255,
              "minLength": 1,
              "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$"
            }
          },
          "additionalProperties": false
        },
        "logVolumeCapacity": {
          "description": "logVolumeCapacity will resize the existing volume. If value is less or greater than the value the configured by the class (platform administrator) then the request will be rejected. The webhook will be in place to let user know if the request will be denied",
          "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "string"
            }
          ],
          "x-kubernetes-int-or-string": true
        },
        "replicas": {
          "description": "replicas is the number of replicas for the cluster. If configured, the value will be checked against the ZookeeperClusterClass configuration max replicas. If not, it will use the default in the ZookeeperClusterClass.",
          "type": "integer",
          "format": "int32"
        },
        "targetCluster": {
          "description": "targetCluster defines where the zookeeper cluster should be deployed.",
          "type": "object",
          "required": [
            "name"
          ],
          "properties": {
            "name": {
              "description": "Name is the name of the referenced CR",
              "type": "string",
              "maxLength": 63,
              "minLength": 1,
              "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$"
            },
            "namespace": {
              "description": "Namespace of the CR. Defaults to the current namespace of the CR making the reference",
              "type": "string",
              "maxLength": 255,
              "minLength": 1,
              "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$"
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "status": {
      "description": "ZookeeperClusterStatus defines the observed state of ZookeeperCluster",
      "type": "object",
      "properties": {
        "classGeneration": {
          "description": "classGeneration is the generation version of the cluster class referenced from the deployment.",
          "type": "integer",
          "format": "int64"
        },
        "clusterClass": {
          "description": "clusterClass is the namespaced name of the ClusterClass that this deployment object is referencing to.",
          "type": "string"
        },
        "clusterState": {
          "description": "clusterState is the state of the cluster.",
          "type": "string",
          "default": "Unknown"
        },
        "conditions": {
          "description": "conditions specify the latest available observations of the current state.",
          "type": "array",
          "items": {
            "description": "Condition represents the latest available observations of the current state.",
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "lastTransitionTime": {
                "description": "lastTransitionTime shows the last time the condition was transitioned from one status to another.",
                "type": "string",
                "format": "date-time"
              },
              "lastUpdateTime": {
                "description": "lastUpdateTime shows the last time the condition was evaluated.",
                "type": "string",
                "format": "date-time"
              },
              "message": {
                "description": "message shows a human-readable message with details about the transition.",
                "type": "string"
              },
              "reason": {
                "description": "reason shows the reason for the last transition of the condition.",
                "type": "string"
              },
              "status": {
                "description": "status shows the status of the condition, one of `True`, `False`, or `Unknown`.",
                "type": "string"
              },
              "type": {
                "description": "type shows the condition type.",
                "type": "string"
              }
            },
            "additionalProperties": false
          }
        },
        "confluentPlatformBlueprint": {
          "description": "confluentPlatformBlueprint is the namespaced name of the confluentPlatformBlueprint referenced from the deployment.",
          "type": "string"
        },
        "confluentPlatformBlueprintGeneration": {
          "description": "confluentPlatformBlueprintGeneration is the generation version of the confluentPlatformBlueprint referenced from the deployment.",
          "type": "integer",
          "format": "int64"
        },
        "currentReplicas": {
          "description": "currentReplicas is the number of currently running replicas.",
          "type": "integer",
          "format": "int32"
        },
        "dataVolumeSize": {
          "description": "dataVolumeSize describes the volume size in use by the application",
          "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "string"
            }
          ],
          "x-kubernetes-int-or-string": true
        },
        "internalSecretName": {
          "description": "internalSecretName is the name of the CPC internal secret created for this cluster",
          "type": "string"
        },
        "kubernetesCluster": {
          "description": "kubernetesCluster is the namespaced name of the  kubernetesCluster CR that is the deployment is provisioned to.",
          "type": "string"
        },
        "maxReplicas": {
          "description": "maxReplicas is the max number of replicas.",
          "type": "integer",
          "format": "int32"
        },
        "myIDOffset": {
          "description": "myIDOffset describes the offset used by the zookeeper cluster.",
          "type": "integer",
          "format": "int32"
        },
        "observedGeneration": {
          "description": "observedGeneration is the most recent generation observed for this cluster.",
          "type": "integer",
          "format": "int64"
        },
        "phase": {
          "description": "phase describes whether the internal state is generated. Values are Bound, Pending and Unknown.",
          "type": "string",
          "default": "Unknown"
        },
        "provisionerType": {
          "description": "provisionerType is the type of underlying resource for the cluster",
          "type": "string",
          "enum": [
            "cfk",
            "ccloud"
          ]
        },
        "ready": {
          "description": "ready is the number of ready replicas based on the desired replicas. The value is in the following format: `readyReplicas/replicas`.",
          "type": "string"
        },
        "readyReplicas": {
          "description": "readyReplicas is the number of currently ready replicas.",
          "type": "integer",
          "format": "int32"
        },
        "replicas": {
          "description": "replicas is the number of replicas.",
          "type": "integer",
          "format": "int32"
        },
        "targetCluster": {
          "description": "targetCluster is the namespaced name of the cluster that is created from the deployment.",
          "type": "string"
        },
        "tls": {
          "description": "tls shows whether TLS is configured for this cluster.",
          "type": "object",
          "properties": {
            "enabled": {
              "description": "enabled specifies whether tls is enabled.",
              "type": "boolean"
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    }
  }
}
