{
  "description": "VirtualRouter is the Schema for the virtualrouters API",
  "type": "object",
  "properties": {
    "apiVersion": {
      "description": "APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
      "type": "string"
    },
    "kind": {
      "description": "Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
      "type": "string"
    },
    "metadata": {
      "type": "object"
    },
    "spec": {
      "description": "VirtualRouterSpec defines the desired state of VirtualRouter refers to https://docs.aws.amazon.com/app-mesh/latest/APIReference/API_VirtualRouterSpec.html",
      "type": "object",
      "properties": {
        "awsName": {
          "description": "AWSName is the AppMesh VirtualRouter object's name. If unspecified or empty, it defaults to be \"${name}_${namespace}\" of k8s VirtualRouter",
          "type": "string"
        },
        "listeners": {
          "description": "The listeners that the virtual router is expected to receive inbound traffic from",
          "type": "array",
          "minItems": 1,
          "items": {
            "description": "VirtualRouterListener refers to https://docs.aws.amazon.com/app-mesh/latest/APIReference/API_VirtualRouterListener.html",
            "type": "object",
            "required": [
              "portMapping"
            ],
            "properties": {
              "portMapping": {
                "description": "The port mapping information for the listener.",
                "type": "object",
                "required": [
                  "port",
                  "protocol"
                ],
                "properties": {
                  "port": {
                    "description": "The port used for the port mapping.",
                    "type": "integer",
                    "format": "int64",
                    "maximum": 65535,
                    "minimum": 1
                  },
                  "protocol": {
                    "description": "The protocol used for the port mapping.",
                    "type": "string",
                    "enum": [
                      "grpc",
                      "http",
                      "http2",
                      "tcp"
                    ]
                  }
                },
                "additionalProperties": false
              }
            },
            "additionalProperties": false
          }
        },
        "meshRef": {
          "description": "A reference to k8s Mesh CR that this VirtualRouter belongs to. The admission controller populates it using Meshes's selector, and prevents users from setting this field. \n Populated by the system. Read-only.",
          "type": "object",
          "required": [
            "name",
            "uid"
          ],
          "properties": {
            "name": {
              "description": "Name is the name of Mesh CR",
              "type": "string"
            },
            "uid": {
              "description": "UID is the UID of Mesh CR",
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "routes": {
          "description": "The routes associated with VirtualRouter",
          "type": "array",
          "items": {
            "description": "Route refers to https://docs.aws.amazon.com/app-mesh/latest/APIReference/API_RouteSpec.html",
            "type": "object",
            "required": [
              "name"
            ],
            "properties": {
              "grpcRoute": {
                "description": "An object that represents the specification of a gRPC route.",
                "type": "object",
                "required": [
                  "action",
                  "match"
                ],
                "properties": {
                  "action": {
                    "description": "An object that represents the action to take if a match is determined.",
                    "type": "object",
                    "required": [
                      "weightedTargets"
                    ],
                    "properties": {
                      "weightedTargets": {
                        "description": "An object that represents the targets that traffic is routed to when a request matches the route.",
                        "type": "array",
                        "maxItems": 10,
                        "minItems": 1,
                        "items": {
                          "description": "WeightedTarget refers to https://docs.aws.amazon.com/app-mesh/latest/APIReference/API_WeightedTarget.html",
                          "type": "object",
                          "required": [
                            "weight"
                          ],
                          "properties": {
                            "port": {
                              "description": "Specifies the targeted port of the weighted object",
                              "type": "integer",
                              "format": "int64",
                              "minimum": 0
                            },
                            "virtualNodeARN": {
                              "description": "Amazon Resource Name to AppMesh VirtualNode object to associate with the weighted target. Exactly one of 'virtualNodeRef' or 'virtualNodeARN' must be specified.",
                              "type": "string"
                            },
                            "virtualNodeRef": {
                              "description": "Reference to Kubernetes VirtualNode CR in cluster to associate with the weighted target. Exactly one of 'virtualNodeRef' or 'virtualNodeARN' must be specified.",
                              "type": "object",
                              "required": [
                                "name"
                              ],
                              "properties": {
                                "name": {
                                  "description": "Name is the name of VirtualNode CR",
                                  "type": "string"
                                },
                                "namespace": {
                                  "description": "Namespace is the namespace of VirtualNode CR. If unspecified, defaults to the referencing object's namespace",
                                  "type": "string"
                                }
                              },
                              "additionalProperties": false
                            },
                            "weight": {
                              "description": "The relative weight of the weighted target.",
                              "type": "integer",
                              "format": "int64",
                              "maximum": 100,
                              "minimum": 0
                            }
                          },
                          "additionalProperties": false
                        }
                      }
                    },
                    "additionalProperties": false
                  },
                  "match": {
                    "description": "An object that represents the criteria for determining a request match.",
                    "type": "object",
                    "properties": {
                      "metadata": {
                        "description": "An object that represents the data to match from the request.",
                        "type": "array",
                        "maxItems": 10,
                        "minItems": 1,
                        "items": {
                          "description": "GRPCRouteMetadata refers to https://docs.aws.amazon.com/app-mesh/latest/APIReference/API_GrpcRouteMetadata.html",
                          "type": "object",
                          "required": [
                            "name"
                          ],
                          "properties": {
                            "invert": {
                              "description": "Specify True to match anything except the match criteria. The default value is False.",
                              "type": "boolean"
                            },
                            "match": {
                              "description": "An object that represents the data to match from the request.",
                              "type": "object",
                              "properties": {
                                "exact": {
                                  "description": "The value sent by the client must match the specified value exactly.",
                                  "type": "string",
                                  "maxLength": 255,
                                  "minLength": 1
                                },
                                "prefix": {
                                  "description": "The value sent by the client must begin with the specified characters.",
                                  "type": "string",
                                  "maxLength": 255,
                                  "minLength": 1
                                },
                                "range": {
                                  "description": "An object that represents the range of values to match on",
                                  "type": "object",
                                  "required": [
                                    "end",
                                    "start"
                                  ],
                                  "properties": {
                                    "end": {
                                      "description": "The end of the range.",
                                      "type": "integer",
                                      "format": "int64"
                                    },
                                    "start": {
                                      "description": "The start of the range.",
                                      "type": "integer",
                                      "format": "int64"
                                    }
                                  },
                                  "additionalProperties": false
                                },
                                "regex": {
                                  "description": "The value sent by the client must include the specified characters.",
                                  "type": "string",
                                  "maxLength": 255,
                                  "minLength": 1
                                },
                                "suffix": {
                                  "description": "The value sent by the client must end with the specified characters.",
                                  "type": "string",
                                  "maxLength": 255,
                                  "minLength": 1
                                }
                              },
                              "additionalProperties": false
                            },
                            "name": {
                              "description": "The name of the route.",
                              "type": "string",
                              "maxLength": 50,
                              "minLength": 1
                            }
                          },
                          "additionalProperties": false
                        }
                      },
                      "methodName": {
                        "description": "The method name to match from the request. If you specify a name, you must also specify a serviceName.",
                        "type": "string",
                        "maxLength": 50,
                        "minLength": 1
                      },
                      "port": {
                        "description": "Specifies the port to match requests with",
                        "type": "integer",
                        "format": "int64",
                        "minimum": 0
                      },
                      "serviceName": {
                        "description": "The fully qualified domain name for the service to match from the request.",
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "retryPolicy": {
                    "description": "An object that represents a retry policy.",
                    "type": "object",
                    "required": [
                      "maxRetries",
                      "perRetryTimeout"
                    ],
                    "properties": {
                      "grpcRetryEvents": {
                        "type": "array",
                        "maxItems": 5,
                        "minItems": 1,
                        "items": {
                          "type": "string",
                          "enum": [
                            "cancelled",
                            "deadline-exceeded",
                            "internal",
                            "resource-exhausted",
                            "unavailable"
                          ]
                        }
                      },
                      "httpRetryEvents": {
                        "type": "array",
                        "maxItems": 25,
                        "minItems": 1,
                        "items": {
                          "type": "string",
                          "enum": [
                            "server-error",
                            "gateway-error",
                            "client-error",
                            "stream-error"
                          ]
                        }
                      },
                      "maxRetries": {
                        "description": "The maximum number of retry attempts.",
                        "type": "integer",
                        "format": "int64",
                        "minimum": 0
                      },
                      "perRetryTimeout": {
                        "description": "An object that represents a duration of time.",
                        "type": "object",
                        "required": [
                          "unit",
                          "value"
                        ],
                        "properties": {
                          "unit": {
                            "description": "A unit of time.",
                            "type": "string",
                            "enum": [
                              "s",
                              "ms"
                            ]
                          },
                          "value": {
                            "description": "A number of time units.",
                            "type": "integer",
                            "format": "int64",
                            "minimum": 0
                          }
                        },
                        "additionalProperties": false
                      },
                      "tcpRetryEvents": {
                        "type": "array",
                        "maxItems": 1,
                        "minItems": 1,
                        "items": {
                          "type": "string",
                          "enum": [
                            "connection-error"
                          ]
                        }
                      }
                    },
                    "additionalProperties": false
                  },
                  "timeout": {
                    "description": "An object that represents a grpc timeout.",
                    "type": "object",
                    "properties": {
                      "idle": {
                        "description": "An object that represents idle timeout duration.",
                        "type": "object",
                        "required": [
                          "unit",
                          "value"
                        ],
                        "properties": {
                          "unit": {
                            "description": "A unit of time.",
                            "type": "string",
                            "enum": [
                              "s",
                              "ms"
                            ]
                          },
                          "value": {
                            "description": "A number of time units.",
                            "type": "integer",
                            "format": "int64",
                            "minimum": 0
                          }
                        },
                        "additionalProperties": false
                      },
                      "perRequest": {
                        "description": "An object that represents per request timeout duration.",
                        "type": "object",
                        "required": [
                          "unit",
                          "value"
                        ],
                        "properties": {
                          "unit": {
                            "description": "A unit of time.",
                            "type": "string",
                            "enum": [
                              "s",
                              "ms"
                            ]
                          },
                          "value": {
                            "description": "A number of time units.",
                            "type": "integer",
                            "format": "int64",
                            "minimum": 0
                          }
                        },
                        "additionalProperties": false
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              },
              "http2Route": {
                "description": "An object that represents the specification of an HTTP/2 route.",
                "type": "object",
                "required": [
                  "action",
                  "match"
                ],
                "properties": {
                  "action": {
                    "description": "An object that represents the action to take if a match is determined.",
                    "type": "object",
                    "required": [
                      "weightedTargets"
                    ],
                    "properties": {
                      "weightedTargets": {
                        "description": "An object that represents the targets that traffic is routed to when a request matches the route.",
                        "type": "array",
                        "maxItems": 10,
                        "minItems": 1,
                        "items": {
                          "description": "WeightedTarget refers to https://docs.aws.amazon.com/app-mesh/latest/APIReference/API_WeightedTarget.html",
                          "type": "object",
                          "required": [
                            "weight"
                          ],
                          "properties": {
                            "port": {
                              "description": "Specifies the targeted port of the weighted object",
                              "type": "integer",
                              "format": "int64",
                              "minimum": 0
                            },
                            "virtualNodeARN": {
                              "description": "Amazon Resource Name to AppMesh VirtualNode object to associate with the weighted target. Exactly one of 'virtualNodeRef' or 'virtualNodeARN' must be specified.",
                              "type": "string"
                            },
                            "virtualNodeRef": {
                              "description": "Reference to Kubernetes VirtualNode CR in cluster to associate with the weighted target. Exactly one of 'virtualNodeRef' or 'virtualNodeARN' must be specified.",
                              "type": "object",
                              "required": [
                                "name"
                              ],
                              "properties": {
                                "name": {
                                  "description": "Name is the name of VirtualNode CR",
                                  "type": "string"
                                },
                                "namespace": {
                                  "description": "Namespace is the namespace of VirtualNode CR. If unspecified, defaults to the referencing object's namespace",
                                  "type": "string"
                                }
                              },
                              "additionalProperties": false
                            },
                            "weight": {
                              "description": "The relative weight of the weighted target.",
                              "type": "integer",
                              "format": "int64",
                              "maximum": 100,
                              "minimum": 0
                            }
                          },
                          "additionalProperties": false
                        }
                      }
                    },
                    "additionalProperties": false
                  },
                  "match": {
                    "description": "An object that represents the criteria for determining a request match.",
                    "type": "object",
                    "properties": {
                      "headers": {
                        "description": "An object that represents the client request headers to match on.",
                        "type": "array",
                        "maxItems": 10,
                        "minItems": 1,
                        "items": {
                          "description": "HTTPRouteHeader refers to https://docs.aws.amazon.com/app-mesh/latest/APIReference/API_HttpRouteHeader.html",
                          "type": "object",
                          "required": [
                            "name"
                          ],
                          "properties": {
                            "invert": {
                              "description": "Specify True to match anything except the match criteria. The default value is False.",
                              "type": "boolean"
                            },
                            "match": {
                              "description": "The HeaderMatchMethod object.",
                              "type": "object",
                              "properties": {
                                "exact": {
                                  "description": "The value sent by the client must match the specified value exactly.",
                                  "type": "string",
                                  "maxLength": 255,
                                  "minLength": 1
                                },
                                "prefix": {
                                  "description": "The value sent by the client must begin with the specified characters.",
                                  "type": "string",
                                  "maxLength": 255,
                                  "minLength": 1
                                },
                                "range": {
                                  "description": "An object that represents the range of values to match on.",
                                  "type": "object",
                                  "required": [
                                    "end",
                                    "start"
                                  ],
                                  "properties": {
                                    "end": {
                                      "description": "The end of the range.",
                                      "type": "integer",
                                      "format": "int64"
                                    },
                                    "start": {
                                      "description": "The start of the range.",
                                      "type": "integer",
                                      "format": "int64"
                                    }
                                  },
                                  "additionalProperties": false
                                },
                                "regex": {
                                  "description": "The value sent by the client must include the specified characters.",
                                  "type": "string",
                                  "maxLength": 255,
                                  "minLength": 1
                                },
                                "suffix": {
                                  "description": "The value sent by the client must end with the specified characters.",
                                  "type": "string",
                                  "maxLength": 255,
                                  "minLength": 1
                                }
                              },
                              "additionalProperties": false
                            },
                            "name": {
                              "description": "A name for the HTTP header in the client request that will be matched on.",
                              "type": "string",
                              "maxLength": 50,
                              "minLength": 1
                            }
                          },
                          "additionalProperties": false
                        }
                      },
                      "method": {
                        "description": "The client request method to match on.",
                        "type": "string",
                        "enum": [
                          "CONNECT",
                          "DELETE",
                          "GET",
                          "HEAD",
                          "OPTIONS",
                          "PATCH",
                          "POST",
                          "PUT",
                          "TRACE"
                        ]
                      },
                      "path": {
                        "description": "The client specified Path to match on.",
                        "type": "object",
                        "properties": {
                          "exact": {
                            "description": "The value sent by the client must match the specified value exactly.",
                            "type": "string",
                            "maxLength": 255,
                            "minLength": 1
                          },
                          "regex": {
                            "description": "The value sent by the client must end with the specified characters.",
                            "type": "string",
                            "maxLength": 255,
                            "minLength": 1
                          }
                        },
                        "additionalProperties": false
                      },
                      "port": {
                        "description": "Specifies the port to match requests with",
                        "type": "integer",
                        "format": "int64",
                        "minimum": 0
                      },
                      "prefix": {
                        "description": "Specifies the prefix to match requests with",
                        "type": "string"
                      },
                      "queryParameters": {
                        "description": "The client specified queryParameters to match on",
                        "type": "array",
                        "maxItems": 10,
                        "minItems": 1,
                        "items": {
                          "description": "HTTPQueryParameters refers to https://docs.aws.amazon.com/app-mesh/latest/APIReference/API_HttpQueryParameter.html",
                          "type": "object",
                          "required": [
                            "name"
                          ],
                          "properties": {
                            "match": {
                              "description": "The QueryMatchMethod object.",
                              "type": "object",
                              "properties": {
                                "exact": {
                                  "type": "string"
                                }
                              },
                              "additionalProperties": false
                            },
                            "name": {
                              "type": "string"
                            }
                          },
                          "additionalProperties": false
                        }
                      },
                      "scheme": {
                        "description": "The client request scheme to match on",
                        "type": "string",
                        "enum": [
                          "http",
                          "https"
                        ]
                      }
                    },
                    "additionalProperties": false
                  },
                  "retryPolicy": {
                    "description": "An object that represents a retry policy.",
                    "type": "object",
                    "required": [
                      "maxRetries",
                      "perRetryTimeout"
                    ],
                    "properties": {
                      "httpRetryEvents": {
                        "type": "array",
                        "maxItems": 25,
                        "minItems": 1,
                        "items": {
                          "type": "string",
                          "enum": [
                            "server-error",
                            "gateway-error",
                            "client-error",
                            "stream-error"
                          ]
                        }
                      },
                      "maxRetries": {
                        "description": "The maximum number of retry attempts.",
                        "type": "integer",
                        "format": "int64",
                        "minimum": 0
                      },
                      "perRetryTimeout": {
                        "description": "An object that represents a duration of time",
                        "type": "object",
                        "required": [
                          "unit",
                          "value"
                        ],
                        "properties": {
                          "unit": {
                            "description": "A unit of time.",
                            "type": "string",
                            "enum": [
                              "s",
                              "ms"
                            ]
                          },
                          "value": {
                            "description": "A number of time units.",
                            "type": "integer",
                            "format": "int64",
                            "minimum": 0
                          }
                        },
                        "additionalProperties": false
                      },
                      "tcpRetryEvents": {
                        "type": "array",
                        "maxItems": 1,
                        "minItems": 1,
                        "items": {
                          "type": "string",
                          "enum": [
                            "connection-error"
                          ]
                        }
                      }
                    },
                    "additionalProperties": false
                  },
                  "timeout": {
                    "description": "An object that represents a http timeout.",
                    "type": "object",
                    "properties": {
                      "idle": {
                        "description": "An object that represents idle timeout duration.",
                        "type": "object",
                        "required": [
                          "unit",
                          "value"
                        ],
                        "properties": {
                          "unit": {
                            "description": "A unit of time.",
                            "type": "string",
                            "enum": [
                              "s",
                              "ms"
                            ]
                          },
                          "value": {
                            "description": "A number of time units.",
                            "type": "integer",
                            "format": "int64",
                            "minimum": 0
                          }
                        },
                        "additionalProperties": false
                      },
                      "perRequest": {
                        "description": "An object that represents per request timeout duration.",
                        "type": "object",
                        "required": [
                          "unit",
                          "value"
                        ],
                        "properties": {
                          "unit": {
                            "description": "A unit of time.",
                            "type": "string",
                            "enum": [
                              "s",
                              "ms"
                            ]
                          },
                          "value": {
                            "description": "A number of time units.",
                            "type": "integer",
                            "format": "int64",
                            "minimum": 0
                          }
                        },
                        "additionalProperties": false
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              },
              "httpRoute": {
                "description": "An object that represents the specification of an HTTP route.",
                "type": "object",
                "required": [
                  "action",
                  "match"
                ],
                "properties": {
                  "action": {
                    "description": "An object that represents the action to take if a match is determined.",
                    "type": "object",
                    "required": [
                      "weightedTargets"
                    ],
                    "properties": {
                      "weightedTargets": {
                        "description": "An object that represents the targets that traffic is routed to when a request matches the route.",
                        "type": "array",
                        "maxItems": 10,
                        "minItems": 1,
                        "items": {
                          "description": "WeightedTarget refers to https://docs.aws.amazon.com/app-mesh/latest/APIReference/API_WeightedTarget.html",
                          "type": "object",
                          "required": [
                            "weight"
                          ],
                          "properties": {
                            "port": {
                              "description": "Specifies the targeted port of the weighted object",
                              "type": "integer",
                              "format": "int64",
                              "minimum": 0
                            },
                            "virtualNodeARN": {
                              "description": "Amazon Resource Name to AppMesh VirtualNode object to associate with the weighted target. Exactly one of 'virtualNodeRef' or 'virtualNodeARN' must be specified.",
                              "type": "string"
                            },
                            "virtualNodeRef": {
                              "description": "Reference to Kubernetes VirtualNode CR in cluster to associate with the weighted target. Exactly one of 'virtualNodeRef' or 'virtualNodeARN' must be specified.",
                              "type": "object",
                              "required": [
                                "name"
                              ],
                              "properties": {
                                "name": {
                                  "description": "Name is the name of VirtualNode CR",
                                  "type": "string"
                                },
                                "namespace": {
                                  "description": "Namespace is the namespace of VirtualNode CR. If unspecified, defaults to the referencing object's namespace",
                                  "type": "string"
                                }
                              },
                              "additionalProperties": false
                            },
                            "weight": {
                              "description": "The relative weight of the weighted target.",
                              "type": "integer",
                              "format": "int64",
                              "maximum": 100,
                              "minimum": 0
                            }
                          },
                          "additionalProperties": false
                        }
                      }
                    },
                    "additionalProperties": false
                  },
                  "match": {
                    "description": "An object that represents the criteria for determining a request match.",
                    "type": "object",
                    "properties": {
                      "headers": {
                        "description": "An object that represents the client request headers to match on.",
                        "type": "array",
                        "maxItems": 10,
                        "minItems": 1,
                        "items": {
                          "description": "HTTPRouteHeader refers to https://docs.aws.amazon.com/app-mesh/latest/APIReference/API_HttpRouteHeader.html",
                          "type": "object",
                          "required": [
                            "name"
                          ],
                          "properties": {
                            "invert": {
                              "description": "Specify True to match anything except the match criteria. The default value is False.",
                              "type": "boolean"
                            },
                            "match": {
                              "description": "The HeaderMatchMethod object.",
                              "type": "object",
                              "properties": {
                                "exact": {
                                  "description": "The value sent by the client must match the specified value exactly.",
                                  "type": "string",
                                  "maxLength": 255,
                                  "minLength": 1
                                },
                                "prefix": {
                                  "description": "The value sent by the client must begin with the specified characters.",
                                  "type": "string",
                                  "maxLength": 255,
                                  "minLength": 1
                                },
                                "range": {
                                  "description": "An object that represents the range of values to match on.",
                                  "type": "object",
                                  "required": [
                                    "end",
                                    "start"
                                  ],
                                  "properties": {
                                    "end": {
                                      "description": "The end of the range.",
                                      "type": "integer",
                                      "format": "int64"
                                    },
                                    "start": {
                                      "description": "The start of the range.",
                                      "type": "integer",
                                      "format": "int64"
                                    }
                                  },
                                  "additionalProperties": false
                                },
                                "regex": {
                                  "description": "The value sent by the client must include the specified characters.",
                                  "type": "string",
                                  "maxLength": 255,
                                  "minLength": 1
                                },
                                "suffix": {
                                  "description": "The value sent by the client must end with the specified characters.",
                                  "type": "string",
                                  "maxLength": 255,
                                  "minLength": 1
                                }
                              },
                              "additionalProperties": false
                            },
                            "name": {
                              "description": "A name for the HTTP header in the client request that will be matched on.",
                              "type": "string",
                              "maxLength": 50,
                              "minLength": 1
                            }
                          },
                          "additionalProperties": false
                        }
                      },
                      "method": {
                        "description": "The client request method to match on.",
                        "type": "string",
                        "enum": [
                          "CONNECT",
                          "DELETE",
                          "GET",
                          "HEAD",
                          "OPTIONS",
                          "PATCH",
                          "POST",
                          "PUT",
                          "TRACE"
                        ]
                      },
                      "path": {
                        "description": "The client specified Path to match on.",
                        "type": "object",
                        "properties": {
                          "exact": {
                            "description": "The value sent by the client must match the specified value exactly.",
                            "type": "string",
                            "maxLength": 255,
                            "minLength": 1
                          },
                          "regex": {
                            "description": "The value sent by the client must end with the specified characters.",
                            "type": "string",
                            "maxLength": 255,
                            "minLength": 1
                          }
                        },
                        "additionalProperties": false
                      },
                      "port": {
                        "description": "Specifies the port to match requests with",
                        "type": "integer",
                        "format": "int64",
                        "minimum": 0
                      },
                      "prefix": {
                        "description": "Specifies the prefix to match requests with",
                        "type": "string"
                      },
                      "queryParameters": {
                        "description": "The client specified queryParameters to match on",
                        "type": "array",
                        "maxItems": 10,
                        "minItems": 1,
                        "items": {
                          "description": "HTTPQueryParameters refers to https://docs.aws.amazon.com/app-mesh/latest/APIReference/API_HttpQueryParameter.html",
                          "type": "object",
                          "required": [
                            "name"
                          ],
                          "properties": {
                            "match": {
                              "description": "The QueryMatchMethod object.",
                              "type": "object",
                              "properties": {
                                "exact": {
                                  "type": "string"
                                }
                              },
                              "additionalProperties": false
                            },
                            "name": {
                              "type": "string"
                            }
                          },
                          "additionalProperties": false
                        }
                      },
                      "scheme": {
                        "description": "The client request scheme to match on",
                        "type": "string",
                        "enum": [
                          "http",
                          "https"
                        ]
                      }
                    },
                    "additionalProperties": false
                  },
                  "retryPolicy": {
                    "description": "An object that represents a retry policy.",
                    "type": "object",
                    "required": [
                      "maxRetries",
                      "perRetryTimeout"
                    ],
                    "properties": {
                      "httpRetryEvents": {
                        "type": "array",
                        "maxItems": 25,
                        "minItems": 1,
                        "items": {
                          "type": "string",
                          "enum": [
                            "server-error",
                            "gateway-error",
                            "client-error",
                            "stream-error"
                          ]
                        }
                      },
                      "maxRetries": {
                        "description": "The maximum number of retry attempts.",
                        "type": "integer",
                        "format": "int64",
                        "minimum": 0
                      },
                      "perRetryTimeout": {
                        "description": "An object that represents a duration of time",
                        "type": "object",
                        "required": [
                          "unit",
                          "value"
                        ],
                        "properties": {
                          "unit": {
                            "description": "A unit of time.",
                            "type": "string",
                            "enum": [
                              "s",
                              "ms"
                            ]
                          },
                          "value": {
                            "description": "A number of time units.",
                            "type": "integer",
                            "format": "int64",
                            "minimum": 0
                          }
                        },
                        "additionalProperties": false
                      },
                      "tcpRetryEvents": {
                        "type": "array",
                        "maxItems": 1,
                        "minItems": 1,
                        "items": {
                          "type": "string",
                          "enum": [
                            "connection-error"
                          ]
                        }
                      }
                    },
                    "additionalProperties": false
                  },
                  "timeout": {
                    "description": "An object that represents a http timeout.",
                    "type": "object",
                    "properties": {
                      "idle": {
                        "description": "An object that represents idle timeout duration.",
                        "type": "object",
                        "required": [
                          "unit",
                          "value"
                        ],
                        "properties": {
                          "unit": {
                            "description": "A unit of time.",
                            "type": "string",
                            "enum": [
                              "s",
                              "ms"
                            ]
                          },
                          "value": {
                            "description": "A number of time units.",
                            "type": "integer",
                            "format": "int64",
                            "minimum": 0
                          }
                        },
                        "additionalProperties": false
                      },
                      "perRequest": {
                        "description": "An object that represents per request timeout duration.",
                        "type": "object",
                        "required": [
                          "unit",
                          "value"
                        ],
                        "properties": {
                          "unit": {
                            "description": "A unit of time.",
                            "type": "string",
                            "enum": [
                              "s",
                              "ms"
                            ]
                          },
                          "value": {
                            "description": "A number of time units.",
                            "type": "integer",
                            "format": "int64",
                            "minimum": 0
                          }
                        },
                        "additionalProperties": false
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              },
              "name": {
                "description": "Route's name",
                "type": "string"
              },
              "priority": {
                "description": "The priority for the route.",
                "type": "integer",
                "format": "int64",
                "maximum": 1000,
                "minimum": 0
              },
              "tcpRoute": {
                "description": "An object that represents the specification of a TCP route.",
                "type": "object",
                "required": [
                  "action"
                ],
                "properties": {
                  "action": {
                    "description": "The action to take if a match is determined.",
                    "type": "object",
                    "required": [
                      "weightedTargets"
                    ],
                    "properties": {
                      "weightedTargets": {
                        "description": "An object that represents the targets that traffic is routed to when a request matches the route.",
                        "type": "array",
                        "maxItems": 10,
                        "minItems": 1,
                        "items": {
                          "description": "WeightedTarget refers to https://docs.aws.amazon.com/app-mesh/latest/APIReference/API_WeightedTarget.html",
                          "type": "object",
                          "required": [
                            "weight"
                          ],
                          "properties": {
                            "port": {
                              "description": "Specifies the targeted port of the weighted object",
                              "type": "integer",
                              "format": "int64",
                              "minimum": 0
                            },
                            "virtualNodeARN": {
                              "description": "Amazon Resource Name to AppMesh VirtualNode object to associate with the weighted target. Exactly one of 'virtualNodeRef' or 'virtualNodeARN' must be specified.",
                              "type": "string"
                            },
                            "virtualNodeRef": {
                              "description": "Reference to Kubernetes VirtualNode CR in cluster to associate with the weighted target. Exactly one of 'virtualNodeRef' or 'virtualNodeARN' must be specified.",
                              "type": "object",
                              "required": [
                                "name"
                              ],
                              "properties": {
                                "name": {
                                  "description": "Name is the name of VirtualNode CR",
                                  "type": "string"
                                },
                                "namespace": {
                                  "description": "Namespace is the namespace of VirtualNode CR. If unspecified, defaults to the referencing object's namespace",
                                  "type": "string"
                                }
                              },
                              "additionalProperties": false
                            },
                            "weight": {
                              "description": "The relative weight of the weighted target.",
                              "type": "integer",
                              "format": "int64",
                              "maximum": 100,
                              "minimum": 0
                            }
                          },
                          "additionalProperties": false
                        }
                      }
                    },
                    "additionalProperties": false
                  },
                  "match": {
                    "description": "An object that represents the criteria for determining a request match.",
                    "type": "object",
                    "properties": {
                      "port": {
                        "description": "Specifies the port to match requests with",
                        "type": "integer",
                        "format": "int64",
                        "minimum": 0
                      }
                    },
                    "additionalProperties": false
                  },
                  "timeout": {
                    "description": "An object that represents a tcp timeout.",
                    "type": "object",
                    "properties": {
                      "idle": {
                        "description": "An object that represents idle timeout duration.",
                        "type": "object",
                        "required": [
                          "unit",
                          "value"
                        ],
                        "properties": {
                          "unit": {
                            "description": "A unit of time.",
                            "type": "string",
                            "enum": [
                              "s",
                              "ms"
                            ]
                          },
                          "value": {
                            "description": "A number of time units.",
                            "type": "integer",
                            "format": "int64",
                            "minimum": 0
                          }
                        },
                        "additionalProperties": false
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              }
            },
            "additionalProperties": false
          }
        }
      },
      "additionalProperties": false
    },
    "status": {
      "description": "VirtualRouterStatus defines the observed state of VirtualRouter",
      "type": "object",
      "properties": {
        "conditions": {
          "description": "The current VirtualRouter status.",
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "status",
              "type"
            ],
            "properties": {
              "lastTransitionTime": {
                "description": "Last time the condition transitioned from one status to another.",
                "type": "string",
                "format": "date-time"
              },
              "message": {
                "description": "A human readable message indicating details about the transition.",
                "type": "string"
              },
              "reason": {
                "description": "The reason for the condition's last transition.",
                "type": "string"
              },
              "status": {
                "description": "Status of the condition, one of True, False, Unknown.",
                "type": "string"
              },
              "type": {
                "description": "Type of VirtualRouter condition.",
                "type": "string"
              }
            },
            "additionalProperties": false
          }
        },
        "observedGeneration": {
          "description": "The generation observed by the VirtualRouter controller.",
          "type": "integer",
          "format": "int64"
        },
        "routeARNs": {
          "description": "RouteARNs is a map of AppMesh Route objects' Amazon Resource Names, indexed by route name.",
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "virtualRouterARN": {
          "description": "VirtualRouterARN is the AppMesh VirtualRouter object's Amazon Resource Name.",
          "type": "string"
        }
      },
      "additionalProperties": false
    }
  },
  "x-kubernetes-preserve-unknown-fields": true
}
