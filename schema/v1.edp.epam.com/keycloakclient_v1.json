{
  "type": "object",
  "properties": {
    "apiVersion": {
      "type": "string"
    },
    "kind": {
      "type": "string"
    },
    "metadata": {
      "type": "object"
    },
    "spec": {
      "type": "object",
      "required": [
        "clientId",
        "realmRef"
      ],
      "properties": {
        "adminFineGrainedPermissionsEnabled": {
          "type": "boolean"
        },
        "adminUrl": {
          "type": "string"
        },
        "advancedProtocolMappers": {
          "type": "boolean"
        },
        "attributes": {
          "type": "object",
          "default": {
            "post.logout.redirect.uris": "+"
          },
          "additionalProperties": {
            "type": "string"
          },
          "nullable": true
        },
        "authenticationFlowBindingOverrides": {
          "type": "object",
          "properties": {
            "browser": {
              "type": "string"
            },
            "directGrant": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "authorization": {
          "type": "object",
          "properties": {
            "permissions": {
              "type": "array",
              "items": {
                "type": "object",
                "required": [
                  "name",
                  "type"
                ],
                "properties": {
                  "decisionStrategy": {
                    "type": "string",
                    "default": "UNANIMOUS",
                    "enum": [
                      "UNANIMOUS",
                      "AFFIRMATIVE",
                      "CONSENSUS"
                    ]
                  },
                  "description": {
                    "type": "string"
                  },
                  "logic": {
                    "type": "string",
                    "default": "POSITIVE",
                    "enum": [
                      "POSITIVE",
                      "NEGATIVE"
                    ]
                  },
                  "name": {
                    "type": "string"
                  },
                  "policies": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "example": [
                      "policy1",
                      "policy2"
                    ],
                    "nullable": true
                  },
                  "resources": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "example": [
                      "resource1",
                      "resource2"
                    ],
                    "nullable": true
                  },
                  "scopes": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "example": [
                      "scope1",
                      "scope2"
                    ],
                    "nullable": true
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "resource",
                      "scope"
                    ]
                  }
                },
                "additionalProperties": false
              }
            },
            "policies": {
              "type": "array",
              "items": {
                "type": "object",
                "required": [
                  "name",
                  "type"
                ],
                "properties": {
                  "aggregatedPolicy": {
                    "type": "object",
                    "required": [
                      "policies"
                    ],
                    "properties": {
                      "policies": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "example": {
                          "policies": [
                            "policy1",
                            "policy2"
                          ]
                        }
                      }
                    },
                    "additionalProperties": false
                  },
                  "clientPolicy": {
                    "type": "object",
                    "required": [
                      "clients"
                    ],
                    "properties": {
                      "clients": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "example": [
                          "clients1",
                          "clients2"
                        ]
                      }
                    },
                    "additionalProperties": false
                  },
                  "decisionStrategy": {
                    "type": "string",
                    "default": "UNANIMOUS",
                    "enum": [
                      "UNANIMOUS",
                      "AFFIRMATIVE",
                      "CONSENSUS"
                    ]
                  },
                  "description": {
                    "type": "string"
                  },
                  "groupPolicy": {
                    "type": "object",
                    "required": [
                      "groups"
                    ],
                    "properties": {
                      "groups": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "required": [
                            "name"
                          ],
                          "properties": {
                            "extendChildren": {
                              "type": "boolean"
                            },
                            "name": {
                              "type": "string",
                              "example": "group1"
                            }
                          },
                          "additionalProperties": false
                        },
                        "example": "{\"groups\":[{\"name\":\"group1\",\"extendChildren\":true},{\"name\":\"group2\"}]}"
                      },
                      "groupsClaim": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "logic": {
                    "type": "string",
                    "default": "POSITIVE",
                    "enum": [
                      "POSITIVE",
                      "NEGATIVE"
                    ]
                  },
                  "name": {
                    "type": "string"
                  },
                  "rolePolicy": {
                    "type": "object",
                    "required": [
                      "roles"
                    ],
                    "properties": {
                      "roles": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "required": [
                            "name"
                          ],
                          "properties": {
                            "name": {
                              "type": "string",
                              "example": "role1"
                            },
                            "required": {
                              "type": "boolean"
                            }
                          },
                          "additionalProperties": false
                        },
                        "example": {
                          "roles": [
                            {
                              "name": "role1",
                              "required": true
                            },
                            {
                              "name": "role2"
                            }
                          ]
                        }
                      }
                    },
                    "additionalProperties": false
                  },
                  "timePolicy": {
                    "type": "object",
                    "required": [
                      "notBefore",
                      "notOnOrAfter"
                    ],
                    "properties": {
                      "dayMonth": {
                        "type": "string",
                        "example": "1"
                      },
                      "dayMonthEnd": {
                        "type": "string",
                        "example": "2"
                      },
                      "hour": {
                        "type": "string",
                        "example": "1"
                      },
                      "hourEnd": {
                        "type": "string",
                        "example": "2"
                      },
                      "minute": {
                        "type": "string",
                        "example": "1"
                      },
                      "minuteEnd": {
                        "type": "string",
                        "example": "2"
                      },
                      "month": {
                        "type": "string",
                        "example": "1"
                      },
                      "monthEnd": {
                        "type": "string",
                        "example": "2"
                      },
                      "notBefore": {
                        "type": "string",
                        "example": "2024-03-03 00:00:00"
                      },
                      "notOnOrAfter": {
                        "type": "string",
                        "example": "2024-04-04 00:00:00"
                      }
                    },
                    "additionalProperties": false
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "aggregate",
                      "client",
                      "group",
                      "role",
                      "time",
                      "user"
                    ]
                  },
                  "userPolicy": {
                    "type": "object",
                    "required": [
                      "users"
                    ],
                    "properties": {
                      "users": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "example": [
                          "users1",
                          "users2"
                        ]
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              }
            },
            "resources": {
              "type": "array",
              "items": {
                "type": "object",
                "required": [
                  "displayName",
                  "name"
                ],
                "properties": {
                  "attributes": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "nullable": true
                  },
                  "displayName": {
                    "type": "string"
                  },
                  "iconUri": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "ownerManagedAccess": {
                    "type": "boolean"
                  },
                  "scopes": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "nullable": true
                  },
                  "type": {
                    "type": "string"
                  },
                  "uris": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "nullable": true
                  }
                },
                "additionalProperties": false
              }
            },
            "scopes": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "additionalProperties": false,
          "nullable": true
        },
        "authorizationServicesEnabled": {
          "type": "boolean"
        },
        "bearerOnly": {
          "type": "boolean"
        },
        "clientAuthenticatorType": {
          "type": "string",
          "default": "client-secret"
        },
        "clientId": {
          "type": "string"
        },
        "clientRoles": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "nullable": true
        },
        "consentRequired": {
          "type": "boolean"
        },
        "defaultClientScopes": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "nullable": true
        },
        "description": {
          "type": "string"
        },
        "directAccess": {
          "type": "boolean"
        },
        "enabled": {
          "type": "boolean",
          "default": true
        },
        "frontChannelLogout": {
          "type": "boolean"
        },
        "fullScopeAllowed": {
          "type": "boolean",
          "default": true
        },
        "homeUrl": {
          "type": "string"
        },
        "implicitFlowEnabled": {
          "type": "boolean"
        },
        "name": {
          "type": "string"
        },
        "optionalClientScopes": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "nullable": true
        },
        "permission": {
          "type": "object",
          "properties": {
            "scopePermissions": {
              "type": "array",
              "items": {
                "type": "object",
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "policies": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false
              }
            }
          },
          "additionalProperties": false,
          "nullable": true
        },
        "protocol": {
          "type": "string",
          "nullable": true
        },
        "protocolMappers": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "config": {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                },
                "nullable": true
              },
              "name": {
                "type": "string"
              },
              "protocol": {
                "type": "string"
              },
              "protocolMapper": {
                "type": "string"
              }
            },
            "additionalProperties": false
          },
          "nullable": true
        },
        "public": {
          "type": "boolean"
        },
        "realmRef": {
          "type": "object",
          "required": [
            "name"
          ],
          "properties": {
            "kind": {
              "type": "string",
              "default": "KeycloakRealm",
              "enum": [
                "KeycloakRealm",
                "ClusterKeycloakRealm"
              ]
            },
            "name": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "realmRoles": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "composite"
            ],
            "properties": {
              "composite": {
                "type": "string"
              },
              "name": {
                "type": "string"
              }
            },
            "additionalProperties": false
          },
          "nullable": true
        },
        "reconciliationStrategy": {
          "type": "string",
          "enum": [
            "full",
            "addOnly"
          ]
        },
        "redirectUris": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "example": [
            "https://example.com/*",
            "/my/relative/path/*"
          ],
          "nullable": true
        },
        "secret": {
          "type": "string",
          "example": "$keycloak-secret:client_secret"
        },
        "serviceAccount": {
          "type": "object",
          "properties": {
            "attributes": {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              },
              "nullable": true
            },
            "clientRoles": {
              "type": "array",
              "items": {
                "type": "object",
                "required": [
                  "clientId"
                ],
                "properties": {
                  "clientId": {
                    "type": "string"
                  },
                  "roles": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "nullable": true
                  }
                },
                "additionalProperties": false
              },
              "nullable": true
            },
            "enabled": {
              "type": "boolean"
            },
            "groups": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "nullable": true
            },
            "realmRoles": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "nullable": true
            }
          },
          "additionalProperties": false,
          "nullable": true
        },
        "standardFlowEnabled": {
          "type": "boolean",
          "default": true
        },
        "surrogateAuthRequired": {
          "type": "boolean"
        },
        "webOrigins": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "example": [
            "https://example.com/*"
          ],
          "nullable": true
        },
        "webUrl": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "status": {
      "type": "object",
      "properties": {
        "clientId": {
          "type": "string"
        },
        "failureCount": {
          "type": "integer",
          "format": "int64"
        },
        "value": {
          "type": "string"
        }
      },
      "additionalProperties": false
    }
  }
}
