{
  "description": "Network holds cluster-wide information about Network. The canonical name is `cluster`. It is used to configure the desired network configuration, such as: IP address pools for services/pod IPs, network plugin, etc.\nPlease view network.spec for an explanation on what applies when configuring this resource.\n\nCompatibility level 1: Stable within a major release for a minimum of 12 months or 3 minor releases (whichever is longer).",
  "type": "object",
  "required": [
    "spec"
  ],
  "properties": {
    "apiVersion": {
      "description": "APIVersion defines the versioned schema of this representation of an object.\nServers should convert recognized schemas to the latest internal value, and\nmay reject unrecognized values.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
      "type": "string"
    },
    "kind": {
      "description": "Kind is a string value representing the REST resource this object represents.\nServers may infer this from the endpoint the client submits requests to.\nCannot be updated.\nIn CamelCase.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
      "type": "string"
    },
    "metadata": {
      "type": "object"
    },
    "spec": {
      "description": "spec holds user settable values for configuration.\nAs a general rule, this SHOULD NOT be read directly. Instead, you should\nconsume the NetworkStatus, as it indicates the currently deployed configuration.\nCurrently, most spec fields are immutable after installation. Please view the individual ones for further details on each.",
      "type": "object",
      "properties": {
        "clusterNetwork": {
          "description": "IP address pool to use for pod IPs.\nThis field is immutable after installation.",
          "type": "array",
          "items": {
            "description": "ClusterNetworkEntry is a contiguous block of IP addresses from which pod IPs\nare allocated.",
            "type": "object",
            "properties": {
              "cidr": {
                "description": "The complete block for pod IPs.",
                "type": "string"
              },
              "hostPrefix": {
                "description": "The size (prefix) of block to allocate to each node. If this\nfield is not used by the plugin, it can be left unset.",
                "type": "integer",
                "format": "int32",
                "minimum": 0
              }
            },
            "additionalProperties": false
          },
          "x-kubernetes-list-type": "atomic"
        },
        "externalIP": {
          "description": "externalIP defines configuration for controllers that\naffect Service.ExternalIP. If nil, then ExternalIP is\nnot allowed to be set.",
          "type": "object",
          "properties": {
            "autoAssignCIDRs": {
              "description": "autoAssignCIDRs is a list of CIDRs from which to automatically assign\nService.ExternalIP. These are assigned when the service is of type\nLoadBalancer. In general, this is only useful for bare-metal clusters.\nIn Openshift 3.x, this was misleadingly called \"IngressIPs\".\nAutomatically assigned External IPs are not affected by any\nExternalIPPolicy rules.\nCurrently, only one entry may be provided.",
              "type": "array",
              "items": {
                "type": "string"
              },
              "x-kubernetes-list-type": "atomic"
            },
            "policy": {
              "description": "policy is a set of restrictions applied to the ExternalIP field.\nIf nil or empty, then ExternalIP is not allowed to be set.",
              "type": "object",
              "properties": {
                "allowedCIDRs": {
                  "description": "allowedCIDRs is the list of allowed CIDRs.",
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "x-kubernetes-list-type": "atomic"
                },
                "rejectedCIDRs": {
                  "description": "rejectedCIDRs is the list of disallowed CIDRs. These take precedence\nover allowedCIDRs.",
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "x-kubernetes-list-type": "atomic"
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        },
        "networkDiagnostics": {
          "description": "networkDiagnostics defines network diagnostics configuration.\n\nTakes precedence over spec.disableNetworkDiagnostics in network.operator.openshift.io.\nIf networkDiagnostics is not specified or is empty,\nand the spec.disableNetworkDiagnostics flag in network.operator.openshift.io is set to true,\nthe network diagnostics feature will be disabled.",
          "type": "object",
          "properties": {
            "mode": {
              "description": "mode controls the network diagnostics mode\n\nWhen omitted, this means the user has no opinion and the platform is left\nto choose reasonable defaults. These defaults are subject to change over time.\nThe current default is All.",
              "type": "string",
              "enum": [
                "",
                "All",
                "Disabled"
              ]
            },
            "sourcePlacement": {
              "description": "sourcePlacement controls the scheduling of network diagnostics source deployment\n\nSee NetworkDiagnosticsSourcePlacement for more details about default values.",
              "type": "object",
              "properties": {
                "nodeSelector": {
                  "description": "nodeSelector is the node selector applied to network diagnostics components\n\nWhen omitted, this means the user has no opinion and the platform is left\nto choose reasonable defaults. These defaults are subject to change over time.\nThe current default is `kubernetes.io/os: linux`.",
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  }
                },
                "tolerations": {
                  "description": "tolerations is a list of tolerations applied to network diagnostics components\n\nWhen omitted, this means the user has no opinion and the platform is left\nto choose reasonable defaults. These defaults are subject to change over time.\nThe current default is an empty list.",
                  "type": "array",
                  "items": {
                    "description": "The pod this Toleration is attached to tolerates any taint that matches\nthe triple \u003ckey,value,effect\u003e using the matching operator \u003coperator\u003e.",
                    "type": "object",
                    "properties": {
                      "effect": {
                        "description": "Effect indicates the taint effect to match. Empty means match all taint effects.\nWhen specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.",
                        "type": "string"
                      },
                      "key": {
                        "description": "Key is the taint key that the toleration applies to. Empty means match all taint keys.\nIf the key is empty, operator must be Exists; this combination means to match all values and all keys.",
                        "type": "string"
                      },
                      "operator": {
                        "description": "Operator represents a key's relationship to the value.\nValid operators are Exists and Equal. Defaults to Equal.\nExists is equivalent to wildcard for value, so that a pod can\ntolerate all taints of a particular category.",
                        "type": "string"
                      },
                      "tolerationSeconds": {
                        "description": "TolerationSeconds represents the period of time the toleration (which must be\nof effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,\nit is not set, which means tolerate the taint forever (do not evict). Zero and\nnegative values will be treated as 0 (evict immediately) by the system.",
                        "type": "integer",
                        "format": "int64"
                      },
                      "value": {
                        "description": "Value is the taint value the toleration matches to.\nIf the operator is Exists, the value should be empty, otherwise just a regular string.",
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "x-kubernetes-list-type": "atomic"
                }
              },
              "additionalProperties": false
            },
            "targetPlacement": {
              "description": "targetPlacement controls the scheduling of network diagnostics target daemonset\n\nSee NetworkDiagnosticsTargetPlacement for more details about default values.",
              "type": "object",
              "properties": {
                "nodeSelector": {
                  "description": "nodeSelector is the node selector applied to network diagnostics components\n\nWhen omitted, this means the user has no opinion and the platform is left\nto choose reasonable defaults. These defaults are subject to change over time.\nThe current default is `kubernetes.io/os: linux`.",
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  }
                },
                "tolerations": {
                  "description": "tolerations is a list of tolerations applied to network diagnostics components\n\nWhen omitted, this means the user has no opinion and the platform is left\nto choose reasonable defaults. These defaults are subject to change over time.\nThe current default is `- operator: \"Exists\"` which means that all taints are tolerated.",
                  "type": "array",
                  "items": {
                    "description": "The pod this Toleration is attached to tolerates any taint that matches\nthe triple \u003ckey,value,effect\u003e using the matching operator \u003coperator\u003e.",
                    "type": "object",
                    "properties": {
                      "effect": {
                        "description": "Effect indicates the taint effect to match. Empty means match all taint effects.\nWhen specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.",
                        "type": "string"
                      },
                      "key": {
                        "description": "Key is the taint key that the toleration applies to. Empty means match all taint keys.\nIf the key is empty, operator must be Exists; this combination means to match all values and all keys.",
                        "type": "string"
                      },
                      "operator": {
                        "description": "Operator represents a key's relationship to the value.\nValid operators are Exists and Equal. Defaults to Equal.\nExists is equivalent to wildcard for value, so that a pod can\ntolerate all taints of a particular category.",
                        "type": "string"
                      },
                      "tolerationSeconds": {
                        "description": "TolerationSeconds represents the period of time the toleration (which must be\nof effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,\nit is not set, which means tolerate the taint forever (do not evict). Zero and\nnegative values will be treated as 0 (evict immediately) by the system.",
                        "type": "integer",
                        "format": "int64"
                      },
                      "value": {
                        "description": "Value is the taint value the toleration matches to.\nIf the operator is Exists, the value should be empty, otherwise just a regular string.",
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "x-kubernetes-list-type": "atomic"
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        },
        "networkType": {
          "description": "networkType is the plugin that is to be deployed (e.g. OVNKubernetes).\nThis should match a value that the cluster-network-operator understands,\nor else no networking will be installed.\nCurrently supported values are:\n- OVNKubernetes\nThis field is immutable after installation.",
          "type": "string"
        },
        "serviceNetwork": {
          "description": "IP address pool for services.\nCurrently, we only support a single entry here.\nThis field is immutable after installation.",
          "type": "array",
          "items": {
            "type": "string"
          },
          "x-kubernetes-list-type": "atomic"
        },
        "serviceNodePortRange": {
          "description": "The port range allowed for Services of type NodePort.\nIf not specified, the default of 30000-32767 will be used.\nSuch Services without a NodePort specified will have one\nautomatically allocated from this range.\nThis parameter can be updated after the cluster is\ninstalled.",
          "type": "string",
          "pattern": "^([0-9]{1,4}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])-([0-9]{1,4}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$"
        }
      },
      "additionalProperties": false,
      "x-kubernetes-validations": [
        {
          "rule": "!has(self.networkDiagnostics) || !has(self.networkDiagnostics.mode) || self.networkDiagnostics.mode!='Disabled' || !has(self.networkDiagnostics.sourcePlacement) \u0026\u0026 !has(self.networkDiagnostics.targetPlacement)",
          "message": "cannot set networkDiagnostics.sourcePlacement and networkDiagnostics.targetPlacement when networkDiagnostics.mode is Disabled"
        }
      ]
    },
    "status": {
      "description": "status holds observed values from the cluster. They may not be overridden.",
      "type": "object",
      "properties": {
        "clusterNetwork": {
          "description": "IP address pool to use for pod IPs.",
          "type": "array",
          "items": {
            "description": "ClusterNetworkEntry is a contiguous block of IP addresses from which pod IPs\nare allocated.",
            "type": "object",
            "properties": {
              "cidr": {
                "description": "The complete block for pod IPs.",
                "type": "string"
              },
              "hostPrefix": {
                "description": "The size (prefix) of block to allocate to each node. If this\nfield is not used by the plugin, it can be left unset.",
                "type": "integer",
                "format": "int32",
                "minimum": 0
              }
            },
            "additionalProperties": false
          },
          "x-kubernetes-list-type": "atomic"
        },
        "clusterNetworkMTU": {
          "description": "clusterNetworkMTU is the MTU for inter-pod networking.",
          "type": "integer"
        },
        "conditions": {
          "description": "conditions represents the observations of a network.config current state.\nKnown .status.conditions.type are: \"NetworkDiagnosticsAvailable\"",
          "type": "array",
          "items": {
            "description": "Condition contains details for one aspect of the current state of this API Resource.",
            "type": "object",
            "required": [
              "lastTransitionTime",
              "message",
              "reason",
              "status",
              "type"
            ],
            "properties": {
              "lastTransitionTime": {
                "description": "lastTransitionTime is the last time the condition transitioned from one status to another.\nThis should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.",
                "type": "string",
                "format": "date-time"
              },
              "message": {
                "description": "message is a human readable message indicating details about the transition.\nThis may be an empty string.",
                "type": "string",
                "maxLength": 32768
              },
              "observedGeneration": {
                "description": "observedGeneration represents the .metadata.generation that the condition was set based upon.\nFor instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date\nwith respect to the current state of the instance.",
                "type": "integer",
                "format": "int64",
                "minimum": 0
              },
              "reason": {
                "description": "reason contains a programmatic identifier indicating the reason for the condition's last transition.\nProducers of specific condition types may define expected values and meanings for this field,\nand whether the values are considered a guaranteed API.\nThe value should be a CamelCase string.\nThis field may not be empty.",
                "type": "string",
                "maxLength": 1024,
                "minLength": 1,
                "pattern": "^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$"
              },
              "status": {
                "description": "status of the condition, one of True, False, Unknown.",
                "type": "string",
                "enum": [
                  "True",
                  "False",
                  "Unknown"
                ]
              },
              "type": {
                "description": "type of condition in CamelCase or in foo.example.com/CamelCase.",
                "type": "string",
                "maxLength": 316,
                "pattern": "^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$"
              }
            },
            "additionalProperties": false
          },
          "x-kubernetes-list-map-keys": [
            "type"
          ],
          "x-kubernetes-list-type": "map"
        },
        "migration": {
          "description": "migration contains the cluster network migration configuration.",
          "type": "object",
          "properties": {
            "mtu": {
              "description": "mtu is the MTU configuration that is being deployed.",
              "type": "object",
              "properties": {
                "machine": {
                  "description": "machine contains MTU migration configuration for the machine's uplink.",
                  "type": "object",
                  "properties": {
                    "from": {
                      "description": "from is the MTU to migrate from.",
                      "type": "integer",
                      "format": "int32",
                      "minimum": 0
                    },
                    "to": {
                      "description": "to is the MTU to migrate to.",
                      "type": "integer",
                      "format": "int32",
                      "minimum": 0
                    }
                  },
                  "additionalProperties": false
                },
                "network": {
                  "description": "network contains MTU migration configuration for the default network.",
                  "type": "object",
                  "properties": {
                    "from": {
                      "description": "from is the MTU to migrate from.",
                      "type": "integer",
                      "format": "int32",
                      "minimum": 0
                    },
                    "to": {
                      "description": "to is the MTU to migrate to.",
                      "type": "integer",
                      "format": "int32",
                      "minimum": 0
                    }
                  },
                  "additionalProperties": false
                }
              },
              "additionalProperties": false
            },
            "networkType": {
              "description": "networkType is the target plugin that is being deployed.\nDEPRECATED: network type migration is no longer supported,\nso this should always be unset.",
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "networkType": {
          "description": "networkType is the plugin that is deployed (e.g. OVNKubernetes).",
          "type": "string"
        },
        "serviceNetwork": {
          "description": "IP address pool for services.\nCurrently, we only support a single entry here.",
          "type": "array",
          "items": {
            "type": "string"
          },
          "x-kubernetes-list-type": "atomic"
        }
      },
      "additionalProperties": false
    }
  }
}
