{
  "type": "object",
  "required": [
    "spec"
  ],
  "properties": {
    "apiVersion": {
      "type": "string"
    },
    "kind": {
      "type": "string"
    },
    "metadata": {
      "type": "object"
    },
    "spec": {
      "type": "object",
      "required": [
        "location"
      ],
      "properties": {
        "defaultRouteAction": {
          "type": "object",
          "properties": {
            "corsPolicy": {
              "type": "object",
              "properties": {
                "allowCredentials": {
                  "type": "boolean"
                },
                "allowHeaders": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "allowMethods": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "allowOriginRegexes": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "allowOrigins": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "disabled": {
                  "type": "boolean"
                },
                "exposeHeaders": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "maxAge": {
                  "type": "integer"
                }
              },
              "additionalProperties": false
            },
            "faultInjectionPolicy": {
              "type": "object",
              "properties": {
                "abort": {
                  "type": "object",
                  "properties": {
                    "httpStatus": {
                      "type": "integer"
                    },
                    "percentage": {
                      "type": "number"
                    }
                  },
                  "additionalProperties": false
                },
                "delay": {
                  "type": "object",
                  "properties": {
                    "fixedDelay": {
                      "type": "object",
                      "properties": {
                        "nanos": {
                          "type": "integer"
                        },
                        "seconds": {
                          "type": "string"
                        }
                      },
                      "additionalProperties": false
                    },
                    "percentage": {
                      "type": "number"
                    }
                  },
                  "additionalProperties": false
                }
              },
              "additionalProperties": false
            },
            "requestMirrorPolicy": {
              "type": "object",
              "properties": {
                "backendServiceRef": {
                  "type": "object",
                  "oneOf": [
                    {
                      "required": [
                        "name"
                      ],
                      "not": {
                        "required": [
                          "external"
                        ]
                      }
                    },
                    {
                      "required": [
                        "external"
                      ],
                      "not": {
                        "anyOf": [
                          {
                            "required": [
                              "name"
                            ]
                          },
                          {
                            "required": [
                              "namespace"
                            ]
                          }
                        ]
                      }
                    }
                  ],
                  "properties": {
                    "external": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "namespace": {
                      "type": "string"
                    }
                  },
                  "additionalProperties": false
                }
              },
              "additionalProperties": false
            },
            "retryPolicy": {
              "type": "object",
              "properties": {
                "numRetries": {
                  "type": "integer"
                },
                "perTryTimeout": {
                  "type": "object",
                  "properties": {
                    "nanos": {
                      "type": "integer"
                    },
                    "seconds": {
                      "type": "string"
                    }
                  },
                  "additionalProperties": false
                },
                "retryConditions": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              },
              "additionalProperties": false
            },
            "timeout": {
              "type": "object",
              "properties": {
                "nanos": {
                  "type": "integer"
                },
                "seconds": {
                  "type": "string"
                }
              },
              "additionalProperties": false
            },
            "urlRewrite": {
              "type": "object",
              "properties": {
                "hostRewrite": {
                  "type": "string"
                },
                "pathPrefixRewrite": {
                  "type": "string"
                }
              },
              "additionalProperties": false
            },
            "weightedBackendServices": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "backendServiceRef": {
                    "type": "object",
                    "oneOf": [
                      {
                        "required": [
                          "name"
                        ],
                        "not": {
                          "required": [
                            "external"
                          ]
                        }
                      },
                      {
                        "required": [
                          "external"
                        ],
                        "not": {
                          "anyOf": [
                            {
                              "required": [
                                "name"
                              ]
                            },
                            {
                              "required": [
                                "namespace"
                              ]
                            }
                          ]
                        }
                      }
                    ],
                    "properties": {
                      "external": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "namespace": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "headerAction": {
                    "type": "object",
                    "properties": {
                      "requestHeadersToAdd": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "headerName": {
                              "type": "string"
                            },
                            "headerValue": {
                              "type": "string"
                            },
                            "replace": {
                              "type": "boolean"
                            }
                          },
                          "additionalProperties": false
                        }
                      },
                      "requestHeadersToRemove": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "responseHeadersToAdd": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "headerName": {
                              "type": "string"
                            },
                            "headerValue": {
                              "type": "string"
                            },
                            "replace": {
                              "type": "boolean"
                            }
                          },
                          "additionalProperties": false
                        }
                      },
                      "responseHeadersToRemove": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    },
                    "additionalProperties": false
                  },
                  "weight": {
                    "type": "integer"
                  }
                },
                "additionalProperties": false
              }
            }
          },
          "additionalProperties": false
        },
        "defaultService": {
          "type": "object",
          "oneOf": [
            {
              "required": [
                "backendBucketRef"
              ]
            },
            {
              "required": [
                "backendServiceRef"
              ]
            }
          ],
          "properties": {
            "backendBucketRef": {
              "type": "object",
              "oneOf": [
                {
                  "required": [
                    "name"
                  ],
                  "not": {
                    "required": [
                      "external"
                    ]
                  }
                },
                {
                  "required": [
                    "external"
                  ],
                  "not": {
                    "anyOf": [
                      {
                        "required": [
                          "name"
                        ]
                      },
                      {
                        "required": [
                          "namespace"
                        ]
                      }
                    ]
                  }
                }
              ],
              "properties": {
                "external": {
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "namespace": {
                  "type": "string"
                }
              },
              "additionalProperties": false
            },
            "backendServiceRef": {
              "type": "object",
              "oneOf": [
                {
                  "required": [
                    "name"
                  ],
                  "not": {
                    "required": [
                      "external"
                    ]
                  }
                },
                {
                  "required": [
                    "external"
                  ],
                  "not": {
                    "anyOf": [
                      {
                        "required": [
                          "name"
                        ]
                      },
                      {
                        "required": [
                          "namespace"
                        ]
                      }
                    ]
                  }
                }
              ],
              "properties": {
                "external": {
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "namespace": {
                  "type": "string"
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        },
        "defaultUrlRedirect": {
          "type": "object",
          "required": [
            "stripQuery"
          ],
          "properties": {
            "hostRedirect": {
              "type": "string"
            },
            "httpsRedirect": {
              "type": "boolean"
            },
            "pathRedirect": {
              "type": "string"
            },
            "prefixRedirect": {
              "type": "string"
            },
            "redirectResponseCode": {
              "type": "string"
            },
            "stripQuery": {
              "type": "boolean"
            }
          },
          "additionalProperties": false
        },
        "description": {
          "type": "string"
        },
        "headerAction": {
          "type": "object",
          "properties": {
            "requestHeadersToAdd": {
              "type": "array",
              "items": {
                "type": "object",
                "required": [
                  "headerName",
                  "headerValue",
                  "replace"
                ],
                "properties": {
                  "headerName": {
                    "type": "string"
                  },
                  "headerValue": {
                    "type": "string"
                  },
                  "replace": {
                    "type": "boolean"
                  }
                },
                "additionalProperties": false
              }
            },
            "requestHeadersToRemove": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "responseHeadersToAdd": {
              "type": "array",
              "items": {
                "type": "object",
                "required": [
                  "headerName",
                  "headerValue",
                  "replace"
                ],
                "properties": {
                  "headerName": {
                    "type": "string"
                  },
                  "headerValue": {
                    "type": "string"
                  },
                  "replace": {
                    "type": "boolean"
                  }
                },
                "additionalProperties": false
              }
            },
            "responseHeadersToRemove": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "additionalProperties": false
        },
        "hostRule": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "hosts",
              "pathMatcher"
            ],
            "properties": {
              "description": {
                "type": "string"
              },
              "hosts": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "pathMatcher": {
                "type": "string"
              }
            },
            "additionalProperties": false
          }
        },
        "location": {
          "type": "string"
        },
        "pathMatcher": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "name"
            ],
            "properties": {
              "defaultRouteAction": {
                "type": "object",
                "properties": {
                  "corsPolicy": {
                    "type": "object",
                    "properties": {
                      "allowCredentials": {
                        "type": "boolean"
                      },
                      "allowHeaders": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "allowMethods": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "allowOriginRegexes": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "allowOrigins": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "disabled": {
                        "type": "boolean"
                      },
                      "exposeHeaders": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "maxAge": {
                        "type": "integer"
                      }
                    },
                    "additionalProperties": false
                  },
                  "faultInjectionPolicy": {
                    "type": "object",
                    "properties": {
                      "abort": {
                        "type": "object",
                        "properties": {
                          "httpStatus": {
                            "type": "integer"
                          },
                          "percentage": {
                            "type": "number"
                          }
                        },
                        "additionalProperties": false
                      },
                      "delay": {
                        "type": "object",
                        "properties": {
                          "fixedDelay": {
                            "type": "object",
                            "properties": {
                              "nanos": {
                                "type": "integer"
                              },
                              "seconds": {
                                "type": "string"
                              }
                            },
                            "additionalProperties": false
                          },
                          "percentage": {
                            "type": "number"
                          }
                        },
                        "additionalProperties": false
                      }
                    },
                    "additionalProperties": false
                  },
                  "requestMirrorPolicy": {
                    "type": "object",
                    "required": [
                      "backendServiceRef"
                    ],
                    "properties": {
                      "backendServiceRef": {
                        "type": "object",
                        "oneOf": [
                          {
                            "required": [
                              "name"
                            ],
                            "not": {
                              "required": [
                                "external"
                              ]
                            }
                          },
                          {
                            "required": [
                              "external"
                            ],
                            "not": {
                              "anyOf": [
                                {
                                  "required": [
                                    "name"
                                  ]
                                },
                                {
                                  "required": [
                                    "namespace"
                                  ]
                                }
                              ]
                            }
                          }
                        ],
                        "properties": {
                          "external": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "namespace": {
                            "type": "string"
                          }
                        },
                        "additionalProperties": false
                      }
                    },
                    "additionalProperties": false
                  },
                  "retryPolicy": {
                    "type": "object",
                    "properties": {
                      "numRetries": {
                        "type": "integer"
                      },
                      "perTryTimeout": {
                        "type": "object",
                        "properties": {
                          "nanos": {
                            "type": "integer"
                          },
                          "seconds": {
                            "type": "string"
                          }
                        },
                        "additionalProperties": false
                      },
                      "retryConditions": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    },
                    "additionalProperties": false
                  },
                  "timeout": {
                    "type": "object",
                    "properties": {
                      "nanos": {
                        "type": "integer"
                      },
                      "seconds": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "urlRewrite": {
                    "type": "object",
                    "properties": {
                      "hostRewrite": {
                        "type": "string"
                      },
                      "pathPrefixRewrite": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "weightedBackendServices": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "backendServiceRef": {
                          "type": "object",
                          "oneOf": [
                            {
                              "required": [
                                "name"
                              ],
                              "not": {
                                "required": [
                                  "external"
                                ]
                              }
                            },
                            {
                              "required": [
                                "external"
                              ],
                              "not": {
                                "anyOf": [
                                  {
                                    "required": [
                                      "name"
                                    ]
                                  },
                                  {
                                    "required": [
                                      "namespace"
                                    ]
                                  }
                                ]
                              }
                            }
                          ],
                          "properties": {
                            "external": {
                              "type": "string"
                            },
                            "name": {
                              "type": "string"
                            },
                            "namespace": {
                              "type": "string"
                            }
                          },
                          "additionalProperties": false
                        },
                        "headerAction": {
                          "type": "object",
                          "properties": {
                            "requestHeadersToAdd": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "headerName": {
                                    "type": "string"
                                  },
                                  "headerValue": {
                                    "type": "string"
                                  },
                                  "replace": {
                                    "type": "boolean"
                                  }
                                },
                                "additionalProperties": false
                              }
                            },
                            "requestHeadersToRemove": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "responseHeadersToAdd": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "headerName": {
                                    "type": "string"
                                  },
                                  "headerValue": {
                                    "type": "string"
                                  },
                                  "replace": {
                                    "type": "boolean"
                                  }
                                },
                                "additionalProperties": false
                              }
                            },
                            "responseHeadersToRemove": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            }
                          },
                          "additionalProperties": false
                        },
                        "weight": {
                          "type": "integer"
                        }
                      },
                      "additionalProperties": false
                    }
                  }
                },
                "additionalProperties": false
              },
              "defaultService": {
                "type": "object",
                "oneOf": [
                  {
                    "required": [
                      "backendBucketRef"
                    ]
                  },
                  {
                    "required": [
                      "backendServiceRef"
                    ]
                  }
                ],
                "properties": {
                  "backendBucketRef": {
                    "type": "object",
                    "oneOf": [
                      {
                        "required": [
                          "name"
                        ],
                        "not": {
                          "required": [
                            "external"
                          ]
                        }
                      },
                      {
                        "required": [
                          "external"
                        ],
                        "not": {
                          "anyOf": [
                            {
                              "required": [
                                "name"
                              ]
                            },
                            {
                              "required": [
                                "namespace"
                              ]
                            }
                          ]
                        }
                      }
                    ],
                    "properties": {
                      "external": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "namespace": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "backendServiceRef": {
                    "type": "object",
                    "oneOf": [
                      {
                        "required": [
                          "name"
                        ],
                        "not": {
                          "required": [
                            "external"
                          ]
                        }
                      },
                      {
                        "required": [
                          "external"
                        ],
                        "not": {
                          "anyOf": [
                            {
                              "required": [
                                "name"
                              ]
                            },
                            {
                              "required": [
                                "namespace"
                              ]
                            }
                          ]
                        }
                      }
                    ],
                    "properties": {
                      "external": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "namespace": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              },
              "defaultUrlRedirect": {
                "type": "object",
                "required": [
                  "stripQuery"
                ],
                "properties": {
                  "hostRedirect": {
                    "type": "string"
                  },
                  "httpsRedirect": {
                    "type": "boolean"
                  },
                  "pathRedirect": {
                    "type": "string"
                  },
                  "prefixRedirect": {
                    "type": "string"
                  },
                  "redirectResponseCode": {
                    "type": "string"
                  },
                  "stripQuery": {
                    "type": "boolean"
                  }
                },
                "additionalProperties": false
              },
              "description": {
                "type": "string"
              },
              "headerAction": {
                "type": "object",
                "properties": {
                  "requestHeadersToAdd": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "required": [
                        "headerName",
                        "headerValue",
                        "replace"
                      ],
                      "properties": {
                        "headerName": {
                          "type": "string"
                        },
                        "headerValue": {
                          "type": "string"
                        },
                        "replace": {
                          "type": "boolean"
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "requestHeadersToRemove": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "responseHeadersToAdd": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "required": [
                        "headerName",
                        "headerValue",
                        "replace"
                      ],
                      "properties": {
                        "headerName": {
                          "type": "string"
                        },
                        "headerValue": {
                          "type": "string"
                        },
                        "replace": {
                          "type": "boolean"
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "responseHeadersToRemove": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false
              },
              "name": {
                "type": "string"
              },
              "pathRule": {
                "type": "array",
                "items": {
                  "type": "object",
                  "required": [
                    "paths"
                  ],
                  "properties": {
                    "paths": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "routeAction": {
                      "type": "object",
                      "properties": {
                        "corsPolicy": {
                          "type": "object",
                          "required": [
                            "disabled"
                          ],
                          "properties": {
                            "allowCredentials": {
                              "type": "boolean"
                            },
                            "allowHeaders": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "allowMethods": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "allowOriginRegexes": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "allowOrigins": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "disabled": {
                              "type": "boolean"
                            },
                            "exposeHeaders": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "maxAge": {
                              "type": "integer"
                            }
                          },
                          "additionalProperties": false
                        },
                        "faultInjectionPolicy": {
                          "type": "object",
                          "properties": {
                            "abort": {
                              "type": "object",
                              "required": [
                                "httpStatus",
                                "percentage"
                              ],
                              "properties": {
                                "httpStatus": {
                                  "type": "integer"
                                },
                                "percentage": {
                                  "type": "number"
                                }
                              },
                              "additionalProperties": false
                            },
                            "delay": {
                              "type": "object",
                              "required": [
                                "fixedDelay",
                                "percentage"
                              ],
                              "properties": {
                                "fixedDelay": {
                                  "type": "object",
                                  "required": [
                                    "seconds"
                                  ],
                                  "properties": {
                                    "nanos": {
                                      "type": "integer"
                                    },
                                    "seconds": {
                                      "type": "string"
                                    }
                                  },
                                  "additionalProperties": false
                                },
                                "percentage": {
                                  "type": "number"
                                }
                              },
                              "additionalProperties": false
                            }
                          },
                          "additionalProperties": false
                        },
                        "requestMirrorPolicy": {
                          "type": "object",
                          "required": [
                            "backendServiceRef"
                          ],
                          "properties": {
                            "backendServiceRef": {
                              "type": "object",
                              "oneOf": [
                                {
                                  "required": [
                                    "name"
                                  ],
                                  "not": {
                                    "required": [
                                      "external"
                                    ]
                                  }
                                },
                                {
                                  "required": [
                                    "external"
                                  ],
                                  "not": {
                                    "anyOf": [
                                      {
                                        "required": [
                                          "name"
                                        ]
                                      },
                                      {
                                        "required": [
                                          "namespace"
                                        ]
                                      }
                                    ]
                                  }
                                }
                              ],
                              "properties": {
                                "external": {
                                  "type": "string"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "namespace": {
                                  "type": "string"
                                }
                              },
                              "additionalProperties": false
                            }
                          },
                          "additionalProperties": false
                        },
                        "retryPolicy": {
                          "type": "object",
                          "properties": {
                            "numRetries": {
                              "type": "integer"
                            },
                            "perTryTimeout": {
                              "type": "object",
                              "required": [
                                "seconds"
                              ],
                              "properties": {
                                "nanos": {
                                  "type": "integer"
                                },
                                "seconds": {
                                  "type": "string"
                                }
                              },
                              "additionalProperties": false
                            },
                            "retryConditions": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            }
                          },
                          "additionalProperties": false
                        },
                        "timeout": {
                          "type": "object",
                          "required": [
                            "seconds"
                          ],
                          "properties": {
                            "nanos": {
                              "type": "integer"
                            },
                            "seconds": {
                              "type": "string"
                            }
                          },
                          "additionalProperties": false
                        },
                        "urlRewrite": {
                          "type": "object",
                          "properties": {
                            "hostRewrite": {
                              "type": "string"
                            },
                            "pathPrefixRewrite": {
                              "type": "string"
                            }
                          },
                          "additionalProperties": false
                        },
                        "weightedBackendServices": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "required": [
                              "backendServiceRef",
                              "weight"
                            ],
                            "properties": {
                              "backendServiceRef": {
                                "type": "object",
                                "oneOf": [
                                  {
                                    "required": [
                                      "name"
                                    ],
                                    "not": {
                                      "required": [
                                        "external"
                                      ]
                                    }
                                  },
                                  {
                                    "required": [
                                      "external"
                                    ],
                                    "not": {
                                      "anyOf": [
                                        {
                                          "required": [
                                            "name"
                                          ]
                                        },
                                        {
                                          "required": [
                                            "namespace"
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ],
                                "properties": {
                                  "external": {
                                    "type": "string"
                                  },
                                  "name": {
                                    "type": "string"
                                  },
                                  "namespace": {
                                    "type": "string"
                                  }
                                },
                                "additionalProperties": false
                              },
                              "headerAction": {
                                "type": "object",
                                "properties": {
                                  "requestHeadersToAdd": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "required": [
                                        "headerName",
                                        "headerValue",
                                        "replace"
                                      ],
                                      "properties": {
                                        "headerName": {
                                          "type": "string"
                                        },
                                        "headerValue": {
                                          "type": "string"
                                        },
                                        "replace": {
                                          "type": "boolean"
                                        }
                                      },
                                      "additionalProperties": false
                                    }
                                  },
                                  "requestHeadersToRemove": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  },
                                  "responseHeadersToAdd": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "required": [
                                        "headerName",
                                        "headerValue",
                                        "replace"
                                      ],
                                      "properties": {
                                        "headerName": {
                                          "type": "string"
                                        },
                                        "headerValue": {
                                          "type": "string"
                                        },
                                        "replace": {
                                          "type": "boolean"
                                        }
                                      },
                                      "additionalProperties": false
                                    }
                                  },
                                  "responseHeadersToRemove": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                },
                                "additionalProperties": false
                              },
                              "weight": {
                                "type": "integer"
                              }
                            },
                            "additionalProperties": false
                          }
                        }
                      },
                      "additionalProperties": false
                    },
                    "service": {
                      "type": "object",
                      "oneOf": [
                        {
                          "required": [
                            "backendBucketRef"
                          ]
                        },
                        {
                          "required": [
                            "backendServiceRef"
                          ]
                        }
                      ],
                      "properties": {
                        "backendBucketRef": {
                          "type": "object",
                          "oneOf": [
                            {
                              "required": [
                                "name"
                              ],
                              "not": {
                                "required": [
                                  "external"
                                ]
                              }
                            },
                            {
                              "required": [
                                "external"
                              ],
                              "not": {
                                "anyOf": [
                                  {
                                    "required": [
                                      "name"
                                    ]
                                  },
                                  {
                                    "required": [
                                      "namespace"
                                    ]
                                  }
                                ]
                              }
                            }
                          ],
                          "properties": {
                            "external": {
                              "type": "string"
                            },
                            "name": {
                              "type": "string"
                            },
                            "namespace": {
                              "type": "string"
                            }
                          },
                          "additionalProperties": false
                        },
                        "backendServiceRef": {
                          "type": "object",
                          "oneOf": [
                            {
                              "required": [
                                "name"
                              ],
                              "not": {
                                "required": [
                                  "external"
                                ]
                              }
                            },
                            {
                              "required": [
                                "external"
                              ],
                              "not": {
                                "anyOf": [
                                  {
                                    "required": [
                                      "name"
                                    ]
                                  },
                                  {
                                    "required": [
                                      "namespace"
                                    ]
                                  }
                                ]
                              }
                            }
                          ],
                          "properties": {
                            "external": {
                              "type": "string"
                            },
                            "name": {
                              "type": "string"
                            },
                            "namespace": {
                              "type": "string"
                            }
                          },
                          "additionalProperties": false
                        }
                      },
                      "additionalProperties": false
                    },
                    "urlRedirect": {
                      "type": "object",
                      "required": [
                        "stripQuery"
                      ],
                      "properties": {
                        "hostRedirect": {
                          "type": "string"
                        },
                        "httpsRedirect": {
                          "type": "boolean"
                        },
                        "pathRedirect": {
                          "type": "string"
                        },
                        "prefixRedirect": {
                          "type": "string"
                        },
                        "redirectResponseCode": {
                          "type": "string"
                        },
                        "stripQuery": {
                          "type": "boolean"
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "additionalProperties": false
                }
              },
              "routeRules": {
                "type": "array",
                "items": {
                  "type": "object",
                  "required": [
                    "priority"
                  ],
                  "properties": {
                    "headerAction": {
                      "type": "object",
                      "properties": {
                        "requestHeadersToAdd": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "required": [
                              "headerName",
                              "headerValue",
                              "replace"
                            ],
                            "properties": {
                              "headerName": {
                                "type": "string"
                              },
                              "headerValue": {
                                "type": "string"
                              },
                              "replace": {
                                "type": "boolean"
                              }
                            },
                            "additionalProperties": false
                          }
                        },
                        "requestHeadersToRemove": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "responseHeadersToAdd": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "required": [
                              "headerName",
                              "headerValue",
                              "replace"
                            ],
                            "properties": {
                              "headerName": {
                                "type": "string"
                              },
                              "headerValue": {
                                "type": "string"
                              },
                              "replace": {
                                "type": "boolean"
                              }
                            },
                            "additionalProperties": false
                          }
                        },
                        "responseHeadersToRemove": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      },
                      "additionalProperties": false
                    },
                    "matchRules": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "fullPathMatch": {
                            "type": "string"
                          },
                          "headerMatches": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "required": [
                                "headerName"
                              ],
                              "properties": {
                                "exactMatch": {
                                  "type": "string"
                                },
                                "headerName": {
                                  "type": "string"
                                },
                                "invertMatch": {
                                  "type": "boolean"
                                },
                                "prefixMatch": {
                                  "type": "string"
                                },
                                "presentMatch": {
                                  "type": "boolean"
                                },
                                "rangeMatch": {
                                  "type": "object",
                                  "required": [
                                    "rangeEnd",
                                    "rangeStart"
                                  ],
                                  "properties": {
                                    "rangeEnd": {
                                      "type": "integer"
                                    },
                                    "rangeStart": {
                                      "type": "integer"
                                    }
                                  },
                                  "additionalProperties": false
                                },
                                "regexMatch": {
                                  "type": "string"
                                },
                                "suffixMatch": {
                                  "type": "string"
                                }
                              },
                              "additionalProperties": false
                            }
                          },
                          "ignoreCase": {
                            "type": "boolean"
                          },
                          "metadataFilters": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "required": [
                                "filterLabels",
                                "filterMatchCriteria"
                              ],
                              "properties": {
                                "filterLabels": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "required": [
                                      "name",
                                      "value"
                                    ],
                                    "properties": {
                                      "name": {
                                        "type": "string"
                                      },
                                      "value": {
                                        "type": "string"
                                      }
                                    },
                                    "additionalProperties": false
                                  }
                                },
                                "filterMatchCriteria": {
                                  "type": "string"
                                }
                              },
                              "additionalProperties": false
                            }
                          },
                          "prefixMatch": {
                            "type": "string"
                          },
                          "queryParameterMatches": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "required": [
                                "name"
                              ],
                              "properties": {
                                "exactMatch": {
                                  "type": "string"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "presentMatch": {
                                  "type": "boolean"
                                },
                                "regexMatch": {
                                  "type": "string"
                                }
                              },
                              "additionalProperties": false
                            }
                          },
                          "regexMatch": {
                            "type": "string"
                          }
                        },
                        "additionalProperties": false
                      }
                    },
                    "priority": {
                      "type": "integer"
                    },
                    "routeAction": {
                      "type": "object",
                      "properties": {
                        "corsPolicy": {
                          "type": "object",
                          "properties": {
                            "allowCredentials": {
                              "type": "boolean"
                            },
                            "allowHeaders": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "allowMethods": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "allowOriginRegexes": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "allowOrigins": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "disabled": {
                              "type": "boolean"
                            },
                            "exposeHeaders": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "maxAge": {
                              "type": "integer"
                            }
                          },
                          "additionalProperties": false
                        },
                        "faultInjectionPolicy": {
                          "type": "object",
                          "properties": {
                            "abort": {
                              "type": "object",
                              "properties": {
                                "httpStatus": {
                                  "type": "integer"
                                },
                                "percentage": {
                                  "type": "number"
                                }
                              },
                              "additionalProperties": false
                            },
                            "delay": {
                              "type": "object",
                              "properties": {
                                "fixedDelay": {
                                  "type": "object",
                                  "required": [
                                    "seconds"
                                  ],
                                  "properties": {
                                    "nanos": {
                                      "type": "integer"
                                    },
                                    "seconds": {
                                      "type": "string"
                                    }
                                  },
                                  "additionalProperties": false
                                },
                                "percentage": {
                                  "type": "number"
                                }
                              },
                              "additionalProperties": false
                            }
                          },
                          "additionalProperties": false
                        },
                        "requestMirrorPolicy": {
                          "type": "object",
                          "required": [
                            "backendServiceRef"
                          ],
                          "properties": {
                            "backendServiceRef": {
                              "type": "object",
                              "oneOf": [
                                {
                                  "required": [
                                    "name"
                                  ],
                                  "not": {
                                    "required": [
                                      "external"
                                    ]
                                  }
                                },
                                {
                                  "required": [
                                    "external"
                                  ],
                                  "not": {
                                    "anyOf": [
                                      {
                                        "required": [
                                          "name"
                                        ]
                                      },
                                      {
                                        "required": [
                                          "namespace"
                                        ]
                                      }
                                    ]
                                  }
                                }
                              ],
                              "properties": {
                                "external": {
                                  "type": "string"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "namespace": {
                                  "type": "string"
                                }
                              },
                              "additionalProperties": false
                            }
                          },
                          "additionalProperties": false
                        },
                        "retryPolicy": {
                          "type": "object",
                          "required": [
                            "numRetries"
                          ],
                          "properties": {
                            "numRetries": {
                              "type": "integer"
                            },
                            "perTryTimeout": {
                              "type": "object",
                              "required": [
                                "seconds"
                              ],
                              "properties": {
                                "nanos": {
                                  "type": "integer"
                                },
                                "seconds": {
                                  "type": "string"
                                }
                              },
                              "additionalProperties": false
                            },
                            "retryConditions": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            }
                          },
                          "additionalProperties": false
                        },
                        "timeout": {
                          "type": "object",
                          "required": [
                            "seconds"
                          ],
                          "properties": {
                            "nanos": {
                              "type": "integer"
                            },
                            "seconds": {
                              "type": "string"
                            }
                          },
                          "additionalProperties": false
                        },
                        "urlRewrite": {
                          "type": "object",
                          "properties": {
                            "hostRewrite": {
                              "type": "string"
                            },
                            "pathPrefixRewrite": {
                              "type": "string"
                            }
                          },
                          "additionalProperties": false
                        },
                        "weightedBackendServices": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "required": [
                              "backendServiceRef",
                              "weight"
                            ],
                            "properties": {
                              "backendServiceRef": {
                                "type": "object",
                                "oneOf": [
                                  {
                                    "required": [
                                      "name"
                                    ],
                                    "not": {
                                      "required": [
                                        "external"
                                      ]
                                    }
                                  },
                                  {
                                    "required": [
                                      "external"
                                    ],
                                    "not": {
                                      "anyOf": [
                                        {
                                          "required": [
                                            "name"
                                          ]
                                        },
                                        {
                                          "required": [
                                            "namespace"
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ],
                                "properties": {
                                  "external": {
                                    "type": "string"
                                  },
                                  "name": {
                                    "type": "string"
                                  },
                                  "namespace": {
                                    "type": "string"
                                  }
                                },
                                "additionalProperties": false
                              },
                              "headerAction": {
                                "type": "object",
                                "properties": {
                                  "requestHeadersToAdd": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "required": [
                                        "headerName",
                                        "headerValue",
                                        "replace"
                                      ],
                                      "properties": {
                                        "headerName": {
                                          "type": "string"
                                        },
                                        "headerValue": {
                                          "type": "string"
                                        },
                                        "replace": {
                                          "type": "boolean"
                                        }
                                      },
                                      "additionalProperties": false
                                    }
                                  },
                                  "requestHeadersToRemove": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  },
                                  "responseHeadersToAdd": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "required": [
                                        "headerName",
                                        "headerValue",
                                        "replace"
                                      ],
                                      "properties": {
                                        "headerName": {
                                          "type": "string"
                                        },
                                        "headerValue": {
                                          "type": "string"
                                        },
                                        "replace": {
                                          "type": "boolean"
                                        }
                                      },
                                      "additionalProperties": false
                                    }
                                  },
                                  "responseHeadersToRemove": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                },
                                "additionalProperties": false
                              },
                              "weight": {
                                "type": "integer"
                              }
                            },
                            "additionalProperties": false
                          }
                        }
                      },
                      "additionalProperties": false
                    },
                    "service": {
                      "type": "string"
                    },
                    "urlRedirect": {
                      "type": "object",
                      "properties": {
                        "hostRedirect": {
                          "type": "string"
                        },
                        "httpsRedirect": {
                          "type": "boolean"
                        },
                        "pathRedirect": {
                          "type": "string"
                        },
                        "prefixRedirect": {
                          "type": "string"
                        },
                        "redirectResponseCode": {
                          "type": "string"
                        },
                        "stripQuery": {
                          "type": "boolean"
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "additionalProperties": false
                }
              }
            },
            "additionalProperties": false
          }
        },
        "resourceID": {
          "type": "string"
        },
        "test": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "host",
              "path",
              "service"
            ],
            "properties": {
              "description": {
                "type": "string"
              },
              "host": {
                "type": "string"
              },
              "path": {
                "type": "string"
              },
              "service": {
                "type": "object",
                "oneOf": [
                  {
                    "required": [
                      "backendBucketRef"
                    ]
                  },
                  {
                    "required": [
                      "backendServiceRef"
                    ]
                  }
                ],
                "properties": {
                  "backendBucketRef": {
                    "type": "object",
                    "oneOf": [
                      {
                        "required": [
                          "name"
                        ],
                        "not": {
                          "required": [
                            "external"
                          ]
                        }
                      },
                      {
                        "required": [
                          "external"
                        ],
                        "not": {
                          "anyOf": [
                            {
                              "required": [
                                "name"
                              ]
                            },
                            {
                              "required": [
                                "namespace"
                              ]
                            }
                          ]
                        }
                      }
                    ],
                    "properties": {
                      "external": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "namespace": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "backendServiceRef": {
                    "type": "object",
                    "oneOf": [
                      {
                        "required": [
                          "name"
                        ],
                        "not": {
                          "required": [
                            "external"
                          ]
                        }
                      },
                      {
                        "required": [
                          "external"
                        ],
                        "not": {
                          "anyOf": [
                            {
                              "required": [
                                "name"
                              ]
                            },
                            {
                              "required": [
                                "namespace"
                              ]
                            }
                          ]
                        }
                      }
                    ],
                    "properties": {
                      "external": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "namespace": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              }
            },
            "additionalProperties": false
          }
        }
      },
      "additionalProperties": false
    },
    "status": {
      "type": "object",
      "properties": {
        "conditions": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "lastTransitionTime": {
                "type": "string"
              },
              "message": {
                "type": "string"
              },
              "reason": {
                "type": "string"
              },
              "status": {
                "type": "string"
              },
              "type": {
                "type": "string"
              }
            },
            "additionalProperties": false
          }
        },
        "creationTimestamp": {
          "type": "string"
        },
        "fingerprint": {
          "type": "string"
        },
        "mapId": {
          "type": "integer"
        },
        "observedGeneration": {
          "type": "integer"
        },
        "selfLink": {
          "type": "string"
        }
      },
      "additionalProperties": false
    }
  }
}
