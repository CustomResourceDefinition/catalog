{
  "description": "A KubernetesApplication defines an application deployed by Crossplane to a Kubernetes cluster, i.e. a portable KubernetesCluster resource claim.",
  "type": "object",
  "properties": {
    "apiVersion": {
      "description": "APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
      "type": "string"
    },
    "kind": {
      "description": "Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
      "type": "string"
    },
    "metadata": {
      "type": "object"
    },
    "spec": {
      "description": "A KubernetesApplicationSpec specifies the resources of a Kubernetes application.",
      "type": "object",
      "required": [
        "resourceSelector",
        "resourceTemplates"
      ],
      "properties": {
        "resourceSelector": {
          "description": "ResourceSelector selects the KubernetesApplicationResources that are managed by this KubernetesApplication. Note that a KubernetesApplication will never adopt orphaned KubernetesApplicationResources, and thus this selector serves only to help match a KubernetesApplication to its KubernetesApplicationResources.",
          "type": "object",
          "properties": {
            "matchExpressions": {
              "description": "matchExpressions is a list of label selector requirements. The requirements are ANDed.",
              "type": "array",
              "items": {
                "description": "A label selector requirement is a selector that contains values, a key, and an operator that relates the key and values.",
                "type": "object",
                "required": [
                  "key",
                  "operator"
                ],
                "properties": {
                  "key": {
                    "description": "key is the label key that the selector applies to.",
                    "type": "string"
                  },
                  "operator": {
                    "description": "operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.",
                    "type": "string"
                  },
                  "values": {
                    "description": "values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.",
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false
              }
            },
            "matchLabels": {
              "description": "matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is \"key\", the operator is \"In\", and the values array contains only \"value\". The requirements are ANDed.",
              "type": "object",
              "additionalProperties": {
                "type": "string"
              }
            }
          },
          "additionalProperties": false
        },
        "resourceTemplates": {
          "description": "ResourceTemplates specifies a set of Kubernetes application resources managed by this application.",
          "type": "array",
          "items": {
            "description": "A KubernetesApplicationResourceTemplate is used to instantiate new KubernetesApplicationResources.",
            "type": "object",
            "properties": {
              "metadata": {
                "type": "object"
              },
              "spec": {
                "description": "KubernetesApplicationResourceSpec specifies the desired state of a KubernetesApplicationResource.",
                "type": "object",
                "required": [
                  "template"
                ],
                "properties": {
                  "secrets": {
                    "description": "Secrets upon which this application resource depends. These secrets will be propagated to the Kubernetes cluster to which this application is scheduled.",
                    "type": "array",
                    "items": {
                      "description": "LocalObjectReference contains enough information to let you locate the referenced object inside the same namespace.",
                      "type": "object",
                      "properties": {
                        "name": {
                          "description": "Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?",
                          "type": "string"
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "targetRef": {
                    "description": "Target to which this application has been scheduled.",
                    "type": "object",
                    "required": [
                      "name"
                    ],
                    "properties": {
                      "name": {
                        "description": "Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names",
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "template": {
                    "description": "A Template for a Kubernetes resource to be submitted to the KubernetesCluster to which this application resource is scheduled. The resource must be understood by the KubernetesCluster. Crossplane requires only that the resource contains standard Kubernetes type and object metadata.",
                    "type": "object"
                  }
                },
                "additionalProperties": false
              }
            },
            "additionalProperties": false
          }
        },
        "targetRef": {
          "description": "Target to which this application has been scheduled.",
          "type": "object",
          "required": [
            "name"
          ],
          "properties": {
            "name": {
              "description": "Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names",
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "targetSelector": {
          "description": "TargetSelector selects the targets to which this application may be scheduled. Leave both match labels and expressions empty to match any target.",
          "type": "object",
          "properties": {
            "matchExpressions": {
              "description": "matchExpressions is a list of label selector requirements. The requirements are ANDed.",
              "type": "array",
              "items": {
                "description": "A label selector requirement is a selector that contains values, a key, and an operator that relates the key and values.",
                "type": "object",
                "required": [
                  "key",
                  "operator"
                ],
                "properties": {
                  "key": {
                    "description": "key is the label key that the selector applies to.",
                    "type": "string"
                  },
                  "operator": {
                    "description": "operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.",
                    "type": "string"
                  },
                  "values": {
                    "description": "values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.",
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false
              }
            },
            "matchLabels": {
              "description": "matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is \"key\", the operator is \"In\", and the values array contains only \"value\". The requirements are ANDed.",
              "type": "object",
              "additionalProperties": {
                "type": "string"
              }
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "status": {
      "description": "KubernetesApplicationStatus represents the observed state of a KubernetesApplication.",
      "type": "object",
      "properties": {
        "conditionedStatus": {
          "description": "A ConditionedStatus reflects the observed status of a resource. Only one condition of each type may exist.",
          "type": "object",
          "properties": {
            "conditions": {
              "description": "Conditions of the resource.",
              "type": "array",
              "items": {
                "description": "A Condition that may apply to a resource.",
                "type": "object",
                "required": [
                  "lastTransitionTime",
                  "reason",
                  "status",
                  "type"
                ],
                "properties": {
                  "lastTransitionTime": {
                    "description": "LastTransitionTime is the last time this condition transitioned from one status to another.",
                    "type": "string",
                    "format": "date-time"
                  },
                  "message": {
                    "description": "A Message containing details about this condition's last transition from one status to another, if any.",
                    "type": "string"
                  },
                  "reason": {
                    "description": "A Reason for this condition's last transition from one status to another.",
                    "type": "string"
                  },
                  "status": {
                    "description": "Status of this condition; is it currently True, False, or Unknown?",
                    "type": "string"
                  },
                  "type": {
                    "description": "Type of this condition. At most one of each condition type may apply to a resource at any point in time.",
                    "type": "string"
                  }
                },
                "additionalProperties": false
              }
            }
          },
          "additionalProperties": false
        },
        "desiredResources": {
          "description": "Desired resources of this application, i.e. the number of resources that match this application's resource selector.",
          "type": "integer"
        },
        "state": {
          "description": "State of the application.",
          "type": "string"
        },
        "submittedResources": {
          "description": "Submitted resources of this workload, i.e. the subset of desired resources that have been successfully submitted to their scheduled Kubernetes cluster.",
          "type": "integer"
        }
      },
      "additionalProperties": false
    }
  }
}
