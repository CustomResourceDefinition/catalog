{
  "description": "SonarQualityGate is the Schema for the sonarqualitygates API",
  "type": "object",
  "properties": {
    "apiVersion": {
      "description": "APIVersion defines the versioned schema of this representation of an object.\nServers should convert recognized schemas to the latest internal value, and\nmay reject unrecognized values.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
      "type": "string"
    },
    "kind": {
      "description": "Kind is a string value representing the REST resource this object represents.\nServers may infer this from the endpoint the client submits requests to.\nCannot be updated.\nIn CamelCase.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
      "type": "string"
    },
    "metadata": {
      "type": "object"
    },
    "spec": {
      "description": "SonarQualityGateSpec defines the desired state of SonarQualityGate",
      "type": "object",
      "required": [
        "name",
        "sonarRef"
      ],
      "properties": {
        "conditions": {
          "description": "Conditions is a list of conditions for quality gate.\nKey is a metric name, value is a condition.",
          "type": "object",
          "additionalProperties": {
            "description": "Condition defines the condition for quality gate.",
            "type": "object",
            "required": [
              "error"
            ],
            "properties": {
              "error": {
                "description": "Error is condition error threshold.",
                "type": "string",
                "maxLength": 64,
                "example": "10"
              },
              "op": {
                "description": "Op is condition operator.\nLT = is lower than\nGT = is greater than",
                "type": "string",
                "enum": [
                  "LT",
                  "GT"
                ]
              }
            }
          },
          "example": {
            "new_code_smells": {
              "error": "10",
              "op": "LT"
            }
          },
          "nullable": true
        },
        "default": {
          "description": "Default is a flag to set quality gate as default.\nOnly one quality gate can be default.\nIf several quality gates have default flag, the random one will be chosen.\nDefault quality gate can't be deleted. You need to set another quality gate as default before.",
          "type": "boolean",
          "example": "true"
        },
        "name": {
          "description": "Name is a name of quality gate.\nName should be unique across all quality gates.\nDon't change this field after creation otherwise quality gate will be recreated.",
          "type": "string",
          "maxLength": 100,
          "example": "My Quality Gate"
        },
        "sonarRef": {
          "description": "SonarRef is a reference to Sonar custom resource.",
          "type": "object",
          "required": [
            "name"
          ],
          "properties": {
            "kind": {
              "description": "Kind specifies the kind of the Sonar resource.",
              "type": "string",
              "default": "Sonar"
            },
            "name": {
              "description": "Name specifies the name of the Sonar resource.",
              "type": "string"
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "status": {
      "description": "SonarQualityGateStatus defines the observed state of SonarQualityGate",
      "type": "object",
      "properties": {
        "error": {
          "description": "Error is an error message if something went wrong.",
          "type": "string"
        },
        "value": {
          "description": "Value is a status of the quality gate.",
          "type": "string"
        }
      },
      "additionalProperties": false
    }
  }
}
