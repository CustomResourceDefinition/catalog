{
  "type": "object",
  "properties": {
    "apiVersion": {
      "description": "APIVersion defines the versioned schema of this representation of an object.\nServers should convert recognized schemas to the latest internal value, and\nmay reject unrecognized values.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
      "type": "string"
    },
    "kind": {
      "description": "Kind is a string value representing the REST resource this object represents.\nServers may infer this from the endpoint the client submits requests to.\nCannot be updated.\nIn CamelCase.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
      "type": "string"
    },
    "metadata": {
      "type": "object"
    },
    "spec": {
      "description": "CalicoNodeStatusSpec contains the specification for a CalicoNodeStatus resource.",
      "type": "object",
      "properties": {
        "classes": {
          "description": "Classes declares the types of information to monitor for this calico/node,\nand allows for selective status reporting about certain subsets of information.",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "node": {
          "description": "The node name identifies the Calico node instance for node status.",
          "type": "string"
        },
        "updatePeriodSeconds": {
          "description": "UpdatePeriodSeconds is the period at which CalicoNodeStatus should be updated.\nSet to 0 to disable CalicoNodeStatus refresh. Maximum update period is one day.",
          "type": "integer",
          "format": "int32"
        }
      },
      "additionalProperties": false
    },
    "status": {
      "description": "CalicoNodeStatusStatus defines the observed state of CalicoNodeStatus.\nNo validation needed for status since it is updated by Calico.",
      "type": "object",
      "properties": {
        "agent": {
          "description": "Agent holds agent status on the node.",
          "type": "object",
          "properties": {
            "birdV4": {
              "description": "BIRDV4 represents the latest observed status of bird4.",
              "type": "object",
              "properties": {
                "lastBootTime": {
                  "description": "LastBootTime holds the value of lastBootTime from bird.ctl output.",
                  "type": "string"
                },
                "lastReconfigurationTime": {
                  "description": "LastReconfigurationTime holds the value of lastReconfigTime from bird.ctl output.",
                  "type": "string"
                },
                "routerID": {
                  "description": "Router ID used by bird.",
                  "type": "string"
                },
                "state": {
                  "description": "The state of the BGP Daemon.",
                  "type": "string"
                },
                "version": {
                  "description": "Version of the BGP daemon",
                  "type": "string"
                }
              },
              "additionalProperties": false
            },
            "birdV6": {
              "description": "BIRDV6 represents the latest observed status of bird6.",
              "type": "object",
              "properties": {
                "lastBootTime": {
                  "description": "LastBootTime holds the value of lastBootTime from bird.ctl output.",
                  "type": "string"
                },
                "lastReconfigurationTime": {
                  "description": "LastReconfigurationTime holds the value of lastReconfigTime from bird.ctl output.",
                  "type": "string"
                },
                "routerID": {
                  "description": "Router ID used by bird.",
                  "type": "string"
                },
                "state": {
                  "description": "The state of the BGP Daemon.",
                  "type": "string"
                },
                "version": {
                  "description": "Version of the BGP daemon",
                  "type": "string"
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        },
        "bgp": {
          "description": "BGP holds node BGP status.",
          "type": "object",
          "required": [
            "numberEstablishedV4",
            "numberEstablishedV6",
            "numberNotEstablishedV4",
            "numberNotEstablishedV6"
          ],
          "properties": {
            "numberEstablishedV4": {
              "description": "The total number of IPv4 established bgp sessions.",
              "type": "integer"
            },
            "numberEstablishedV6": {
              "description": "The total number of IPv6 established bgp sessions.",
              "type": "integer"
            },
            "numberNotEstablishedV4": {
              "description": "The total number of IPv4 non-established bgp sessions.",
              "type": "integer"
            },
            "numberNotEstablishedV6": {
              "description": "The total number of IPv6 non-established bgp sessions.",
              "type": "integer"
            },
            "peersV4": {
              "description": "PeersV4 represents IPv4 BGP peers status on the node.",
              "type": "array",
              "items": {
                "description": "CalicoNodePeer contains the status of BGP peers on the node.",
                "type": "object",
                "properties": {
                  "peerIP": {
                    "description": "IP address of the peer whose condition we are reporting.",
                    "type": "string"
                  },
                  "since": {
                    "description": "Since the state or reason last changed.",
                    "type": "string"
                  },
                  "state": {
                    "description": "State is the BGP session state.",
                    "type": "string"
                  },
                  "type": {
                    "description": "Type indicates whether this peer is configured via the node-to-node mesh,\nor via en explicit global or per-node BGPPeer object.",
                    "type": "string"
                  }
                },
                "additionalProperties": false
              }
            },
            "peersV6": {
              "description": "PeersV6 represents IPv6 BGP peers status on the node.",
              "type": "array",
              "items": {
                "description": "CalicoNodePeer contains the status of BGP peers on the node.",
                "type": "object",
                "properties": {
                  "peerIP": {
                    "description": "IP address of the peer whose condition we are reporting.",
                    "type": "string"
                  },
                  "since": {
                    "description": "Since the state or reason last changed.",
                    "type": "string"
                  },
                  "state": {
                    "description": "State is the BGP session state.",
                    "type": "string"
                  },
                  "type": {
                    "description": "Type indicates whether this peer is configured via the node-to-node mesh,\nor via en explicit global or per-node BGPPeer object.",
                    "type": "string"
                  }
                },
                "additionalProperties": false
              }
            }
          },
          "additionalProperties": false
        },
        "lastUpdated": {
          "description": "LastUpdated is a timestamp representing the server time when CalicoNodeStatus object\nlast updated. It is represented in RFC3339 form and is in UTC.",
          "type": "string",
          "format": "date-time",
          "nullable": true
        },
        "routes": {
          "description": "Routes reports routes known to the Calico BGP daemon on the node.",
          "type": "object",
          "properties": {
            "routesV4": {
              "description": "RoutesV4 represents IPv4 routes on the node.",
              "type": "array",
              "items": {
                "description": "CalicoNodeRoute contains the status of BGP routes on the node.",
                "type": "object",
                "properties": {
                  "destination": {
                    "description": "Destination of the route.",
                    "type": "string"
                  },
                  "gateway": {
                    "description": "Gateway for the destination.",
                    "type": "string"
                  },
                  "interface": {
                    "description": "Interface for the destination",
                    "type": "string"
                  },
                  "learnedFrom": {
                    "description": "LearnedFrom contains information regarding where this route originated.",
                    "type": "object",
                    "properties": {
                      "peerIP": {
                        "description": "If sourceType is NodeMesh or BGPPeer, IP address of the router that sent us this route.",
                        "type": "string"
                      },
                      "sourceType": {
                        "description": "Type of the source where a route is learned from.",
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "type": {
                    "description": "Type indicates if the route is being used for forwarding or not.",
                    "type": "string"
                  }
                },
                "additionalProperties": false
              }
            },
            "routesV6": {
              "description": "RoutesV6 represents IPv6 routes on the node.",
              "type": "array",
              "items": {
                "description": "CalicoNodeRoute contains the status of BGP routes on the node.",
                "type": "object",
                "properties": {
                  "destination": {
                    "description": "Destination of the route.",
                    "type": "string"
                  },
                  "gateway": {
                    "description": "Gateway for the destination.",
                    "type": "string"
                  },
                  "interface": {
                    "description": "Interface for the destination",
                    "type": "string"
                  },
                  "learnedFrom": {
                    "description": "LearnedFrom contains information regarding where this route originated.",
                    "type": "object",
                    "properties": {
                      "peerIP": {
                        "description": "If sourceType is NodeMesh or BGPPeer, IP address of the router that sent us this route.",
                        "type": "string"
                      },
                      "sourceType": {
                        "description": "Type of the source where a route is learned from.",
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "type": {
                    "description": "Type indicates if the route is being used for forwarding or not.",
                    "type": "string"
                  }
                },
                "additionalProperties": false
              }
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    }
  }
}
