{
  "description": "ObjectTemplate is the Schema for the objecttemplates API",
  "type": "object",
  "properties": {
    "apiVersion": {
      "description": "APIVersion defines the versioned schema of this representation of an object.\nServers should convert recognized schemas to the latest internal value, and\nmay reject unrecognized values.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
      "type": "string"
    },
    "kind": {
      "description": "Kind is a string value representing the REST resource this object represents.\nServers may infer this from the endpoint the client submits requests to.\nCannot be updated.\nIn CamelCase.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
      "type": "string"
    },
    "metadata": {
      "type": "object"
    },
    "spec": {
      "description": "ObjectTemplateSpec defines the desired state of ObjectTemplate",
      "type": "object",
      "required": [
        "interval",
        "matrix",
        "templates"
      ],
      "properties": {
        "interval": {
          "type": "string",
          "default": "30s",
          "pattern": "^([0-9]+(\\.[0-9]+)?(ms|s|m|h))+$"
        },
        "matrix": {
          "description": "Matrix specifies the input matrix",
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "name"
            ],
            "properties": {
              "list": {
                "description": "List specifies a list of plain YAML values which are made available while rendering templates. The list can be\naccessed through the name specified above",
                "type": "array",
                "items": {
                  "type": "object",
                  "x-kubernetes-preserve-unknown-fields": true
                },
                "x-kubernetes-preserve-unknown-fields": true
              },
              "name": {
                "description": "Name specifies the name this matrix input is available while rendering templates",
                "type": "string"
              },
              "object": {
                "description": "Object specifies an object to load and make available while rendering templates. The object can be accessed\nthrough the name specified above. The service account used by the ObjectTemplate must have proper permissions\nto get this object",
                "type": "object",
                "required": [
                  "ref"
                ],
                "properties": {
                  "expandLists": {
                    "description": "ExpandLists enables optional expanding of list. Expanding means, that each list entry is interpreted as\nindividual matrix input instead of interpreting the whole list as one matrix input. This feature is only useful\nwhen used in combination with `jsonPath`",
                    "type": "boolean"
                  },
                  "jsonPath": {
                    "description": "JsonPath optionally specifies a sub-field to load. When specified, the sub-field (and not the whole object)\nis made available while rendering templates",
                    "type": "string"
                  },
                  "ref": {
                    "description": "Ref specifies the apiVersion, kind, namespace and name of the object to load. The service account used by the\nObjectTemplate must have proper permissions to get this object",
                    "type": "object",
                    "required": [
                      "apiVersion",
                      "kind",
                      "name"
                    ],
                    "properties": {
                      "apiVersion": {
                        "type": "string"
                      },
                      "kind": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "namespace": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              }
            },
            "additionalProperties": false
          }
        },
        "prune": {
          "description": "Prune enables pruning of previously created objects when these disappear from the list of rendered objects",
          "type": "boolean",
          "default": false
        },
        "serviceAccountName": {
          "description": "ServiceAccountName specifies the name of the Kubernetes service account to impersonate\nwhen reconciling this ObjectTemplate. If omitted, the \"default\" service account is used",
          "type": "string",
          "default": "default"
        },
        "suspend": {
          "description": "Suspend can be used to suspend the reconciliation of this object",
          "type": "boolean",
          "default": false
        },
        "templates": {
          "description": "Templates specifies a list of templates to render and deploy",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "object": {
                "description": "Object specifies a structured object in YAML form. Each field value is rendered independently.",
                "type": "object",
                "x-kubernetes-preserve-unknown-fields": true
              },
              "raw": {
                "description": "Raw specifies a raw string to be interpreted/parsed as YAML. The whole string is rendered in one go, allowing to\nuse advanced Jinja2 control structures. Raw object might also be required when a templated value must not be\ninterpreted as a string (which would be done in Object).",
                "type": "string"
              }
            },
            "additionalProperties": false
          }
        }
      },
      "additionalProperties": false
    },
    "status": {
      "description": "ObjectTemplateStatus defines the observed state of ObjectTemplate",
      "type": "object",
      "properties": {
        "appliedResources": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "ref",
              "success"
            ],
            "properties": {
              "error": {
                "type": "string"
              },
              "ref": {
                "type": "object",
                "required": [
                  "apiVersion",
                  "kind",
                  "name"
                ],
                "properties": {
                  "apiVersion": {
                    "type": "string"
                  },
                  "kind": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "namespace": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              },
              "success": {
                "type": "boolean"
              }
            },
            "additionalProperties": false
          }
        },
        "conditions": {
          "type": "array",
          "items": {
            "description": "Condition contains details for one aspect of the current state of this API Resource.\n---\nThis struct is intended for direct use as an array at the field path .status.conditions.  For example,\n\n\n\ttype FooStatus struct{\n\t    // Represents the observations of a foo's current state.\n\t    // Known .status.conditions.type are: \"Available\", \"Progressing\", and \"Degraded\"\n\t    // +patchMergeKey=type\n\t    // +patchStrategy=merge\n\t    // +listType=map\n\t    // +listMapKey=type\n\t    Conditions []metav1.Condition `json:\"conditions,omitempty\" patchStrategy:\"merge\" patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`\n\n\n\t    // other fields\n\t}",
            "type": "object",
            "required": [
              "lastTransitionTime",
              "message",
              "reason",
              "status",
              "type"
            ],
            "properties": {
              "lastTransitionTime": {
                "description": "lastTransitionTime is the last time the condition transitioned from one status to another.\nThis should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.",
                "type": "string",
                "format": "date-time"
              },
              "message": {
                "description": "message is a human readable message indicating details about the transition.\nThis may be an empty string.",
                "type": "string",
                "maxLength": 32768
              },
              "observedGeneration": {
                "description": "observedGeneration represents the .metadata.generation that the condition was set based upon.\nFor instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date\nwith respect to the current state of the instance.",
                "type": "integer",
                "format": "int64",
                "minimum": 0
              },
              "reason": {
                "description": "reason contains a programmatic identifier indicating the reason for the condition's last transition.\nProducers of specific condition types may define expected values and meanings for this field,\nand whether the values are considered a guaranteed API.\nThe value should be a CamelCase string.\nThis field may not be empty.",
                "type": "string",
                "maxLength": 1024,
                "minLength": 1,
                "pattern": "^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$"
              },
              "status": {
                "description": "status of the condition, one of True, False, Unknown.",
                "type": "string",
                "enum": [
                  "True",
                  "False",
                  "Unknown"
                ]
              },
              "type": {
                "description": "type of condition in CamelCase or in foo.example.com/CamelCase.\n---\nMany .condition.type values are consistent across resources like Available, but because arbitrary conditions can be\nuseful (see .node.status.conditions), the ability to deconflict is important.\nThe regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)",
                "type": "string",
                "maxLength": 316,
                "pattern": "^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$"
              }
            },
            "additionalProperties": false
          }
        }
      },
      "additionalProperties": false
    }
  }
}
