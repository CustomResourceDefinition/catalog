apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: (devel)
  name: testexecutions.tests.testkube.io
spec:
  group: tests.testkube.io
  names:
    kind: TestExecution
    listKind: TestExecutionList
    plural: testexecutions
    singular: testexecution
  scope: Namespaced
  versions:
  - name: v1
    schema:
      openAPIV3Schema:
        properties:
          apiVersion:
            type: string
          kind:
            type: string
          metadata:
            type: object
          spec:
            properties:
              executionRequest:
                properties:
                  activeDeadlineSeconds:
                    format: int64
                    type: integer
                  args:
                    items:
                      type: string
                    type: array
                  argsMode:
                    enum:
                    - append
                    - override
                    - replace
                    type: string
                  artifactRequest:
                    properties:
                      dirs:
                        items:
                          type: string
                        type: array
                      masks:
                        items:
                          type: string
                        type: array
                      omitFolderPerExecution:
                        type: boolean
                      sharedBetweenPods:
                        type: boolean
                      sidecarScraper:
                        type: boolean
                      storageBucket:
                        type: string
                      storageClassName:
                        type: string
                      useDefaultStorageClassName:
                        type: boolean
                      volumeMountPath:
                        type: string
                    type: object
                  command:
                    items:
                      type: string
                    type: array
                  cronJobTemplate:
                    type: string
                  disableWebhooks:
                    type: boolean
                  envConfigMaps:
                    items:
                      properties:
                        mapToVariables:
                          type: boolean
                        mount:
                          type: boolean
                        mountPath:
                          type: string
                        reference:
                          properties:
                            name:
                              default: ""
                              type: string
                          type: object
                          x-kubernetes-map-type: atomic
                      required:
                      - reference
                      type: object
                    type: array
                  envSecrets:
                    items:
                      properties:
                        mapToVariables:
                          type: boolean
                        mount:
                          type: boolean
                        mountPath:
                          type: string
                        reference:
                          properties:
                            name:
                              default: ""
                              type: string
                          type: object
                          x-kubernetes-map-type: atomic
                      required:
                      - reference
                      type: object
                    type: array
                  envs:
                    additionalProperties:
                      type: string
                    type: object
                  executePostRunScriptBeforeScraping:
                    type: boolean
                  executionLabels:
                    additionalProperties:
                      type: string
                    type: object
                  executionNamespace:
                    type: string
                  httpProxy:
                    type: string
                  httpsProxy:
                    type: string
                  image:
                    type: string
                  imagePullSecrets:
                    items:
                      properties:
                        name:
                          default: ""
                          type: string
                      type: object
                      x-kubernetes-map-type: atomic
                    type: array
                  isVariablesFileUploaded:
                    type: boolean
                  jobTemplate:
                    type: string
                  name:
                    type: string
                  namespace:
                    type: string
                  negativeTest:
                    type: boolean
                  number:
                    format: int32
                    type: integer
                  postRunScript:
                    type: string
                  preRunScript:
                    type: string
                  runningContext:
                    properties:
                      context:
                        type: string
                      type:
                        enum:
                        - user-cli
                        - user-ui
                        - testsuite
                        - testtrigger
                        - scheduler
                        - testexecution
                        - testsuiteexecution
                        - testworkflow
                        type: string
                    required:
                    - type
                    type: object
                  scraperTemplate:
                    type: string
                  secretEnvs:
                    additionalProperties:
                      type: string
                    type: object
                  slavePodRequest:
                    properties:
                      podTemplate:
                        type: string
                      podTemplateReference:
                        type: string
                      resources:
                        properties:
                          limits:
                            properties:
                              cpu:
                                type: string
                              memory:
                                type: string
                            type: object
                          requests:
                            properties:
                              cpu:
                                type: string
                              memory:
                                type: string
                            type: object
                        type: object
                    type: object
                  sourceScripts:
                    type: boolean
                  sync:
                    type: boolean
                  testSecretUUID:
                    type: string
                  testSuiteName:
                    type: string
                  testSuiteSecretUUID:
                    type: string
                  variables:
                    additionalProperties:
                      properties:
                        name:
                          type: string
                        type:
                          type: string
                        value:
                          type: string
                        valueFrom:
                          properties:
                            configMapKeyRef:
                              properties:
                                key:
                                  type: string
                                name:
                                  default: ""
                                  type: string
                                optional:
                                  type: boolean
                              required:
                              - key
                              type: object
                              x-kubernetes-map-type: atomic
                            fieldRef:
                              properties:
                                apiVersion:
                                  type: string
                                fieldPath:
                                  type: string
                              required:
                              - fieldPath
                              type: object
                              x-kubernetes-map-type: atomic
                            resourceFieldRef:
                              properties:
                                containerName:
                                  type: string
                                divisor:
                                  anyOf:
                                  - type: integer
                                  - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                resource:
                                  type: string
                              required:
                              - resource
                              type: object
                              x-kubernetes-map-type: atomic
                            secretKeyRef:
                              properties:
                                key:
                                  type: string
                                name:
                                  default: ""
                                  type: string
                                optional:
                                  type: boolean
                              required:
                              - key
                              type: object
                              x-kubernetes-map-type: atomic
                          type: object
                      type: object
                    type: object
                  variablesFile:
                    type: string
                type: object
              test:
                properties:
                  name:
                    type: string
                  namespace:
                    type: string
                required:
                - name
                type: object
            required:
            - test
            type: object
          status:
            properties:
              generation:
                format: int64
                type: integer
              latestExecution:
                properties:
                  args:
                    items:
                      type: string
                    type: array
                  args_mode:
                    enum:
                    - append
                    - override
                    - replace
                    type: string
                  artifactRequest:
                    properties:
                      dirs:
                        items:
                          type: string
                        type: array
                      masks:
                        items:
                          type: string
                        type: array
                      omitFolderPerExecution:
                        type: boolean
                      sharedBetweenPods:
                        type: boolean
                      sidecarScraper:
                        type: boolean
                      storageBucket:
                        type: string
                      storageClassName:
                        type: string
                      useDefaultStorageClassName:
                        type: boolean
                      volumeMountPath:
                        type: string
                    type: object
                  bucketName:
                    type: string
                  command:
                    items:
                      type: string
                    type: array
                  containerShell:
                    type: string
                  content:
                    properties:
                      data:
                        type: string
                      repository:
                        properties:
                          authType:
                            enum:
                            - basic
                            - header
                            type: string
                          branch:
                            type: string
                          certificateSecret:
                            type: string
                          commit:
                            type: string
                          path:
                            type: string
                          tokenSecret:
                            properties:
                              key:
                                type: string
                              name:
                                type: string
                              namespace:
                                type: string
                            required:
                            - key
                            - name
                            type: object
                          type:
                            type: string
                          uri:
                            type: string
                          usernameSecret:
                            properties:
                              key:
                                type: string
                              name:
                                type: string
                              namespace:
                                type: string
                            required:
                            - key
                            - name
                            type: object
                          workingDir:
                            type: string
                        type: object
                      type:
                        enum:
                        - string
                        - file-uri
                        - git-file
                        - git-dir
                        - git
                        type: string
                      uri:
                        type: string
                    type: object
                  disableWebhooks:
                    type: boolean
                  duration:
                    type: string
                  durationMs:
                    format: int32
                    type: integer
                  endTime:
                    format: date-time
                    type: string
                  envs:
                    additionalProperties:
                      type: string
                    type: object
                  executePostRunScriptBeforeScraping:
                    type: boolean
                  executionNamespace:
                    type: string
                  executionResult:
                    properties:
                      errorMessage:
                        type: string
                      reports:
                        properties:
                          junit:
                            type: string
                        type: object
                      status:
                        enum:
                        - queued
                        - running
                        - passed
                        - failed
                        - aborted
                        - timeout
                        type: string
                      steps:
                        items:
                          properties:
                            assertionResults:
                              items:
                                properties:
                                  errorMessage:
                                    type: string
                                  name:
                                    type: string
                                  status:
                                    type: string
                                type: object
                              type: array
                            duration:
                              type: string
                            name:
                              type: string
                            status:
                              type: string
                          required:
                          - name
                          - status
                          type: object
                        type: array
                    required:
                    - status
                    type: object
                  id:
                    type: string
                  isVariablesFileUploaded:
                    type: boolean
                  labels:
                    additionalProperties:
                      type: string
                    type: object
                  name:
                    type: string
                  number:
                    format: int32
                    type: integer
                  postRunScript:
                    type: string
                  preRunScript:
                    type: string
                  runningContext:
                    properties:
                      context:
                        type: string
                      type:
                        enum:
                        - user-cli
                        - user-ui
                        - testsuite
                        - testtrigger
                        - scheduler
                        - testexecution
                        - testsuiteexecution
                        - testworkflow
                        type: string
                    required:
                    - type
                    type: object
                  slavePodRequest:
                    properties:
                      podTemplate:
                        type: string
                      podTemplateReference:
                        type: string
                      resources:
                        properties:
                          limits:
                            properties:
                              cpu:
                                type: string
                              memory:
                                type: string
                            type: object
                          requests:
                            properties:
                              cpu:
                                type: string
                              memory:
                                type: string
                            type: object
                        type: object
                    type: object
                  sourceScripts:
                    type: boolean
                  startTime:
                    format: date-time
                    type: string
                  testName:
                    type: string
                  testNamespace:
                    type: string
                  testSecretUUID:
                    type: string
                  testSuiteName:
                    type: string
                  testSuiteSecretUUID:
                    type: string
                  testType:
                    type: string
                  uploads:
                    items:
                      type: string
                    type: array
                  variables:
                    additionalProperties:
                      properties:
                        name:
                          type: string
                        type:
                          type: string
                        value:
                          type: string
                        valueFrom:
                          properties:
                            configMapKeyRef:
                              properties:
                                key:
                                  type: string
                                name:
                                  default: ""
                                  type: string
                                optional:
                                  type: boolean
                              required:
                              - key
                              type: object
                              x-kubernetes-map-type: atomic
                            fieldRef:
                              properties:
                                apiVersion:
                                  type: string
                                fieldPath:
                                  type: string
                              required:
                              - fieldPath
                              type: object
                              x-kubernetes-map-type: atomic
                            resourceFieldRef:
                              properties:
                                containerName:
                                  type: string
                                divisor:
                                  anyOf:
                                  - type: integer
                                  - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                resource:
                                  type: string
                              required:
                              - resource
                              type: object
                              x-kubernetes-map-type: atomic
                            secretKeyRef:
                              properties:
                                key:
                                  type: string
                                name:
                                  default: ""
                                  type: string
                                optional:
                                  type: boolean
                              required:
                              - key
                              type: object
                              x-kubernetes-map-type: atomic
                          type: object
                      type: object
                    type: object
                  variablesFile:
                    type: string
                type: object
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
