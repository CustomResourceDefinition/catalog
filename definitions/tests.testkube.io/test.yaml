apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: (devel)
  name: tests.tests.testkube.io
spec:
  group: tests.testkube.io
  names:
    kind: Test
    listKind: TestList
    plural: tests
    singular: test
  scope: Namespaced
  versions:
  - name: v1
    schema:
      openAPIV3Schema:
        properties:
          apiVersion:
            type: string
          kind:
            type: string
          metadata:
            type: object
          spec:
            properties:
              after:
                items:
                  properties:
                    delay:
                      properties:
                        duration:
                          format: int32
                          type: integer
                      type: object
                    execute:
                      properties:
                        name:
                          type: string
                        namespace:
                          type: string
                        stopOnFailure:
                          type: boolean
                      type: object
                    type:
                      type: string
                  type: object
                type: array
              before:
                items:
                  properties:
                    delay:
                      properties:
                        duration:
                          format: int32
                          type: integer
                      type: object
                    execute:
                      properties:
                        name:
                          type: string
                        namespace:
                          type: string
                        stopOnFailure:
                          type: boolean
                      type: object
                    type:
                      type: string
                  type: object
                type: array
              description:
                type: string
              repeats:
                type: integer
              steps:
                items:
                  properties:
                    delay:
                      properties:
                        duration:
                          format: int32
                          type: integer
                      type: object
                    execute:
                      properties:
                        name:
                          type: string
                        namespace:
                          type: string
                        stopOnFailure:
                          type: boolean
                      type: object
                    type:
                      type: string
                  type: object
                type: array
              tags:
                items:
                  type: string
                type: array
            type: object
          status:
            type: object
        type: object
    served: true
    storage: false
    subresources:
      status: {}
  - name: v2
    schema:
      openAPIV3Schema:
        properties:
          apiVersion:
            type: string
          kind:
            type: string
          metadata:
            type: object
          spec:
            properties:
              content:
                properties:
                  data:
                    type: string
                  repository:
                    properties:
                      branch:
                        type: string
                      commit:
                        type: string
                      path:
                        type: string
                      token:
                        type: string
                      type:
                        type: string
                      uri:
                        type: string
                      username:
                        type: string
                    required:
                    - type
                    - uri
                    type: object
                  type:
                    type: string
                  uri:
                    type: string
                type: object
              executorArgs:
                items:
                  type: string
                type: array
              name:
                type: string
              params:
                additionalProperties:
                  type: string
                type: object
              schedule:
                type: string
              type:
                type: string
              variables:
                additionalProperties:
                  properties:
                    name:
                      type: string
                    type:
                      type: string
                    value:
                      type: string
                    valueFrom:
                      properties:
                        configMapKeyRef:
                          properties:
                            key:
                              type: string
                            name:
                              default: ""
                              type: string
                            optional:
                              type: boolean
                          required:
                          - key
                          type: object
                          x-kubernetes-map-type: atomic
                        fieldRef:
                          properties:
                            apiVersion:
                              type: string
                            fieldPath:
                              type: string
                          required:
                          - fieldPath
                          type: object
                          x-kubernetes-map-type: atomic
                        resourceFieldRef:
                          properties:
                            containerName:
                              type: string
                            divisor:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            resource:
                              type: string
                          required:
                          - resource
                          type: object
                          x-kubernetes-map-type: atomic
                        secretKeyRef:
                          properties:
                            key:
                              type: string
                            name:
                              default: ""
                              type: string
                            optional:
                              type: boolean
                          required:
                          - key
                          type: object
                          x-kubernetes-map-type: atomic
                      type: object
                  type: object
                type: object
            type: object
          status:
            properties:
              executions_count:
                type: integer
              last_execution:
                format: date-time
                type: string
            type: object
        type: object
    served: true
    storage: false
    subresources:
      status: {}
  - additionalPrinterColumns:
    - jsonPath: .spec.type
      name: Type
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v3
    schema:
      openAPIV3Schema:
        properties:
          apiVersion:
            type: string
          kind:
            type: string
          metadata:
            type: object
          spec:
            properties:
              content:
                properties:
                  data:
                    type: string
                  repository:
                    properties:
                      authType:
                        enum:
                        - basic
                        - header
                        - github
                        type: string
                      branch:
                        type: string
                      certificateSecret:
                        type: string
                      commit:
                        type: string
                      path:
                        type: string
                      tokenSecret:
                        properties:
                          key:
                            type: string
                          name:
                            type: string
                        required:
                        - key
                        - name
                        type: object
                      type:
                        type: string
                      uri:
                        type: string
                      usernameSecret:
                        properties:
                          key:
                            type: string
                          name:
                            type: string
                        required:
                        - key
                        - name
                        type: object
                      workingDir:
                        type: string
                    type: object
                  type:
                    enum:
                    - string
                    - file-uri
                    - git-file
                    - git-dir
                    - git
                    type: string
                  uri:
                    type: string
                type: object
              description:
                type: string
              executionRequest:
                properties:
                  activeDeadlineSeconds:
                    format: int64
                    type: integer
                  args:
                    items:
                      type: string
                    type: array
                  argsMode:
                    enum:
                    - append
                    - override
                    - replace
                    type: string
                  artifactRequest:
                    properties:
                      dirs:
                        items:
                          type: string
                        type: array
                      masks:
                        items:
                          type: string
                        type: array
                      omitFolderPerExecution:
                        type: boolean
                      sharedBetweenPods:
                        type: boolean
                      sidecarScraper:
                        type: boolean
                      storageBucket:
                        type: string
                      storageClassName:
                        type: string
                      useDefaultStorageClassName:
                        type: boolean
                      volumeMountPath:
                        type: string
                    type: object
                  command:
                    items:
                      type: string
                    type: array
                  cronJobTemplate:
                    type: string
                  cronJobTemplateReference:
                    type: string
                  disableWebhooks:
                    type: boolean
                  envConfigMaps:
                    items:
                      properties:
                        mapToVariables:
                          type: boolean
                        mount:
                          type: boolean
                        mountPath:
                          type: string
                        reference:
                          properties:
                            name:
                              default: ""
                              type: string
                          type: object
                          x-kubernetes-map-type: atomic
                      required:
                      - reference
                      type: object
                    type: array
                  envSecrets:
                    items:
                      properties:
                        mapToVariables:
                          type: boolean
                        mount:
                          type: boolean
                        mountPath:
                          type: string
                        reference:
                          properties:
                            name:
                              default: ""
                              type: string
                          type: object
                          x-kubernetes-map-type: atomic
                      required:
                      - reference
                      type: object
                    type: array
                  envs:
                    additionalProperties:
                      type: string
                    type: object
                  executePostRunScriptBeforeScraping:
                    type: boolean
                  executionLabels:
                    additionalProperties:
                      type: string
                    type: object
                  executionNamespace:
                    type: string
                  httpProxy:
                    type: string
                  httpsProxy:
                    type: string
                  image:
                    type: string
                  imagePullSecrets:
                    items:
                      properties:
                        name:
                          default: ""
                          type: string
                      type: object
                      x-kubernetes-map-type: atomic
                    type: array
                  isVariablesFileUploaded:
                    type: boolean
                  jobTemplate:
                    type: string
                  jobTemplateReference:
                    type: string
                  name:
                    type: string
                  namespace:
                    type: string
                  negativeTest:
                    type: boolean
                  number:
                    format: int32
                    type: integer
                  postRunScript:
                    type: string
                  preRunScript:
                    type: string
                  pvcTemplate:
                    type: string
                  pvcTemplateReference:
                    type: string
                  scraperTemplate:
                    type: string
                  scraperTemplateReference:
                    type: string
                  secretEnvs:
                    additionalProperties:
                      type: string
                    type: object
                  slavePodRequest:
                    properties:
                      podTemplate:
                        type: string
                      podTemplateReference:
                        type: string
                      resources:
                        properties:
                          limits:
                            properties:
                              cpu:
                                type: string
                              memory:
                                type: string
                            type: object
                          requests:
                            properties:
                              cpu:
                                type: string
                              memory:
                                type: string
                            type: object
                        type: object
                    type: object
                  sourceScripts:
                    type: boolean
                  sync:
                    type: boolean
                  testSecretUUID:
                    type: string
                  testSuiteName:
                    type: string
                  testSuiteSecretUUID:
                    type: string
                  variables:
                    additionalProperties:
                      properties:
                        name:
                          type: string
                        type:
                          type: string
                        value:
                          type: string
                        valueFrom:
                          properties:
                            configMapKeyRef:
                              properties:
                                key:
                                  type: string
                                name:
                                  default: ""
                                  type: string
                                optional:
                                  type: boolean
                              required:
                              - key
                              type: object
                              x-kubernetes-map-type: atomic
                            fieldRef:
                              properties:
                                apiVersion:
                                  type: string
                                fieldPath:
                                  type: string
                              required:
                              - fieldPath
                              type: object
                              x-kubernetes-map-type: atomic
                            resourceFieldRef:
                              properties:
                                containerName:
                                  type: string
                                divisor:
                                  anyOf:
                                  - type: integer
                                  - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                resource:
                                  type: string
                              required:
                              - resource
                              type: object
                              x-kubernetes-map-type: atomic
                            secretKeyRef:
                              properties:
                                key:
                                  type: string
                                name:
                                  default: ""
                                  type: string
                                optional:
                                  type: boolean
                              required:
                              - key
                              type: object
                              x-kubernetes-map-type: atomic
                          type: object
                      type: object
                    type: object
                  variablesFile:
                    type: string
                type: object
              name:
                type: string
              schedule:
                type: string
              source:
                type: string
              type:
                type: string
              uploads:
                items:
                  type: string
                type: array
            type: object
          status:
            properties:
              latestExecution:
                properties:
                  endTime:
                    format: date-time
                    type: string
                  id:
                    type: string
                  number:
                    format: int32
                    type: integer
                  startTime:
                    format: date-time
                    type: string
                  status:
                    enum:
                    - queued
                    - running
                    - passed
                    - failed
                    - aborted
                    - timeout
                    type: string
                type: object
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
