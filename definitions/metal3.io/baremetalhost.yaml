apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: (devel)
  name: baremetalhosts.metal3.io
spec:
  group: metal3.io
  names:
    kind: BareMetalHost
    listKind: BareMetalHostList
    plural: baremetalhosts
    shortNames:
    - bmh
    - bmhost
    singular: baremetalhost
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Operational status
      jsonPath: .status.operationalStatus
      name: Status
      priority: 1
      type: string
    - description: Provisioning status
      jsonPath: .status.provisioning.state
      name: State
      type: string
    - description: Consumer using this host
      jsonPath: .spec.consumerRef.name
      name: Consumer
      type: string
    - description: Address of management controller
      jsonPath: .spec.bmc.address
      name: BMC
      priority: 1
      type: string
    - description: Whether the host is online or not
      jsonPath: .spec.online
      name: Online
      type: string
    - description: Type of the most recent error
      jsonPath: .status.errorType
      name: Error
      type: string
    - description: Time duration since creation of BaremetalHost
      jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        properties:
          apiVersion:
            type: string
          kind:
            type: string
          metadata:
            type: object
          spec:
            properties:
              architecture:
                type: string
              automatedCleaningMode:
                default: metadata
                enum:
                - metadata
                - disabled
                type: string
              bmc:
                properties:
                  address:
                    type: string
                  credentialsName:
                    type: string
                  disableCertificateVerification:
                    type: boolean
                required:
                - address
                - credentialsName
                type: object
              bootMACAddress:
                pattern: '[0-9a-fA-F]{2}(:[0-9a-fA-F]{2}){5}'
                type: string
              bootMode:
                enum:
                - UEFI
                - UEFISecureBoot
                - legacy
                type: string
              consumerRef:
                properties:
                  apiVersion:
                    type: string
                  fieldPath:
                    type: string
                  kind:
                    type: string
                  name:
                    type: string
                  namespace:
                    type: string
                  resourceVersion:
                    type: string
                  uid:
                    type: string
                type: object
                x-kubernetes-map-type: atomic
              customDeploy:
                properties:
                  method:
                    type: string
                required:
                - method
                type: object
              description:
                type: string
              disablePowerOff:
                type: boolean
              externallyProvisioned:
                type: boolean
              firmware:
                properties:
                  simultaneousMultithreadingEnabled:
                    enum:
                    - true
                    - false
                    type: boolean
                  sriovEnabled:
                    enum:
                    - true
                    - false
                    type: boolean
                  virtualizationEnabled:
                    enum:
                    - true
                    - false
                    type: boolean
                type: object
              hardwareProfile:
                type: string
              image:
                properties:
                  checksum:
                    type: string
                  checksumType:
                    enum:
                    - md5
                    - sha256
                    - sha512
                    - auto
                    type: string
                  format:
                    enum:
                    - raw
                    - qcow2
                    - vdi
                    - vmdk
                    - live-iso
                    type: string
                  url:
                    type: string
                required:
                - url
                type: object
              metaData:
                properties:
                  name:
                    type: string
                  namespace:
                    type: string
                type: object
                x-kubernetes-map-type: atomic
              networkData:
                properties:
                  name:
                    type: string
                  namespace:
                    type: string
                type: object
                x-kubernetes-map-type: atomic
              online:
                type: boolean
              preprovisioningNetworkDataName:
                type: string
              raid:
                properties:
                  hardwareRAIDVolumes:
                    items:
                      properties:
                        controller:
                          type: string
                        level:
                          enum:
                          - "0"
                          - "1"
                          - "2"
                          - "5"
                          - "6"
                          - 1+0
                          - 5+0
                          - 6+0
                          type: string
                        name:
                          maxLength: 64
                          type: string
                        numberOfPhysicalDisks:
                          minimum: 1
                          type: integer
                        physicalDisks:
                          items:
                            type: string
                          type: array
                        rotational:
                          type: boolean
                        sizeGibibytes:
                          minimum: 0
                          type: integer
                      required:
                      - level
                      type: object
                    nullable: true
                    type: array
                  softwareRAIDVolumes:
                    items:
                      properties:
                        level:
                          enum:
                          - "0"
                          - "1"
                          - 1+0
                          type: string
                        physicalDisks:
                          items:
                            properties:
                              deviceName:
                                type: string
                              hctl:
                                type: string
                              minSizeGigabytes:
                                minimum: 0
                                type: integer
                              model:
                                type: string
                              rotational:
                                type: boolean
                              serialNumber:
                                type: string
                              vendor:
                                type: string
                              wwn:
                                type: string
                              wwnVendorExtension:
                                type: string
                              wwnWithExtension:
                                type: string
                            type: object
                          minItems: 2
                          type: array
                        sizeGibibytes:
                          minimum: 0
                          type: integer
                      required:
                      - level
                      type: object
                    maxItems: 2
                    nullable: true
                    type: array
                type: object
              rootDeviceHints:
                properties:
                  deviceName:
                    type: string
                  hctl:
                    type: string
                  minSizeGigabytes:
                    minimum: 0
                    type: integer
                  model:
                    type: string
                  rotational:
                    type: boolean
                  serialNumber:
                    type: string
                  vendor:
                    type: string
                  wwn:
                    type: string
                  wwnVendorExtension:
                    type: string
                  wwnWithExtension:
                    type: string
                type: object
              taints:
                items:
                  properties:
                    effect:
                      type: string
                    key:
                      type: string
                    timeAdded:
                      format: date-time
                      type: string
                    value:
                      type: string
                  required:
                  - effect
                  - key
                  type: object
                type: array
              userData:
                properties:
                  name:
                    type: string
                  namespace:
                    type: string
                type: object
                x-kubernetes-map-type: atomic
            required:
            - online
            type: object
          status:
            properties:
              errorCount:
                default: 0
                type: integer
              errorMessage:
                type: string
              errorType:
                enum:
                - provisioned registration error
                - registration error
                - inspection error
                - preparation error
                - provisioning error
                - power management error
                - servicing error
                type: string
              goodCredentials:
                properties:
                  credentials:
                    properties:
                      name:
                        type: string
                      namespace:
                        type: string
                    type: object
                    x-kubernetes-map-type: atomic
                  credentialsVersion:
                    type: string
                type: object
              hardware:
                properties:
                  cpu:
                    properties:
                      arch:
                        type: string
                      clockMegahertz:
                        format: double
                      count:
                        type: integer
                      flags:
                        items:
                          type: string
                        type: array
                      model:
                        type: string
                    type: object
                  firmware:
                    properties:
                      bios:
                        properties:
                          date:
                            type: string
                          vendor:
                            type: string
                          version:
                            type: string
                        type: object
                    type: object
                  hostname:
                    type: string
                  nics:
                    items:
                      properties:
                        ip:
                          type: string
                        mac:
                          pattern: '[0-9a-fA-F]{2}(:[0-9a-fA-F]{2}){5}'
                          type: string
                        model:
                          type: string
                        name:
                          type: string
                        pxe:
                          type: boolean
                        speedGbps:
                          type: integer
                        vlanId:
                          format: int32
                          maximum: 4094
                          minimum: 0
                          type: integer
                        vlans:
                          items:
                            properties:
                              id:
                                format: int32
                                maximum: 4094
                                minimum: 0
                                type: integer
                              name:
                                type: string
                            type: object
                          type: array
                      type: object
                    type: array
                  ramMebibytes:
                    type: integer
                  storage:
                    items:
                      properties:
                        alternateNames:
                          items:
                            type: string
                          type: array
                        hctl:
                          type: string
                        model:
                          type: string
                        name:
                          type: string
                        rotational:
                          type: boolean
                        serialNumber:
                          type: string
                        sizeBytes:
                          format: int64
                          type: integer
                        type:
                          enum:
                          - HDD
                          - SSD
                          - NVME
                          type: string
                        vendor:
                          type: string
                        wwn:
                          type: string
                        wwnVendorExtension:
                          type: string
                        wwnWithExtension:
                          type: string
                      type: object
                    type: array
                  systemVendor:
                    properties:
                      manufacturer:
                        type: string
                      productName:
                        type: string
                      serialNumber:
                        type: string
                    type: object
                type: object
              hardwareProfile:
                type: string
              lastUpdated:
                format: date-time
                type: string
              operationHistory:
                properties:
                  deprovision:
                    properties:
                      end:
                        format: date-time
                        nullable: true
                        type: string
                      start:
                        format: date-time
                        nullable: true
                        type: string
                    type: object
                  inspect:
                    properties:
                      end:
                        format: date-time
                        nullable: true
                        type: string
                      start:
                        format: date-time
                        nullable: true
                        type: string
                    type: object
                  provision:
                    properties:
                      end:
                        format: date-time
                        nullable: true
                        type: string
                      start:
                        format: date-time
                        nullable: true
                        type: string
                    type: object
                  register:
                    properties:
                      end:
                        format: date-time
                        nullable: true
                        type: string
                      start:
                        format: date-time
                        nullable: true
                        type: string
                    type: object
                type: object
              operationalStatus:
                enum:
                - ""
                - OK
                - discovered
                - error
                - delayed
                - detached
                - servicing
                type: string
              poweredOn:
                type: boolean
              provisioning:
                properties:
                  ID:
                    type: string
                  bootMode:
                    enum:
                    - UEFI
                    - UEFISecureBoot
                    - legacy
                    type: string
                  customDeploy:
                    properties:
                      method:
                        type: string
                    required:
                    - method
                    type: object
                  firmware:
                    properties:
                      simultaneousMultithreadingEnabled:
                        enum:
                        - true
                        - false
                        type: boolean
                      sriovEnabled:
                        enum:
                        - true
                        - false
                        type: boolean
                      virtualizationEnabled:
                        enum:
                        - true
                        - false
                        type: boolean
                    type: object
                  image:
                    properties:
                      checksum:
                        type: string
                      checksumType:
                        enum:
                        - md5
                        - sha256
                        - sha512
                        - auto
                        type: string
                      format:
                        enum:
                        - raw
                        - qcow2
                        - vdi
                        - vmdk
                        - live-iso
                        type: string
                      url:
                        type: string
                    required:
                    - url
                    type: object
                  raid:
                    properties:
                      hardwareRAIDVolumes:
                        items:
                          properties:
                            controller:
                              type: string
                            level:
                              enum:
                              - "0"
                              - "1"
                              - "2"
                              - "5"
                              - "6"
                              - 1+0
                              - 5+0
                              - 6+0
                              type: string
                            name:
                              maxLength: 64
                              type: string
                            numberOfPhysicalDisks:
                              minimum: 1
                              type: integer
                            physicalDisks:
                              items:
                                type: string
                              type: array
                            rotational:
                              type: boolean
                            sizeGibibytes:
                              minimum: 0
                              type: integer
                          required:
                          - level
                          type: object
                        nullable: true
                        type: array
                      softwareRAIDVolumes:
                        items:
                          properties:
                            level:
                              enum:
                              - "0"
                              - "1"
                              - 1+0
                              type: string
                            physicalDisks:
                              items:
                                properties:
                                  deviceName:
                                    type: string
                                  hctl:
                                    type: string
                                  minSizeGigabytes:
                                    minimum: 0
                                    type: integer
                                  model:
                                    type: string
                                  rotational:
                                    type: boolean
                                  serialNumber:
                                    type: string
                                  vendor:
                                    type: string
                                  wwn:
                                    type: string
                                  wwnVendorExtension:
                                    type: string
                                  wwnWithExtension:
                                    type: string
                                type: object
                              minItems: 2
                              type: array
                            sizeGibibytes:
                              minimum: 0
                              type: integer
                          required:
                          - level
                          type: object
                        maxItems: 2
                        nullable: true
                        type: array
                    type: object
                  rootDeviceHints:
                    properties:
                      deviceName:
                        type: string
                      hctl:
                        type: string
                      minSizeGigabytes:
                        minimum: 0
                        type: integer
                      model:
                        type: string
                      rotational:
                        type: boolean
                      serialNumber:
                        type: string
                      vendor:
                        type: string
                      wwn:
                        type: string
                      wwnVendorExtension:
                        type: string
                      wwnWithExtension:
                        type: string
                    type: object
                  state:
                    type: string
                required:
                - ID
                - state
                type: object
              triedCredentials:
                properties:
                  credentials:
                    properties:
                      name:
                        type: string
                      namespace:
                        type: string
                    type: object
                    x-kubernetes-map-type: atomic
                  credentialsVersion:
                    type: string
                type: object
            required:
            - errorCount
            - errorMessage
            - operationalStatus
            - poweredOn
            - provisioning
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
